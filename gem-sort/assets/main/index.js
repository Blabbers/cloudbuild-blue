System.register("chunks:///_virtual/absolute.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"bf087/OgI9HIaIKP+ZWp/tU","absolute",void 0);t("default",r({menu:"Math/Advanced/Absolute",title:"Absolute"})(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[u("In",o.ZERO,"vec4","vector")],outputs:[u("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = abs("+t+");\n        "},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Action.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t._decorator}],execute:function(){var i;n._RF.push({},"5fe2cvoUotHiID7b0idGzK7","Action",void 0);var s=e.ccclass;t("Action",s("Action")(i=function(){function t(){this._listeners=[]}var n=t.prototype;return n.addListener=function(t){this._listeners.push(t)},n.removeListener=function(t){var n=this._listeners.indexOf(t);n>=0&&this._listeners.splice(n,1)},n.invoke=function(t){this._listeners.forEach((function(n){return n(t)}))},t}())||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/add.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,c,r,o,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){r=t.register},function(t){o=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"37762nev7BLgIRh9U7rJXkP","add",void 0);t("default",r({menu:"Math/Basic/Add",title:"Add"})(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Max,e.data={inputs:[u("A",c.ZERO,"vec4","vector"),u("B",c.ZERO,"vec4","vector")],outputs:[u("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = "+t+" + "+e+";\n        "},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/all.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,c,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){s=t.slot}],execute:function(){var u;n._RF.push({},"08b1ekFRoNLQ5UDBj6YtBOO","all",void 0);t("default",r({menu:"Logic/All",title:"All"})(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Min,e.data={inputs:[s("In",o.ZERO,"vec4","vector")],outputs:[s("Out",!1,"boolean","boolean")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){for(var t=this.getInputValue(0),e=this.getOutputVarDefine(0),n=["x","y","z","w"],o=[],r=this.slots[0].concretePrecision,c=0;c<r;c++)o.push("("+t+"."+n[c]+" > 0.)");return"\n            "+e+" = ("+o.join(" && ")+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/and.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,i,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.register},function(t){i=t.ShaderNode},function(t){r=t.ConcretePrecisionType},function(t){c=t.slot}],execute:function(){var a;n._RF.push({},"ad796qaJ35K1pVtAoiLAQwn","and",void 0);t("default",o({menu:"Logic/And",title:"And"})(a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).concretePrecisionType=r.Max,e.data={inputs:[c("A",!1,"boolean","boolean"),c("B",!1,"boolean","boolean")],outputs:[c("Out",!1,"boolean","boolean")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = ("+t+" && "+e+");\n        "},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/any.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,c,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){s=t.slot}],execute:function(){var u;n._RF.push({},"c213eN4ql1Fo5ECkorGOGam","any",void 0);t("default",r({menu:"Logic/Any",title:"Any"})(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Min,e.data={inputs:[s("In",o.ZERO,"vec4","vector")],outputs:[s("Out",!1,"boolean","boolean")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){for(var t=this.getInputValue(0),e=this.getOutputVarDefine(0),n=["x","y","z","w"],o=[],r=this.slots[0].concretePrecision,c=0;c<r;c++)o.push("("+t+"."+n[c]+" > 0.)");return"\n            "+e+" = ("+o.join(" || ")+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/APIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./GameplayController.ts","./PokiPlatform.ts","./Singleton.ts"],(function(e){var r,t,n,a,o,l,i,c,s,u,p,d,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,s=e.game,u=e.Component},null,function(e){p=e.GameplayController},function(e){d=e.CCPokiSDK},function(e){f=e.Singleton}],execute:function(){var y,m,g,k,h;i._RF.push({},"b03ce1eDf5E0p3+N6cGWNSK","APIController",void 0);var C=c.ccclass,B=c.property;e("APIController",(y=C("APIController"),m=B(),y((h=r((k=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,n(r,"editorResult",h,a(r)),r.isOnGameplay=!1,r._rewardedBreakCallback=null,r}t(r,e);var i=r.prototype;return i.onLoad=function(){f.set(this)},i.initializeAPI=function(){},i.notifyFinishedLoading=function(){},i.gameplayStarted=function(){this.isOnGameplay||(this.isOnGameplay=!0,console.log("APIController.gameplayStarted()"),d.gameplayStart())},i.gameplayStopped=function(){this.isOnGameplay&&(this.isOnGameplay=!1,console.log("APIController.gameplayStopped()"),d.gameplayStop())},i.commercialBreak=function(e){d.isAdBlocked()?null==e||e():(s.on(d.EVENT_COMMERCIAL_BREAK_DONE,(function(){return e()}),this),d.gameplayStop(),d.commercialBreak())},i.rewardedBreak=function(){var e=o(l().mark((function e(r,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("APIController.rewardedBreak()"),e.next=8;break;case 5:return f.get(p).toggleAd(!1),r(this.editorResult),e.abrupt("return");case 8:d.isAdBlocked()?r(!1):(this._rewardedBreakCallback=r,s.on(d.EVENT_REWARD_BREAK_DONE,this.onRewardBreakDone,this),d.gameplayStop(),d.rewardBreak());case 9:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}(),i.onRewardBreakDone=function(){var e=arguments[0];console.log("APIController.onRewardBreakDone() success? "+e),d.gameplayStart(),this._rewardedBreakCallback&&(this._rewardedBreakCallback(e),this._rewardedBreakCallback=null)},r}(u)).prototype,"editorResult",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=k))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/arccosine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,c,r,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){r=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var s;n._RF.push({},"d296eo8ejhAz4SJ+Afh3Ceo","arccosine",void 0);t("default",r({menu:"Math/Trigonometry/Arccosine",title:"Arccosine"})(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[i("In",c.ZERO,"vec4","vector")],outputs:[i("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = acos("+t+");\n        "},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/arcsine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){i=t.ShaderNode},function(t){o=t.slot}],execute:function(){var s;n._RF.push({},"63135dmizRJ4Jf8BpVKF+Wm","arcsine",void 0);t("default",c({menu:"Math/Trigonometry/Arcsine",title:"Arcsine"})(s=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = asin("+t+");\n        "},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/arctangent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var a;n._RF.push({},"2986999N5lOG433MyYF3lBY","arctangent",void 0);t("default",c({menu:"Math/Trigonometry/Arctangent",title:"Arctangent"})(a=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = atan("+t+");\n        "},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/arctangent2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){a=t.slot}],execute:function(){var i;n._RF.push({},"2a9c8rn4+VHWa4BXpsUBf1R","arctangent2",void 0);t("default",c({menu:"Math/Trigonometry/Arctangent2",title:"Arctangent2"})(i=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[a("A",r.ZERO,"vec4","vector"),a("B",r.ZERO,"vec4","vector")],outputs:[a("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = atan2("+t+", "+e+");\n        "},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtils.ts",["cc"],(function(){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"e860dkQNvBKoLGX9hI5lilB","ArrayUtils",void 0),Array.prototype.remove=function(t){var r=this.indexOf(t);r>-1&&this.splice(r,1)},Array.prototype.contains=function(t){return this.indexOf(t)>-1},Array.prototype.clear=function(){this.length=0},t._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Command.ts"],(function(n){var e,i,t,r,o,a,c;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator},function(n){c=n.Command}],execute:function(){var s,u,l,p;o._RF.push({},"7c4ecurdZpKxLBvjTsWyRf8","AsyncCommand",void 0);var d=a.ccclass,m=a.property;n("AsyncCommand",d("AsyncCommand")((l=e((u=function(n){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,t(e,"duration",l,r(e)),t(e,"waitUntilFinished",p,r(e)),e}return i(e,n),e}(c)).prototype,"duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),p=e(u.prototype,"waitUntilFinished",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=u))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Singleton.ts","./Game.ts"],(function(e){var i,t,u,r,o,c,n,s,l,a,m,p,h,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,u=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,n=e._decorator,s=e.AudioClip,l=e.AudioSource,a=e.Component,m=e.director,p=e.Director},null,function(e){h=e.Singleton},function(e){f=e.Game}],execute:function(){var S,y,g,d,v,M,T,k,V;c._RF.push({},"14ccdp0335NRrDCo3XRSzZD","AudioController",void 0);var b=n.ccclass,A=n.property;e("AudioController",(S=b("AudioController"),y=A({type:[s]}),g=A({type:l}),d=A({type:l}),S((T=i((M=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,u(i,"musicTracks",T,r(i)),u(i,"musicSource",k,r(i)),u(i,"gameplaySource",V,r(i)),i.currentTrackIndex=0,i.originalSFXVolume=0,i.originalMusicVolume=0,i}t(i,e);var c=i.prototype;return c.onLoad=function(){h.set(this)},c.start=function(){this.originalMusicVolume=this.musicSource.volume,this.originalSFXVolume=this.gameplaySource.volume},c.playMusic=function(){var e=this;0!==this.musicTracks.length&&this.musicSource&&(this.musicSource.clip=this.musicTracks[this.currentTrackIndex],this.musicSource.play(),this.musicSource.node.once(l.EventType.ENDED,(function(){e.currentTrackIndex=(e.currentTrackIndex+1)%e.musicTracks.length,e.playMusic()})))},c.playSFX=function(e,i){this.gameplaySource&&this.gameplaySource.playOneShot(e,i)},c.fadeMusicVolume=function(e,i){var t=this;if(void 0===i&&(i=.5),this.musicSource){var u=this.musicSource.volume,r=e-u,o=0;!function e(){o+=f.deltaTime;var c=Math.min(o/i,1);t.musicSource.volume=u+r*c,c<1&&m.once(p.EVENT_AFTER_UPDATE,e)}()}},c.muteMusic=function(e){var i=e?0:this.originalMusicVolume;this.musicSource.volume=i},c.muteSFX=function(e){var i=e?0:this.originalSFXVolume;this.gameplaySource.volume=i},c.resetMusicVolume=function(){this.fadeMusicVolume(this.originalMusicVolume,1)},o(i,[{key:"isMusicMuted",get:function(){return 0===this.musicSource.volume}},{key:"isSFXMuted",get:function(){return 0===this.gameplaySource.volume}}]),i}(a)).prototype,"musicTracks",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(M.prototype,"musicSource",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(M.prototype,"gameplaySource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/base.ts",["./rollupPluginModLoBabelHelpers.js","cc","./type.ts","./slot.ts"],(function(t){var e,i,n,o,s,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t.ValueType},function(t){o=t.ConcretePrecisionType,s=t.TextureConcretePrecision},function(t){r=t.ShaderSlot}],execute:function(){i._RF.push({},"d0751arZzVMdrvnQr4rAMJC","base",void 0);var c=t("ShaderNodeProp",(function(t,e){this.value=void 0,this.data=void 0,this.value=t instanceof n?t.clone():t,this.data=e}));t("ShaderNode",function(){function t(){this.priority=0,this.uuid="",this.slots=[],this.depChunks=[],this.defines=[],this.isMasterNode=!1,this.isPropertyNode=!1,this.concretePrecisionType=o.Min,this.fixedConcretePrecision=0,this.inputs=[],this.outputs=[],this.props=new Map,this.data={}}var i=t.prototype;return i.init=function(){var t=this;this.slots.length=0,this.inputs.length=0,this.outputs.length=0,this.data.inputs&&this.data.inputs.forEach((function(e){var i=new r(e,t);t.inputs.push(i),t.slots.push(i)})),this.data.outputs&&this.data.outputs.forEach((function(e){var i=new r(e,t);t.outputs.push(i),t.slots.push(i)})),this.data.props&&this.data.props.forEach((function(e){var i=new c(e.default,e);t.props.set(e.display,i)}))},i.beforeGenreateCode=function(){},i.addDependency=function(t){t!==this&&(this.deps.includes(t)||this.deps.push(t))},i.calcConcretePrecision=function(){var t=this;if(this.fixedConcretePrecision>0&&this.slots.forEach((function(e){e._concretePrecision=t.fixedConcretePrecision})),this.concretePrecisionType!==o.Fixed){var e=1;this.concretePrecisionType===o.Min?(e=999,this.inputs.forEach((function(t){var i=t.concretePrecision;t.connectSlot&&(i=t.connectSlot.concretePrecision),e=Math.min(e,i)}))):this.concretePrecisionType===o.Max?(e=-999,this.inputs.forEach((function(t){var i=t.concretePrecision;t.connectSlot&&(i=t.connectSlot.concretePrecision),e=Math.max(e,i)}))):this.concretePrecisionType===o.Texture?e=s.Texture2D:console.error("Not supported ConcretePrecisionType : "+this.concretePrecisionType),this.slots.forEach((function(t){t._concretePrecision=e}))}},i.setPriority=function(t){this.priority=Math.max(t,this.priority);for(var e=0;e<this.deps.length;e++)this.deps[e].setPriority(this.priority+1)},i.getPropWithName=function(t){var e;return this.props&&(e=this.props.get(t)),e||new c(null,null)},i.getSlotWithSlotName=function(t){return this.slots.find((function(e){return e.displayName===t}))},i.getOutputSlotWithSlotName=function(t){return this.outputs.find((function(e){return e.displayName===t}))},i.getOutputVarName=function(t){return this.outputs[t].varName},i.getOutputVarDefine=function(t){return this.outputs[t].varDefine},i.getInputValue=function(t){return this.inputs[t].slotValue},i.generateCode=function(){return""},e(t,[{key:"type",get:function(){return this.constructor.name}},{key:"deps",get:function(){var t=[];return this.inputs.forEach((function(e){e.connectSlot&&t.push(e.connectSlot.node)})),t}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/boolean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){c=t.ConcretePrecisionType},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"21fbes9bMJN6oBb3TRVMZZ3","boolean",void 0);t("default",o({menu:"Input/Basic/Boolean",title:"Boolean"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).concretePrecisionType=c.Fixed,e.data={inputs:[i("In",0,"float","vector")],outputs:[i("Out",0,"float","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = "+t+";\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterInputModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraController.ts","./index2.ts","./DragDropComponent.ts","./InputManager.ts","./HexGridController.ts","./HexSlot.ts","./BoostersController.ts","./MetagameBalance.ts","./Singleton.ts","./RaycastUtils.ts"],(function(e){var t,r,n,o,a,i,s,l,u,c,g,d,m,p,h,f,b,D,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.Camera,l=e.Layers,u=e.geometry,c=e.Component},function(e){g=e.CameraController},null,function(e){d=e.DragDropComponent,m=e.DragDropMode},function(e){p=e.InputManager},function(e){h=e.HexGridController},function(e){f=e.HexSlot},function(e){b=e.BoostersController},function(e){D=e.BoosterType},function(e){y=e.Singleton},function(e){v=e.RaycastUtils}],execute:function(){var I,C,L,M,S,E,k,B,F,w,R,O,A,z,P,T,V,H,x,U,_;a._RF.push({},"d34caP7ZThKqYvyvnEXtgkH","BoosterInputModule",void 0);var j=i.ccclass,G=i.property;e("BoosterInputModule",(I=j("BoosterInputModule"),C=G({type:Boolean,group:{name:"Runtime"}}),L=G({type:Number,group:{name:"Runtime"}}),M=G({type:Boolean,group:{name:"Runtime"}}),S=G({type:p}),E=G({type:d,group:{name:"Runtime"}}),k=G({type:g,group:{name:"Runtime"}}),B=G({type:s,group:{name:"Runtime"}}),F=G({type:l.Enum,group:{name:"Layers"},tooltip:"Layer for draggable object"}),w=G({type:l.Enum,group:{name:"Layers"},tooltip:"Layer for draggable slot"}),I((A=t((O=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,n(t,"isActive",A,o(t)),n(t,"boosterId",z,o(t)),n(t,"isDragging",P,o(t)),n(t,"input",T,o(t)),n(t,"currentItem",V,o(t)),n(t,"cameraControl",H,o(t)),n(t,"camera",x,o(t)),n(t,"draggableLayer",U,o(t)),n(t,"dragSlotLayer",_,o(t)),t.onDragStartLambda=void 0,t.onDragMovementLambda=void 0,t.onDragEndLambda=void 0,t.onForcedEndLambda=void 0,t}r(t,e);var a=t.prototype;return a.start=function(){this.input=y.get(p),this.setEvents(),this.cameraControl=y.get(g),this.camera||(this.camera=this.cameraControl.getCamera())},a.setEvents=function(){var e=this;this.onDragStartLambda=function(t){e.handleOnDragStart(t)},this.input.onDragStart.addListener(this.onDragStartLambda),this.onDragMovementLambda=function(t){e.handleOnDragMovement(t)},this.input.onDragMovement.addListener(this.onDragMovementLambda),this.onDragEndLambda=function(t){e.handleOnDragEnd(t)},this.input.onDragEnd.addListener(this.onDragEndLambda),this.onForcedEndLambda=function(){e.handleOnForcedMovementEnd()},this.input.onForcedMovementEnd.addListener(this.onForcedEndLambda)},a.handleOnValidDragCheck=function(e){var t=!1;if(this.boosterId===D.Hand){if(!(t=this.checkForValidDrag(e)))return!1;if(this.currentItem.currentSlot.isTower())return!1;if(this.currentItem.currentSlot.isOptionsTray)return!1}else{if(t=this.checkForValidDrag(e))if(!this.currentItem.getComponent(f).canBreak())return!1}return t||this.input.resetDrag(),!0},a.handleOnDragStart=function(e){var t;this.isActive&&(console.log("BoosterInputModule.handleOnDragStart("+e+")"),this.boosterId===D.Hand?this.checkForValidDrag(e)&&(null==(t=this.currentItem)||t.dragStart(e),y.get(h).startSwapPhase(),this.isDragging=!0):this.checkForValidBreak(e)&&(console.log("BoosterInputModule. Break it!!"),y.get(b).breakIt(this.currentItem.getComponent(f))))},a.handleOnDragMovement=function(e){var t;if(this.isActive&&this.currentItem&&this.isDragging){var r=new u.Ray;this.camera.screenPointToRay(e.x,e.y,r),null==(t=this.currentItem)||t.dragMovement(r)}},a.handleOnDragEnd=function(e){if(this.isActive&&this.currentItem&&this.isDragging){console.log("DragModuleTest.handleOnDragEnd("+e+")");var t={result:null};if(this.checkForDraggableSlot(e,t)){var r=t.result.node.getComponent(f);if(console.log("DragInputManager.dragEnded() FoundSlot: ",t.result.node.name),r.isEmpty()){var n,o;console.log("DragInputManager.dragEnded() Place in emptyPos"),null==(n=this.currentItem)||n.dropElement(t.result.node.getPosition(),t.result.node),y.get(h).placeStacksOnSlot(this.currentItem.currentSlot,t.result.currentSlot),null==(o=this.currentItem)||o.resetComponent(),y.get(b).confirmBooster(this.boosterId)}else{var a,i=this.currentItem.getComponent(f);if(i!==r)console.log("DragInputManager.dragEnded() SWAP VALUES"),null==(a=this.currentItem)||a.resetComponent(),y.get(h).swapValues(i,r),y.get(b).confirmBooster(this.boosterId);else this.resetSwapMode()}}else console.log("ResetPosition for: ",this.currentItem.node.name),this.resetSwapMode();this.isDragging=!1}},a.resetSwapMode=function(){var e;null==(e=this.currentItem)||e.resetElement(),y.get(h).startSwapBooster()},a.handleOnForcedMovementEnd=function(){this.isActive},a.checkForValidDrag=function(e){if(this.camera){var t={result:null},r=this.draggableLayer;if(!v.screenRaycast3D(e,this.camera,t,500,r)||!t.result)return this.currentItem=null,!1;var n=t.result.collider.node;if(!n)return!1;var o=n.getComponent(d);return o||(o=n.parent.getComponent(d)),o?o.currentMode!==m.Drag?(o.currentMode===m.Clickable&&(this.currentItem=o),!1):(this.currentItem=o,!0):!1}console.error("Camera is not assigned.")},a.checkForDraggableSlot=function(e,t){if(!this.camera)return console.error("Camera is not assigned."),!1;var r={result:null},n=this.dragSlotLayer;if(!v.screenRaycast3D(e,this.camera,r,500,n)||!r.result)return!1;var o=r.result.collider.node;if(!o)return!1;if(t.result=o.getComponent(d),t.result||(t.result=o.parent.getComponent(d)),!t.result)return!1;if(t.result.currentMode!==m.Drop)return!1;var a=t.result.node.getComponent(f);return!a.isAnimationLocked&&!a.isTower()},a.checkForValidBreak=function(e){if(this.camera){var t={result:null},r=this.draggableLayer,n=v.screenRaycast3D(e,this.camera,t,500,r);if(console.log("checkForValidBreak("+n+") - "+e),!n||!t.result)return this.currentItem=null,!1;var o=t.result.collider.node;if(!o)return!1;var a=o.getComponent(d);return a||(a=o.parent.getComponent(d)),a?(a.currentMode===m.Drag&&(this.currentItem=a),this.currentItem=a,!0):!1}console.error("Camera is not assigned.")},t}(c)).prototype,"isActive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=t(O.prototype,"boosterId",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(O.prototype,"isDragging",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=t(O.prototype,"input",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(O.prototype,"currentItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"cameraControl",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(O.prototype,"camera",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(O.prototype,"draggableLayer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Enum.DEFAULT}}),_=t(O.prototype,"dragSlotLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Enum.DEFAULT}}),R=O))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoostersController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemType.ts","./index2.ts","./CameraController.ts","./UI_BoostersDisplay.ts","./OptionsTray.ts","./InputManager.ts","./HexGridController.ts","./MetagameController.ts","./MetagameBalance.ts","./Action.ts","./Singleton.ts","./ProgressController.ts","./Wait.ts"],(function(t){var e,o,r,n,i,s,a,u,l,c,m,p,h,f,b,g,d,y,B,v,C,w,I,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,r=t.inheritsLoose,n=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,l=t.Enum,c=t.Node,m=t.Camera,p=t.Component},function(t){h=t.ItemType},null,function(t){f=t.CameraController},function(t){b=t.UI_BoostersDisplay},function(t){g=t.OptionsTray},function(t){d=t.InputManager},function(t){y=t.HexGridController},function(t){B=t.MetagameController},function(t){v=t.BoosterType},function(t){C=t.Action},function(t){w=t.Singleton},function(t){I=t.ProgressController},function(t){T=t.Wait}],execute:function(){var S,A,O,z,D,M,k,H,U,G,P,R,F,_,x,L,N,W,j,E,V,X,Z,q,J,K,Q,Y,$,tt,et,ot,rt,nt,it,st,at,ut,lt,ct,mt,pt,ht,ft,bt;a._RF.push({},"83b49STZXVI8aAA8CLNF258","BoostersController",void 0);var gt=u.ccclass,dt=u.property,yt=t("InventoryItem",(S=gt("InventoryItem"),A=dt({type:String}),O=dt({type:Number}),z=dt({type:String}),S((k=e((M=function(t,e,r){o(this,"itemID",k,this),o(this,"amount",H,this),o(this,"name",U,this),this.itemID=t,this.amount=e,this.name=r}).prototype,"itemID",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=e(M.prototype,"amount",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=e(M.prototype,"name",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=M))||D)),Bt=(t("Reward",(G=gt("Reward"),P=dt({type:h}),R=dt({type:Number}),G((x=e((_=function(){o(this,"itemType",x,this),o(this,"amount",L,this)}).prototype,"itemType",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(_.prototype,"amount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=_))||F)),function(t){return t[t.Free=0]="Free",t[t.Units=1]="Units",t[t.Gold=2]="Gold",t}(Bt||{})),vt=t("BoosterToggleData",(function(t,e){this.id=0,this.active=!1,this.id=t,this.active=e})),Ct=t("BoosterAmountData",(function(t,e){this.id=0,this.amount=0,this.id=t,this.amount=e}));t("BoostersController",(N=gt("BoostersController"),W=dt({type:l(Bt)}),j=dt({type:Number}),E=dt({type:Boolean}),V=dt({type:c}),X=dt({type:Boolean}),Z=dt({type:[yt]}),q=dt({type:[Boolean],group:"Runtime"}),J=dt({type:[Boolean],group:"Runtime"}),K=dt({type:m,group:"Runtime"}),Q=dt({type:f,group:"Runtime"}),Y=dt({type:B,group:"Components"}),$=dt({type:[h],group:"Components"}),tt=dt({type:g,group:"Components"}),N((rt=e((ot=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,o(e,"currentCost",rt,n(e)),o(e,"currentId",nt,n(e)),o(e,"hasOverride",it,n(e)),o(e,"currentBooster",st,n(e)),o(e,"validPos",at,n(e)),o(e,"boosters",ut,n(e)),o(e,"boosterAmountOverrides",lt,n(e)),o(e,"boosterStateOverrides",ct,n(e)),o(e,"mainCam",mt,n(e)),o(e,"cameraControl",pt,n(e)),o(e,"metagameControl",ht,n(e)),o(e,"boosterTypes",ft,n(e)),e.onBoosterClicked=new C,e.onBoosterAnimation=new C,e.onBoosterConfirmation=new C,o(e,"optionsTray",bt,n(e)),e.onBoosterCancel=new C,e.onTutorialOverride=new C,e.onBoosterAmountUpdate=new C,e}r(e,t);var a=e.prototype;return a.onLoad=function(){w.set(this)},a.initialize=function(){this.cameraControl=w.get(f),this.mainCam=this.cameraControl.getCamera(),this.optionsTray=w.get(g),this.getSavedBoosters(!0),this.updateBoosterDisplay()},a.getSavedBoosters=function(t){void 0===t&&(t=!1),t&&(this.boosters=new Array(this.boosterTypes.length));for(var e=0;e<this.boosterTypes.length;e++){var o,r=I.gameProgress.getItemById(this.boosterTypes[e].hashId),n=r[0];o=r[1]?new yt(n.itemID,n.amount,this.boosterTypes[e].name):new yt(this.boosterTypes[e].hashId,0,this.boosterTypes[e].name),t&&(this.boosterAmountOverrides.push(!1),this.boosterStateOverrides.push(!1)),this.boosters[e]=o}},a.setLevelData=function(){this.updateBoosterDisplay();for(var t=0;t<this.boosterAmountOverrides.length;t++)this.boosterAmountOverrides[t]=!1},a.setTutorialOverride=function(t){var e;this.boosterAmountOverrides[t]=!0,this.boosterStateOverrides[t]=!0,null==(e=this.onTutorialOverride)||e.invoke(new vt(t,!0))},a.removeTutorialOverrides=function(){for(var t=0;t<this.boosterAmountOverrides.length;t++)this.boosterStateOverrides[t]=!1},a.refreshBoosterDisplay=function(){this.getSavedBoosters(),this.updateBoosterDisplay()},a.updateBoosterDisplay=function(){for(var t=[],e=0;e<this.boosters.length;e++)t.push(this.boosters[e].amount);w.get(b).updateBoosterAmount(t)},a.breakIt=function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w.get(d).disableAllModules(),this.onBoosterAnimation.invoke(this.currentId),t.next=4,T.seconds(.5);case 4:e.breakSlot(),this.confirmBooster(this.currentId);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.checkCanUseBooster=function(t){this.boosterTypes[t];var e,o=this.boosterAmountOverrides[t];if(null==(e=this.onBoosterClicked)||e.invoke(t),this.boosters[t].amount>0||o)return this.currentCost=Bt.Units,o&&(this.currentCost=Bt.Free),!0;var r=this.metagameControl.data.boosterCosts[t].cost;return console.log("currentGold: "+this.metagameControl.getCurrentGold()+" goldCost: "+r),this.metagameControl.getCurrentGold()>=r&&(this.currentCost=Bt.Gold,!0)},a.enableBoosterMode=function(t){this.currentId=t,console.log("BoosterController.enableBoosterMode "+t),t===v.Shuffle?(this.optionsTray.shuffleBooster(),this.confirmBooster(t)):(this.cameraControl.tiltForward(),this.optionsTray.toggleInteractability(!1),w.get(d).toggleBoosterModule(!0,t),t===v.Hammer?w.get(y).toggleHammerBooster(!0):t===v.Hand&&w.get(y).startSwapBooster())},a.refreshBoosterMode=function(){w.get(d).boosterModule.isActive&&this.currentId!==v.Shuffle&&(this.currentId===v.Hammer?w.get(y).toggleHammerBooster(!0):this.currentId===v.Hand&&w.get(y).startSwapBooster())},a.confirmBooster=function(t){this.finishBooster(t,!0)},a.cancelBooster=function(){this.cancelBoosterUse(this.currentId)},a.cancelBoosterUse=function(t){this.finishBooster(t,!1)},a.finishBooster=function(t,e){if(t===v.Shuffle||(this.cameraControl.resetTilt(),this.optionsTray.toggleInteractability(!0),t===v.Hammer?w.get(y).toggleHammerBooster(!1):t===v.Hand&&w.get(y).endSwapBooster()),w.get(d).toggleBoosterModule(!1,-1),e){var o,r;if(this.currentCost===Bt.Units)I.gameProgress.consumeItem(this.boosters[t].itemID,1),this.refreshSavedBoosters();else if(this.currentCost===Bt.Gold){var n=this.metagameControl.data.boosterCosts[t].cost;this.metagameControl.metagame_SpendGold(n)}null==(o=this.onBoosterConfirmation)||o.invoke(new vt(t,this.boosterStateOverrides[t])),null==(r=this.onBoosterAmountUpdate)||r.invoke(new Ct(t,this.boosters[t].amount))}},a.refreshSavedBoosters=function(){for(var t=0;t<this.boosterTypes.length;t++){var e=I.gameProgress.getItemById(this.boosterTypes[t].hashId),o=e[0];e[1]&&(this.boosters[t]=new yt(o.itemID,o.amount,this.boosterTypes[t].name))}},e}(p)).prototype,"currentCost",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bt.Units}}),nt=e(ot.prototype,"currentId",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),it=e(ot.prototype,"hasOverride",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),st=e(ot.prototype,"currentBooster",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(ot.prototype,"validPos",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ut=e(ot.prototype,"boosters",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=e(ot.prototype,"boosterAmountOverrides",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e(ot.prototype,"boosterStateOverrides",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(ot.prototype,"mainCam",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(ot.prototype,"cameraControl",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(ot.prototype,"metagameControl",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(ot.prototype,"boosterTypes",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=e(ot.prototype,"optionsTray",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=ot))||et));a._RF.pop()}}}));

System.register("chunks:///_virtual/branch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,c,r,o,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,c=e.Vec4},function(e){r=e.register},function(e){o=e.ShaderNode},function(e){i=e.ConcretePrecisionType},function(e){u=e.slot}],execute:function(){var a;n._RF.push({},"2f31f/lK6hGfInMVVNdS8Sy","branch",void 0);e("default",r({menu:"Logic/Branch",title:"Branch"})(a=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).concretePrecisionType=i.Max,t.data={inputs:[u("Predicate",!1,"boolean","boolean"),u("True",c.ZERO,"vec4","vector"),u("False",c.ZERO,"vec4","vector")],outputs:[u("Out",c.ZERO,"vec4","vector")]},t}t(n,e);var r=n.prototype;return r.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = ("+e+") ? ("+t+") : ("+n+");\n        "},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleLoad2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,n,t,r,l,a,i,u,s,c,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,i=e.SpriteFrame,u=e.Texture2D,s=e.assetManager,c=e.JsonAsset,d=e.Component}],execute:function(){var p,f,g,y,b,L,h;l._RF.push({},"104bdtyBtRBz75hx6sbcjAK","BundleLoad2",void 0);var v=a.ccclass,B=a.property;e("BundleLoad2",(p=v("BundleLoad2"),f=B(i),g=B(u),p((L=o((b=function(e){function o(){for(var o,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return o=e.call.apply(e,[this].concat(l))||this,t(o,"spriteComponent",L,r(o)),t(o,"texture1",h,r(o)),o}n(o,e);var l=o.prototype;return l.start=function(){this.testLoadLanguage()},l.testLoadLanguage=function(){var e="bundle1",o="language";s.loadBundle(e,(function(n,t){n?console.error("Failed to load bundle:",n):(console.log("Bundle loaded successfully:",e),t.load(o,c,(function(e,n){if(e)console.error("Failed to load JSON file:",e);else{console.log("JSON file loaded successfully:",o);var t=n.json;console.log("Loaded language data:",t)}})))}))},o}(d)).prototype,"spriteComponent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=o(b.prototype,"texture1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/BundleLoadTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,o,l,r,i,a,d,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,a=e.SpriteFrame,d=e.assetManager,u=e.Component}],execute:function(){var c,s,p,h,f;r._RF.push({},"2e1e3oxpKRDDJ1q+mxIrI93","BundleLoadTest",void 0);var B=i.ccclass,y=i.property;e("BundleLoadTest",(c=B("BundleLoadTest"),s=y(a),c((f=n((h=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n=e.call.apply(e,[this].concat(r))||this,o(n,"mySprite",f,l(n)),n.cachedBundle=null,n}t(n,e);var r=n.prototype;return r.start=function(){this.loadBundle("bundle1",this.onBundleLoaded.bind(this))},r.loadBundle=function(e,n){var t=this;this.cachedBundle?n(null,this.cachedBundle):d.loadBundle(e,(function(e,o){e||(t.cachedBundle=o),n(e,o)}))},r.onBundleLoaded=function(e,n){e?console.error("Failed to load bundle: "+e):(console.log("Bundle loaded successfully: "+n.name),this.loadSprite(this.cachedBundle))},r.loadSprite=function(e){var n=this;e.load("loaded",a,(function(e,t){e?console.error(e):(n.mySprite=t,console.log("Sprite loaded successfully: "+t.name))}))},n}(u)).prototype,"mySprite",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./HexGridController.ts","./OptionsTray.ts","./Singleton.ts","./CameraUtils.ts","./VectorUtils.ts"],(function(t){var e,r,n,i,o,a,u,s,l,c,p,h,g,f,m,b,y,d,w,R,C,v,P,z,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,l=t.Vec2,c=t.Node,p=t.Camera,h=t.input,g=t.Input,f=t.Vec3,m=t.view,b=t.math,y=t.Quat,d=t.tween,w=t.KeyCode,R=t.Component},null,function(t){C=t.HexGridController},function(t){v=t.OptionsTray},function(t){P=t.Singleton},function(t){z=t.CameraUtils},function(t){D=t.VectorUtils}],execute:function(){var A,k,x,L,T,E,S,H,O,V,X,N,_,K,M,U,F,I,G,Y,q,B,W,j,Q,J,Z,$,tt,et,rt,nt,it,ot,at,ut,st,lt,ct,pt,ht;u._RF.push({},"25999XVtSRLooY27OineLV8","CameraController",void 0);var gt=s.ccclass,ft=s.property;t("CameraController",(A=gt("CameraController"),k=ft(),x=ft({type:l}),L=ft(),T=ft(),E=ft({type:Number,range:[5,20],slide:!0}),S=ft({type:Number}),H=ft({type:Boolean,group:"Runtime"}),O=ft({type:l,group:"Runtime"}),V=ft({type:l,group:"Runtime"}),X=ft({type:l,group:"Runtime"}),N=ft({type:l,group:"Runtime"}),_=ft({type:Number,group:"Runtime"}),K=ft({type:Number,group:"Runtime"}),M=ft({type:Number,group:"Runtime"}),U=ft({type:Number,group:"Runtime"}),F=ft({type:c,group:"Runtime"}),I=ft({type:v,group:"Runtime"}),G=ft({type:p,group:"Components"}),Y=ft({type:c,group:"Components"}),A((W=e((B=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"rotateCamera",W,i(e)),n(e,"cameraOrtoDistance",j,i(e)),n(e,"lerpDuration",Q,i(e)),n(e,"tiltDuration",J,i(e)),n(e,"tiltAngle",Z,i(e)),n(e,"maxHeightPercentage",$,i(e)),n(e,"isRotationLocked",tt,i(e)),n(e,"centerPos",et,i(e)),n(e,"gridScreenCenter",rt,i(e)),n(e,"startRotationPos",nt,i(e)),n(e,"startDir",it,i(e)),n(e,"startAngle",ot,i(e)),n(e,"currentAngle",at,i(e)),n(e,"maxHeightDistance",ut,i(e)),n(e,"startXRot",st,i(e)),n(e,"rotationParent",lt,i(e)),n(e,"optionsTray",ct,i(e)),n(e,"mainCamera",pt,i(e)),n(e,"centerMarker",ht,i(e)),e}r(e,t);var u=e.prototype;return u.onLoad=function(){P.set(this)},u.start=function(){h.on(g.EventType.KEY_DOWN,this.onKeyDown,this)},u.setLevelData=function(t){this.centerPos=P.get(C).activeCenter,this.optionsTray=P.get(v),this.centerMarker.worldPosition=this.centerPos;var e=new f;this.node.rotation.getEulerAngles(e),this.startXRot=e.x;var r=m.getVisibleSize(),n=new l;if(n.set(r.width,r.height),this.maxHeightDistance=r.height*this.maxHeightPercentage,this.mainCamera.orthoHeight=b.lerp(this.cameraOrtoDistance.x,this.cameraOrtoDistance.y,t),this.gridScreenCenter=new l(n.x/2,n.y/2),this.resetCamera(),this.rotateCamera){this.rotationParent=this.node;var i=this.optionsTray.node,o=i.worldPosition.clone(),a=i.worldRotation.clone();i.setParent(this.node),i.worldPosition=o,i.worldRotation=a,i.position=new f(0,.9,i.position.z)}else this.rotationParent=P.get(C).node},u.endLevel=function(){var t=new y;this.rotationParent.rotation=y.fromEuler(t,this.startXRot,0,0),this.startRotationPos=new l(0,0),this.startDir=new l(0,0),this.currentAngle=0,this.startAngle=0},u.resetCamera=function(){this.mainCamera.node.position=new f(0,14.828,0);var t=new f(-90,0,0),e=new y;y.fromEuler(e,t.x,t.y,t.z),this.mainCamera.node.rotation=e;var r=new f(this.startXRot,0,0),n=new y;y.fromEuler(n,r.x,r.y,r.z),this.node.rotation=n},u.checkForValidRotation=function(t){return!this.isRotationLocked&&(this.startRotationPos=z.cursorToRelativePosition(t),!(l.distance(this.startRotationPos,this.gridScreenCenter)>=this.maxHeightDistance))},u.startRotation=function(t){return!this.isRotationLocked&&(this.startDir=this.gridScreenCenter.clone().subtract(this.startRotationPos),!0)},u.rotateGrid=function(t){var e=this.gridScreenCenter.clone().subtract(z.cursorToRelativePosition(t)),r=D.signedAngle2d(e.normalize(),this.startDir),n=new y;this.currentAngle=this.startAngle-r,this.rotateCamera?(this.rotationParent.rotation=y.fromEuler(n,this.startXRot,-this.currentAngle,0),this.optionsTray.updateTrayRotation(this.currentAngle)):this.rotationParent.rotation=y.fromEuler(n,0,this.currentAngle,0)},u.endRotation=function(){var t=o(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.toggleLockRotation(!0),e=this.findClosestValidAngle(this.currentAngle),this.startAngle=e,r=new y,!this.rotateCamera){t.next=9;break}return t.next=7,this.lerpReset(y.fromEuler(r,this.startXRot,-e,0),this.lerpDuration);case 7:t.next=10;break;case 9:this.rotationParent.rotation=y.fromEuler(r,0,e,0);case 10:this.toggleLockRotation(!1),this.currentAngle=e;case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.findClosestValidAngle=function(t){return t>=0?60*Math.round(t/60):-60*Math.round(-t/60)},u.lerpReset=function(){var t=o(a().mark((function t(e,r){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){d(n.node).to(r,{rotation:e},{easing:"quadInOut",onUpdate:function(t){var e=new f;t.rotation.getEulerAngles(e),n.optionsTray.updateTrayRotation(-e.y)}}).call((function(){t()})).start()})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),u.tutorialLockRotation=function(){this.toggleLockRotation(!0)},u.tutorialUnlockRotation=function(){this.toggleLockRotation(!1)},u.toggleLockRotation=function(t){this.isRotationLocked=t},u.tiltForward=function(){var t=20-this.tiltAngle,e=new f(t,0,0),r=new y;y.fromEuler(r,e.x,e.y,e.z),d(this.node).to(this.tiltDuration,{rotation:r},{easing:"quadInOut"}).start()},u.resetTilt=function(){var t=new f(this.startXRot,0,0),e=new y;y.fromEuler(e,t.x,t.y,t.z),d(this.node).to(this.tiltDuration,{rotation:e},{easing:"quadInOut"}).start()},u.getCamera=function(){return this.mainCamera},u.getCameraRotation=function(){return this.node.rotation},u.getCurrentAngle=function(){return this.currentAngle},u.onKeyDown=function(t){t.keyCode===w.KEY_W&&this.tiltForward(),t.keyCode===w.KEY_S&&this.resetTilt()},e}(R)).prototype,"rotateCamera",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=e(B.prototype,"cameraOrtoDistance",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(4,5.25)}}),Q=e(B.prototype,"lerpDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),J=e(B.prototype,"tiltDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.75}}),Z=e(B.prototype,"tiltAngle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),$=e(B.prototype,"maxHeightPercentage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),tt=e(B.prototype,"isRotationLocked",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),et=e(B.prototype,"centerPos",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(B.prototype,"gridScreenCenter",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(B.prototype,"startRotationPos",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(B.prototype,"startDir",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(B.prototype,"startAngle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=e(B.prototype,"currentAngle",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ut=e(B.prototype,"maxHeightDistance",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),st=e(B.prototype,"startXRot",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lt=e(B.prototype,"rotationParent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(B.prototype,"optionsTray",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(B.prototype,"mainCamera",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(B.prototype,"centerMarker",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=B))||q));u._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtils.ts",["cc"],(function(e){var t,o,i,n,r;return{setters:[function(e){t=e.cclegacy,o=e._decorator,i=e.view,n=e.Vec2,r=e.Vec3}],execute:function(){var c;t._RF.push({},"b923anvDUZJPrVykZaTCJsH","CameraUtils",void 0);var s=o.ccclass;o.property,e("CameraUtils",s("CameraUtils")(c=function(){function e(){}return e.cursorToRelativePosition=function(e){var t=i.getVisibleSize(),o=new n;return o.set(t.width,t.height),this.convertToRelativeResolution(e,o)},e.worldToUIPosition_Clamped=function(e,t,o,c,s,a,v){void 0===c&&(c=0),void 0===s&&(s=0);var l=i.getVisibleSize(),u=new n;u.set(l.width,l.height);var w=e.worldPosition,d=t.worldToScreen(w),h=this.convertToRelativeResolution(new n(d.x,d.y),u),R=o.convertToNodeSpaceAR(new r(h.x,h.y,0));return new r(R.x+c,R.y+s,R.z)},e.worldToUIPosition=function(e,t,o,c,s){void 0===c&&(c=0),void 0===s&&(s=0);var a=i.getVisibleSize(),v=new n;v.set(a.width,a.height);var l=e.worldPosition,u=t.worldToScreen(l),w=this.convertToRelativeResolution(new n(u.x,u.y),v),d=o.convertToNodeSpaceAR(new r(w.x,w.y,0));return new r(d.x+c,d.y+s,d.z)},e.convertToRelativeResolution=function(e,t){var o=i.getViewportRect().width,r=i.getViewportRect().height,c=e.x/o,s=e.y/r;return new n(c*t.x,s*t.y)},e}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ceil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,c,i,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){i=t.register},function(t){r=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;n._RF.push({},"9c519gjpitF6YbEaQTLOEve","ceil",void 0);t("default",i({menu:"Math/Round/Ceil",title:"Ceil"})(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).data={inputs:[o("In",c.ZERO,"vec4","vector")],outputs:[o("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var i=n.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = ceil("+t+");\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/clamp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,c,r,u,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){r=t.register},function(t){u=t.ShaderNode},function(t){o=t.slot}],execute:function(){var a;n._RF.push({},"4637audjsFPEKaBJvnUsO5t","clamp",void 0);t("default",r({menu:"Math/Range/Clamp",title:"Clamp"})(a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[o("In",c.ZERO,"vec4","vector"),o("Min",c.ZERO,"vec4","vector"),o("Max",c.ZERO,"vec4","vector")],outputs:[o("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = clamp("+t+", "+e+", "+n+");\n        "},n}(u))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ClassScanner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommandDecorator.ts"],(function(e){var t,r,n,s,o,i,a,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,a=e._decorator,l=e.Component},function(e){c=e.registeredUserClasses}],execute:function(){var u,p,g,f,C;i._RF.push({},"1616bqXCy9Pz5pqh03W+F1t","ClassScanner",void 0);var y=a.ccclass,h=a.property;e("ClassScanner",(u=y("ClassScanner"),p=h({multiline:!0}),u((C=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"test",C,s(t)),t}r(t,e),t.getAllClasses=function(){var e=c.map((function(e){return e.name}));return console.log("User-Defined CCClasses:",e),e};var i=t.prototype;return i.otherTests=function(){this.test=""},i.start=function(){t.getAllClasses()},o(t,[{key:"pressButtonToTest",get:function(){return!1},set:function(e){console.log("-----------Testing registration-----------"),console.log("Current registeredUserClasses length:",c.length),console.log("Registered class names:",c.map((function(e){return e.name})))}}]),t}(l)).prototype,"test",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(f.prototype,"pressButtonToTest",[h],Object.getOwnPropertyDescriptor(f.prototype,"pressButtonToTest"),f.prototype),g=f))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/CollectMultiplierButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_DynamicTextLocalized.ts"],(function(t){var e,i,n,r,a,l,o,c,u,p,s,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Label,c=t.UIOpacity,u=t.Button,p=t.tween,s=t.Component},function(t){b=t.UI_DynamicTextLocalized}],execute:function(){var y,f,g,d,h,v,m,I,z,D,B,w,x;a._RF.push({},"351eaGzRWNB7JyCv05hpLco","CollectMultiplierButton",void 0);var O=l.ccclass,T=l.property;t("CollectMultiplierButton",(y=O("CollectMultiplierButton"),f=T({type:Boolean}),g=T({type:o}),d=T({type:b}),h=T({type:c}),v=T({type:u}),y((z=e((I=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"isInteractableOverride",z,r(e)),n(e,"numberDisplay",D,r(e)),n(e,"dynamicText",B,r(e)),n(e,"group",w,r(e)),n(e,"btn",x,r(e)),e}i(e,t);var a=e.prototype;return a.initialize=function(){this.toggleInteractable(!1),this.group.opacity=0},a.updateDisplay=function(t,e){this.dynamicText.updateText(t.toString()+"X"),this.numberDisplay.string=""+e.toString()},a.fadeIn=function(t,e){var i=this;void 0===e&&(e=!1),e?p(this.group).to(t,{opacity:255},{easing:"linear"}).start():p(this.group).to(t,{opacity:255},{easing:"linear"}).call((function(){return i.toggleInteractable(!0)})).start()},a.toggleInteractable=function(t){this.isInteractableOverride?this.btn.interactable=!1:this.btn.interactable=t},a.overrideIsInteractable=function(){this.isInteractableOverride=!0},a.removeOverride=function(){this.isInteractableOverride=!1},e}(s)).prototype,"isInteractableOverride",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=e(I.prototype,"numberDisplay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(I.prototype,"dynamicText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(I.prototype,"group",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"btn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/color.ts",["./rollupPluginModLoBabelHelpers.js","cc","./input-node.ts","./utils.ts","./index4.ts","./register.ts"],(function(t){var e,o,r,n,u,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t.Vec4},function(t){n=t.default},function(t){u=t.prop,c=t.slot},null,function(t){i=t.register}],execute:function(){var l;o._RF.push({},"e3d34kNDmBJC7P5ldMA5yga","color",void 0);t("default",i({menu:"Input/Basic/Color",title:"Color"})(l=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).fixedConcretePrecision=4,e.data={props:[u("Color",new r,"color")],outputs:[c("Out",new r,"vec4","vector")]},e}return e(o,t),o.prototype.generateCode=function(){var t=this.getPropWithName("Color").value;return"vec4 "+this.getOutputVarName(0)+" = vec4("+t.x+", "+t.y+", "+t.z+", "+t.w+");"},o}(n))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/combine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index4.ts","./base.ts","./type.ts","./utils.ts","./register.ts"],(function(t){var e,o,l,n,i,c,u,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,l=t.Vec4,n=t.Vec3,i=t.Vec2},null,function(t){c=t.ShaderNode},function(t){u=t.ConcretePrecisionType},function(t){r=t.slot},function(t){s=t.register}],execute:function(){var a;o._RF.push({},"c9cd7cUxzJGfqrBxyo6i9Gm","combine",void 0);t("default",s({menu:"Channel/Combine",title:"Combine"})(a=function(t){function o(){for(var e,o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))||this).concretePrecisionType=u.Fixed,e.data={inputs:[r("R",0,"float","vector"),r("G",0,"float","vector"),r("B",0,"float","vector"),r("A",0,"float","vector")],outputs:[r("RGBA",l.ZERO,"vec4","vector"),r("RGB",n.ZERO,"vec3","vector"),r("RG",i.ZERO,"vec2","vector")]},e}return e(o,t),o.prototype.generateCode=function(){var t=this.getSlotWithSlotName("R"),e=this.getSlotWithSlotName("G"),o=this.getSlotWithSlotName("B"),l=this.getSlotWithSlotName("A"),n=this.getSlotWithSlotName("RGBA"),i=this.getSlotWithSlotName("RGB"),c=this.getSlotWithSlotName("RG"),u="";return n&&n.connectSlot&&(u+=(null==n?void 0:n.varDefine)+" = vec4("+(null==t?void 0:t.slotValue)+", "+(null==e?void 0:e.slotValue)+", "+(null==o?void 0:o.slotValue)+", "+(null==l?void 0:l.slotValue)+");\n"),i&&i.connectSlot&&(u+=(null==i?void 0:i.varDefine)+" = vec3("+(null==t?void 0:t.slotValue)+", "+(null==e?void 0:e.slotValue)+", "+(null==o?void 0:o.slotValue)+");\n"),c&&c.connectSlot&&(u+=(null==c?void 0:c.varDefine)+" = vec2("+(null==t?void 0:t.slotValue)+", "+(null==e?void 0:e.slotValue)+");\n"),u},o}(c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ComboController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./HexGridController.ts","./HexSlot.ts","./TurnController.ts","./ObjectivesController.ts","./LevelAsset.ts","./Singleton.ts","./CameraUtils.ts","./Wait.ts"],(function(e){var o,t,r,n,i,s,l,a,u,c,p,h,f,w,C,d,m,g,b;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,a=e._decorator,u=e.Camera,c=e.UITransform,p=e.Component},null,function(e){h=e.HexGridController},function(e){f=e.HexSlot},function(e){w=e.TurnController},function(e){C=e.ObjectivesController},function(e){d=e.ObjectiveType},function(e){m=e.Singleton},function(e){g=e.CameraUtils},function(e){b=e.Wait}],execute:function(){var x,T,y,v,E,R,S,D,P,z,L,O,N,A,F,U,j,k,G,H,I,B,_;l._RF.push({},"51869EpMABNO6OWaNZjuue2","ComboController",void 0);var M=a.ccclass,W=a.property;e("ComboController",(x=M("ComboController"),T=W(),y=W({type:Number,group:"Output"}),v=W({type:Boolean,group:"Output"}),E=W({type:[f],group:"Output"}),R=W({type:[f],group:"Output"}),S=W({type:[Number],group:"Output"}),D=W({type:h,group:"Runtime"}),P=W({type:w,group:"Runtime"}),z=W({type:u,group:"Components"}),L=W({type:c,group:"Components"}),x((A=o((N=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return o=e.call.apply(e,[this].concat(i))||this,r(o,"refreshDelay",A,n(o)),r(o,"explosionCount",F,n(o)),r(o,"isRunningDelay",U,n(o)),r(o,"towers",j,n(o)),r(o,"towersToExplode",k,n(o)),r(o,"finalScores",G,n(o)),r(o,"hexGrid",H,n(o)),r(o,"turnControl",I,n(o)),r(o,"mainCam",B,n(o)),r(o,"parentCanvas",_,n(o)),o.refreshPromise=null,o.isCanceled=!1,o}t(o,e);var l=o.prototype;return l.onLoad=function(){m.set(this),this.refreshPromise=null},l.start=function(){this.hexGrid=m.get(h),this.turnControl=m.get(w)},l.startLevel=function(){this.explosionCount=0},l.endLevel=function(){this.towers.clear(),this.towersToExplode.clear(),this.finalScores.clear(),this.explosionCount=0,this.cancelTowerExplosion()},l.updateTowers=function(e){this.towers=e,0!=this.towers.length&&(this.cancelRefresh(),this.refreshPromise=this.waitToRefreshTowers())},l.delayTowerExplosion=function(){this.refreshPromise&&(this.cancelRefresh(),this.refreshPromise=this.waitToRefreshTowers())},l.cancelTowerExplosion=function(){this.refreshPromise&&this.cancelRefresh()},l.waitToRefreshTowers=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ComboController.waitToRefreshTowers()"),this.isCanceled=!1,this.isRunningDelay=!0,e.next=5,b.seconds(this.refreshDelay);case 5:if(!this.isCanceled){e.next=8;break}return console.log("ComboController.waitToRefreshTowers() canceled."),e.abrupt("return");case 8:console.log("ComboController.waitToRefreshTowers() explodeTowers() "+this.towers.length),this.explodeTowers();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.cancelRefresh=function(){this.refreshPromise&&(console.log("ComboController.cancelRefresh()"),this.isCanceled=!0,this.refreshPromise=null,this.isRunningDelay=!1)},l.explodeTowers=function(){var e=this;if(0!=this.towers.length){this.turnControl.explodeAnimationStarted();for(var o=0;o<this.towers.length;o++){console.log("["+o+"] ComboController.explodeTowers() this.towers["+o+"] == "+this.towers[o].name);var t=this.towers[o].getTopStack();null===this.towers[o]&&console.log("["+o+"] ComboController.explodeTowers() this.towers["+o+"] is NULL"),void 0===this.towers[o]&&console.log("["+o+"] ComboController.explodeTowers() this.towers["+o+"] is UNDEFINED"),null===t&&console.log("["+o+"] ComboController.explodeTowers() topStack is NULL"),void 0===t&&console.log("["+o+"] ComboController.explodeTowers() topStack is UNDEFINED"),this.finalScores.push(t.amount)}this.towersToExplode=Array.from(this.towers),this.towers.clear();for(var r=0;r<this.towersToExplode.length;r++){var n=r;this.towersToExplode[r].explodeTower((function(){return e.notifyExplosionFinished(n)}))}}},l.notifyExplosionFinished=function(e){this.explosionCount++,console.log("ComboController.notifyExplosionFinished()["+this.explosionCount+"/"+this.towersToExplode.length+"]");var o=this.towersToExplode[e].node;console.log("ComboController.notifyExplosionFinished()["+o.name+"]");var t=g.worldToUIPosition(o,this.mainCam,this.parentCanvas);m.get(C).addObjectiveProgress(d.MergePieces,this.finalScores[e],t),this.explosionCount==this.towersToExplode.length&&this.afterTowersExploded()},l.afterTowersExploded=function(){console.log("ComboController.afterTowersExploded() CALLBACK ["+this.finalScores.length+"]"),this.finalScores.clear(),this.turnControl.explodeAnimationEnded(this.towersToExplode),this.towersToExplode.clear(),this.explosionCount=0},o}(p)).prototype,"refreshDelay",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=o(N.prototype,"explosionCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=o(N.prototype,"isRunningDelay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=o(N.prototype,"towers",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(N.prototype,"towersToExplode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=o(N.prototype,"finalScores",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=o(N.prototype,"hexGrid",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=o(N.prototype,"turnControl",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=o(N.prototype,"mainCam",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=o(N.prototype,"parentCanvas",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=N))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/Command.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,r=e._decorator}],execute:function(){var c;t._RF.push({},"24864ztrjhM4L5FRYrkdL3F","Command",void 0);var o=r.ccclass,a=(r.property,e("CommandType",function(e){return e[e.Immediate=0]="Immediate",e[e.Async=1]="Async",e}({})));e("Command",o("Command")(c=function(){function e(){}return n(e,[{key:"commandType",get:function(){return a.Immediate}}]),e}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/CommandDecorator.ts",["cc"],(function(e){var r,s,c;return{setters:[function(e){r=e.cclegacy,s=e._decorator,c=e.js}],execute:function(){e("commandclass",(function(r){o||(o=e("registeredUserClasses",[]));return function(e){console.log('Registering class "'+r+'"...');try{var t=s.ccclass;if(!t)throw new Error("ccclass decorator not available");return t(r)(e),o.some((function(e){return e.name===r}))||(o.push({name:r,classRef:e}),console.log('Successfully registered "'+r+'"'),console.log("Class ID after registration:",c.getClassId(e))),e}catch(s){return console.error('Failed to register "'+r+'":',s),e}}})),r._RF.push({},"97e5aQyJFNBbqPcLylVDOB9","CommandDecorator",void 0);s.ccclass,s.property;var o=e("registeredUserClasses",[]);r._RF.pop()}}}));

System.register("chunks:///_virtual/CommandSequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./WaitCommand.ts","./TweenPositionCommand.ts","./TweenScaleCommand.ts","./Command.ts","./SetActiveCommand.ts","./AsyncCommand.ts","./TweenRotationCommand.ts","./TweenTransformCommand.ts","./InvokeEventCommand.ts","./Polymorphism.ts"],(function(e){var n,t,o,a,i,c,r,s,u,m,l,p,d,f,y,C,h,b,q,w,S,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,o=e.inheritsLoose,a=e.assertThisInitialized,i=e.createClass,c=e.asyncToGenerator,r=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,m=e._decorator,l=e.Enum,p=e.Component},null,function(e){d=e.WaitCommand},function(e){f=e.TweenPositionCommand},function(e){y=e.TweenScaleCommand},function(e){C=e.Command},function(e){h=e.SetActiveCommand},function(e){b=e.AsyncCommand},function(e){q=e.TweenRotationCommand},function(e){w=e.TweenTransformCommand},function(e){S=e.InvokeEventCommand},function(e){g=e.polymorphism}],execute:function(){var v,x,R,k,A,L,T,N,E,O,P,z,D,F,I,_;u._RF.push({},"16c8263f3xLNaRBL7e4S3EP","CommandSequence",void 0);var W=m.ccclass,j=m.property,B=m.executionOrder,H=(v=W("CommandWrapper"),x=B(1e3),R=j({displayName:"Properties"}),k=g({baseClass:C,types:[f,y,q,w,d,h,S]}),v(A=x((T=n((L=function(){t(this,"command",T,this)}).prototype,"command",[R,k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d}}),A=L))||A)||A),G=e("AddSequenceOptions",function(e){return e[e.None=0]="None",e[e.AddNewCommand=1]="AddNewCommand",e[e.RemoveLastCommand=2]="RemoveLastCommand",e}({}));e("CommandSequence",(N=W("CommandSequence"),E=B(1001),O=j({type:[H]}),P=j({type:l(G)}),N(z=E((F=n((D=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,t(n,"playOnEnable",F,a(n)),t(n,"isLoop",I,a(n)),n.isSequenceRunning=!1,n.cancelSequence=!1,t(n,"sequence",_,a(n)),n}o(n,e);var u=n.prototype;return u.onEnable=function(){this.playOnEnable&&this.playSequence()},u.playSequence=function(){var e=c(r().mark((function e(){var n,t,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isSequenceRunning=!0,this.cancelSequence=!1,n=s(this.sequence);case 3:if((t=n()).done){e.next=16;break}if(o=t.value,!this.cancelSequence){e.next=8;break}return console.log("Sequence canceled"),e.abrupt("break",16);case 8:if(!(o.command instanceof b&&o.command.waitUntilFinished)){e.next=13;break}return e.next=11,o.command.execute();case 11:e.next=14;break;case 13:o.command.execute();case 14:e.next=3;break;case 16:this.isLoop&&!this.cancelSequence?this.playSequence():this.isSequenceRunning=!1;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.stopSequence=function(){this.isSequenceRunning?(console.log("Stopping sequence..."),this.cancelSequence=!0):console.log("No sequence is currently running.")},i(n,[{key:"Action",get:function(){return G.None},set:function(e){switch(e){case G.AddNewCommand:var n=new H;n.command=new d,this.sequence.push(n),console.log("New command added");break;case G.RemoveLastCommand:this.sequence.pop(),console.log("Last command removed")}}}]),n}(p)).prototype,"playOnEnable",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=n(D.prototype,"isLoop",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=n(D.prototype,"sequence",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new H]}}),n(D.prototype,"Action",[P],Object.getOwnPropertyDescriptor(D.prototype,"Action"),D.prototype),z=D))||z)||z));u._RF.pop()}}}));

System.register("chunks:///_virtual/comparison.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,r,a,o,n,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){a=e.register},function(e){o=e.ShaderNode},function(e){n=e.ConcretePrecisionType},function(e){s=e.prop,c=e.slot}],execute:function(){var u;r._RF.push({},"29cf0dWHHJIo4dVJcv8q6Ik","comparison",void 0);var i=function(e){return e[e.Equal=0]="Equal",e[e.NotEqual=1]="NotEqual",e[e.Less=2]="Less",e[e.LessOrEqual=3]="LessOrEqual",e[e.Greater=4]="Greater",e[e.GreaterOrEqual=5]="GreaterOrEqual",e}(i||{});e("default",a({menu:"Logic/Comparison",title:"Comparison"})(u=function(e){function r(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).concretePrecisionType=n.Fixed,t.fixedConcretePrecision=1,t.data={props:[s("Type",i.Equal,"enum",{enum:i})],inputs:[c("A",0,"float","vector"),c("B",0,"float","vector")],outputs:[c("Out",0,"boolean","boolean")]},t}t(r,e);var a=r.prototype;return a.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},a.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1),r=this.getOutputVarDefine(0),a="";switch(this.getPropWithName("Type").value){case i.Equal:a="("+e+" == "+t+")";break;case i.NotEqual:a="("+e+" != "+t+")";break;case i.Less:a="("+e+" < "+t+")";break;case i.LessOrEqual:a="("+e+" <= "+t+")";break;case i.Greater:a="("+e+" > "+t+")";break;case i.GreaterOrEqual:a="("+e+" >= "+t+")"}return"\n            "+r+" = "+a+";\n        "},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/context.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"130e0LrRvNOq7GOFf5/5IGV","context",void 0);var s=t("ShaderContext",function(){function t(){this.shaderTemplatesDir=void 0,this.allNodes=[],this.properties=[],this.localVars=[],this.getLocalVars=[]}return t.prototype.reset=function(){this.allNodes.length=0,this.properties.length=0,this.localVars.length=0,this.getLocalVars.length=0},t}());t("shaderContext",new s);e._RF.pop()}}}));

System.register("chunks:///_virtual/cosine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.slot}],execute:function(){var s;n._RF.push({},"2e9b7mUik5Cj7/HtwG5GjOg","cosine",void 0);t("default",r({menu:"Math/Trigonometry/Cosine",title:"Cosine"})(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[i("In",o.ZERO,"vec4","vector")],outputs:[i("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = cos("+t+");\n        "},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/cross-product.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,r,c,o,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,c=t.Vec4},function(t){o=t.register},function(t){n=t.ShaderNode},function(t){u=t.slot}],execute:function(){var s;r._RF.push({},"13009pA4vlKI5jSuhV9uAJV","cross-product",void 0);t("default",o({menu:"Math/Vector/CrossProduct",title:"CrossProduct"})(s=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).data={inputs:[u("A",c.ZERO,"vec4","vector"),u("B",c.ZERO,"vec4","vector")],outputs:[u("Out",c.ZERO,"vec4","vector")]},e}e(r,t);var o=r.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = cross("+t+", "+e+");\n        "},r}(n))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/cubemap-asset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./texture-asset.ts"],(function(e){var t,u,n;return{setters:[function(e){t=e.inheritsLoose},function(e){u=e.cclegacy},function(e){n=e.default}],execute:function(){u._RF.push({},"f593b68ejRHboYTcPDL7dZe","cubemap-asset",void 0);e("default",function(e){function u(){return e.apply(this,arguments)||this}return t(u,e),u.prototype.generateCode=function(){return"samplerCube "+this.getOutputVarName(0)+" = "+this.getInputValue(0)+";"},u}(n));u._RF.pop()}}}));

System.register("chunks:///_virtual/ddx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){i=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;n._RF.push({},"a9e8cu/8AxJgqL6Mn6GY7sg","ddx",void 0);t("default",c({menu:"Math/Derivative/DDX",title:"DDX"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = dFdx("+t+");\n        "},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ddxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){i=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;n._RF.push({},"ec1afn79wpEi5T7OYFN+OIo","ddxy",void 0);t("default",c({menu:"Math/Derivative/DDXY",title:"DDXY"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = abs(dFdx("+t+")) + abs(dFdy("+t+"));\n        "},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ddy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){i=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;n._RF.push({},"8231cetsI5JAKl/k454/49j","ddy",void 0);t("default",c({menu:"Math/Derivative/DDY",title:"DDY"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = dFdy("+t+");\n        "},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/degrees-to-radians.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,r,o,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){o=e.register},function(e){c=e.ShaderNode},function(e){i=e.slot}],execute:function(){var s;n._RF.push({},"54cccLnyalN+rGU9RVdf0Ob","degrees-to-radians",void 0);e("default",o({menu:"Math/Trigonometry/DegreesToRadians",title:"DegreesToRadians"})(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = radians("+e+");\n        "},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/DemoScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiPlatform.ts"],(function(e){var o,a,t,i,r,n,c,u,l,s,p,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,c=e.Label,u=e.game,l=e.AudioSource,s=e.log,p=e.Component},function(e){h=e.CCPokiSDK}],execute:function(){var d,m,S,y,f;r._RF.push({},"02a8cG1kBZMb6HG0cbbzmxL","DemoScript",void 0);var R=n.ccclass,k=n.property;e("DemoScript",(d=R("DemoScript"),m=k({type:c}),d((f=o((y=function(e){function o(){for(var o,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return o=e.call.apply(e,[this].concat(r))||this,t(o,"outputLabel",f,i(o)),o.audioSource=null,o}a(o,e);var r=o.prototype;return r.start=function(){u.on(h.EVENT_REWARD_BREAK_DONE,this.onRewardBreakDone,this),u.on(h.EVENT_COMMERCIAL_BREAK_DONE,this.onCommercialBreakDone,this),u.on(h.EVENT_SHRABLE_URL_READY,this.onSharableLinkReady,this),this.audioSource=this.getComponent(l)},r.onShareableLinkClicked=function(e){h.shareableURL({difficulty:"easy",lives:3})},r.onSharableLinkReady=function(){var e=arguments[0];s("SharableURL:",e),this.outputLabel.string=e},r.onRewardBreakClicked=function(e){this.audioSource.pause(),h.gameplayStop(),h.rewardBreak()},r.onRewardBreakDone=function(){var e=arguments[0];e?(this.outputLabel.string="Reward video success.",s("Revive Player"),h.gameplayStart()):s("Game End Screen"),this.audioSource.play()},r.onCommercialBreakClicked=function(e){this.audioSource.pause(),h.gameplayStop(),h.commercialBreak()},r.onCommercialBreakDone=function(){h.gameplayStart(),this.audioSource.play()},o}(p)).prototype,"outputLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=y))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/distance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,c,i,r,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){i=t.register},function(t){r=t.ShaderNode},function(t){o=t.ConcretePrecisionType},function(t){s=t.slot}],execute:function(){var u;n._RF.push({},"1d67fgjFt5PYIIoSIE7uP03","distance",void 0);t("default",i({menu:"Math/Vector/Distance",title:"Distance"})(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).concretePrecisionType=o.Fixed,e.data={inputs:[s("A",c.ZERO,"vec4","vector"),s("B",c.ZERO,"vec4","vector")],outputs:[s("Out",0,"float","vector")]},e}e(n,t);var i=n.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = distance("+t+", "+e+");\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/divide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,i,c,r,o,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Vec4},function(e){c=e.register},function(e){r=e.ShaderNode},function(e){o=e.ConcretePrecisionType},function(e){u=e.slot}],execute:function(){var s;n._RF.push({},"027926d68NB7rx2YRTbh0wu","divide",void 0);e("default",c({menu:"Math/Basic/Divide",title:"Divide"})(s=function(e){function n(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))||this).concretePrecisionType=o.Max,t.data={inputs:[u("A",i.ZERO,"vec4","vector"),u("B",i.ZERO,"vec4","vector")],outputs:[u("Out",i.ZERO,"vec4","vector")]},t}t(n,e);var c=n.prototype;return c.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = "+e+" / "+t+";\n        "},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/dot-product.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,o,n,r,c,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;o._RF.push({},"fe81frs65tLqqp2QPfF1tCJ","dot-product",void 0);t("default",r({menu:"Math/Vector/DotProduct",title:"DotProduct"})(s=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Fixed,e.data={inputs:[u("A",n.ZERO,"vec4","vector"),u("B",n.ZERO,"vec4","vector")],outputs:[u("Out",0,"float","vector")]},e}e(o,t);var r=o.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = dot("+t+", "+e+");\n        "},o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/DragDropComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./HexSlot.ts","./Action.ts","./RaycastUtils.ts"],(function(t){var e,r,n,i,o,a,s,l,u,c,g,h,p,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Enum,l=t.Node,u=t.Layers,c=t.Vec3,g=t.director,h=t.Component},null,function(t){p=t.HexSlot},function(t){d=t.Action},function(t){y=t.RaycastUtils}],execute:function(){var f,m,b,D,P,v,S,L,R,w,C,N,E,k,M,z,T;o._RF.push({},"7b98exEyKxJurhZ8bHxd1Hn","DragDropComponent",void 0);var x=a.ccclass,A=a.property,O=t("DragDropMode",function(t){return t[t.Disabled=0]="Disabled",t[t.Drag=1]="Drag",t[t.Drop=2]="Drop",t[t.Clickable=3]="Clickable",t}({}));t("DragDropComponent",(f=x("DragDropComponent"),m=A({type:Number}),b=A({type:s(O),group:{name:"Runtime"}}),D=A({type:Boolean,group:{name:"Runtime"}}),P=A({type:l,group:{name:"Components"}}),v=A({type:p,group:"Components"}),S=A({type:u.Enum,group:{name:"Layers"}}),L=A({type:u.Enum,group:{name:"Layers"}}),f((C=e((w=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"heightOffset",C,i(e)),n(e,"currentMode",N,i(e)),n(e,"isSelected",E,i(e)),n(e,"targetNode",k,i(e)),n(e,"currentSlot",M,i(e)),e.originalY=null,e.originalParent=null,e.originalPos=new c,n(e,"draggableLayer",z,i(e)),n(e,"dragSlotLayer",T,i(e)),e.onDragStart=new d,e.onDragEnded=new d,e.onDrop=new d,e.onReset=new d,e}r(e,t);var o=e.prototype;return o.start=function(){this.targetNode||(this.targetNode=this.node),this.currentSlot=this.getComponent(p)},o.setCurrenMode=function(t){this.currentMode=t,this.currentMode==O.Drag||this.currentMode==O.Clickable?this.setLayerRecursively(this.node,this.draggableLayer):this.currentMode==O.Drop?this.setLayerRecursively(this.node,this.dragSlotLayer):this.setLayerRecursively(this.node,u.Enum.DEFAULT)},o.dragStart=function(t){var e;this.originalY=this.targetNode.worldPosition.y,this.isSelected=!0,this.originalParent=this.targetNode.parent,this.originalPos=this.targetNode.getWorldPosition(),this.targetNode.setParent(g.getScene()),this.targetNode.setWorldPosition(this.originalPos),this.targetNode.scale=new c(.8,.8,.8),null==(e=this.onDragStart)||e.invoke()},o.dragMovement=function(t){var e=this.getTargetPosition(t);e&&this.targetNode.setWorldPosition(e)},o.replicateCameraRotation=function(t){console.log("replicateCameraRotation() "+t),this.currentSlot.visualControl.setStackYRotation(t)},o.resetElement=function(){var t;this.isSelected=!1,this.targetNode.setParent(this.originalParent),this.resetOriginalPosition(),null==(t=this.onReset)||t.invoke(),this.currentSlot.visualControl.setStackYRotation(0)},o.dropElement=function(t,e){var r;console.log(this.node.name+".dropElement()"),this.currentSlot.visualControl.setStackYRotation(0),this.isSelected=!1,this.targetNode.setParent(e),this.setTargetPosition(t),null==(r=this.onDrop)||r.invoke()},o.resetComponent=function(){this.targetNode.setParent(this.originalParent),this.resetOriginalPosition()},o.resetOriginalPosition=function(){this.setTargetPosition(this.originalPos)},o.setTargetPosition=function(t){this.targetNode.setWorldPosition(t),this.targetNode.scale=new c(1,1,1)},o.getTargetPosition=function(t){var e=t.o,r=t.d,n=new c(0,1,0),i=new c(0,this.originalY+this.heightOffset,0),o=y.rayPlaneIntersection(e,r,i,n);return o||(console.log("Ray does not intersect the plane."),null)},o.setLayerRecursively=function(t,e){var r=this;t.layer=e,t.children.forEach((function(t){return r.setLayerRecursively(t,e)}))},e}(h)).prototype,"heightOffset",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),N=e(w.prototype,"currentMode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.Disabled}}),E=e(w.prototype,"isSelected",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=e(w.prototype,"targetNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(w.prototype,"currentSlot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(w.prototype,"draggableLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Enum.DEFAULT}}),T=e(w.prototype,"dragSlotLayer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Enum.DEFAULT}}),R=w))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/DraggableComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./RaycastUtils.ts"],(function(e){var t,n,o,r,i,a,s,l,c,u,g,m,p,d,h,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Camera,l=e.Node,c=e.Vec3,u=e.find,g=e.input,m=e.Input,p=e.Layers,d=e.EventMouse,h=e.geometry,y=e.Component},null,function(e){f=e.RaycastUtils}],execute:function(){var b,v,R,C,D,P,E,w,M,N,T;i._RF.push({},"8d58bgogGdJ2JCJ6qxKvPUw","DraggableComponent",void 0);var S=a.ccclass,x=a.property;e("DraggableComponent",(b=S("DraggableComponent"),v=x({type:Boolean,group:{name:"Runtime"}}),R=x({type:Boolean,group:{name:"Runtime"}}),C=x({type:s,group:{name:"Runtime"}}),D=x({type:l,group:{name:"Runtime"}}),b((w=t((E=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"canDrag",w,r(t)),o(t,"isSelected",M,r(t)),o(t,"camera",N,r(t)),o(t,"targetNode",T,r(t)),t.originalY=null,t.currentMousePos=new c,t}n(t,e);var i=t.prototype;return i.start=function(){if(!this.camera){var e=u("Main Camera");e?(this.camera=e.getComponent(s),this.camera||console.error("Camera component not found on the node.")):console.error("Camera node not found.")}this.targetNode||(this.targetNode=this.node),g.on(m.EventType.MOUSE_DOWN,this.mouseClick,this),g.on(m.EventType.MOUSE_MOVE,this.mouseMove,this)},i.performRaycastExternal=function(e){if(this.camera){var t={result:null},n=p.Enum.DEFAULT;if(f.mousePositionRaycast3D(e,this.camera,t,500,n)&&t.result){if(t.result.collider.node!==this.node)return void(this.isSelected=!1);var o=t.result.collider;console.log("RaycastExternal - Found obj: "+o.node.name+" in layer "+f.getLayerName(o.node.layer)),this.originalY=this.node.worldPosition.y,this.isSelected=!0}else console.log("RaycastExternal: No object detected."),this.isSelected=!1}else console.error("Camera is not assigned.")},i.update=function(){if(this.isSelected){var e=this.getDragPosition();e&&this.targetNode.setWorldPosition(e)}},i.mouseClick=function(e){e.getButton()===d.BUTTON_LEFT?this.performRaycastExternal(e):e.getButton()===d.BUTTON_RIGHT&&(this.isSelected=!1)},i.mouseMove=function(e){this.currentMousePos.set(e.getLocationX(),e.getLocationY(),0)},i.getDragPosition=function(){if(this.camera){var e=new h.Ray,t=new c(this.currentMousePos.x,this.currentMousePos.y,0);this.camera.screenPointToRay(t.x,t.y,e);var n=e.o,o=e.d,r=new c(0,1,0),i=new c(0,this.originalY,0),a=f.rayPlaneIntersection(n,o,i,r);return a||(console.log("Ray does not intersect the plane."),null)}console.error("Camera is not assigned.")},t}(y)).prototype,"canDrag",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=t(E.prototype,"isSelected",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(E.prototype,"camera",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(E.prototype,"targetNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=E))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/DraggableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./RaycastUtils.ts"],(function(e){var t,n,r,i,o,a,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,s=e.Vec3,c=e.Component},null,function(e){u=e.RaycastUtils}],execute:function(){var g,p,d,f,y,h,m,b,D;o._RF.push({},"0ee49OxRrRI05swSAS1RB66","DraggableItem",void 0);var R=a.ccclass,v=a.property;e("DraggableItem",(g=R("DraggableItem"),p=v({type:Boolean,group:{name:"Runtime"}}),d=v({type:Boolean,group:{name:"Runtime"}}),f=v({type:l,group:{name:"Runtime"}}),g((m=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"canDrag",m,i(t)),r(t,"isSelected",b,i(t)),r(t,"targetNode",D,i(t)),t.originalY=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.targetNode||(this.targetNode=this.node)},o.onDragStart=function(e){this.originalY=this.node.worldPosition.y,this.isSelected=!0},o.onDragMovement=function(e){var t=this.getTargetPosition(e);t&&this.targetNode.setWorldPosition(t)},o.onDragEnded=function(e){this.isSelected=!1},o.getTargetPosition=function(e){var t=e.o,n=e.d,r=new s(0,1,0),i=new s(0,this.originalY,0),o=u.rayPlaneIntersection(t,n,i,r);return o||(console.log("Ray does not intersect the plane."),null)},t}(c)).prototype,"canDrag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=t(h.prototype,"isSelected",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=t(h.prototype,"targetNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/DraggableSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,o,n;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,n=t.Component}],execute:function(){var a;e._RF.push({},"cbdb5xAtfFPWbpTvjNjALkt","DraggableSlot",void 0);var c=o.ccclass;o.property,t("DraggableSlot",c("DraggableSlot")(a=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(n))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/DragInputModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DragDropComponent.ts","./HexGridController.ts","./OptionsTray.ts","./InputManager.ts","./CameraController.ts","./HexSlot.ts","./Singleton.ts","./RaycastUtils.ts"],(function(e){var t,n,r,a,o,i,l,u,c,s,g,m,d,p,h,f,D,b,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Enum,u=e.Camera,c=e.Layers,s=e.geometry,g=e.Component},null,function(e){m=e.DragDropComponent,d=e.DragDropMode},function(e){p=e.HexGridController},function(e){h=e.OptionsTray},function(e){f=e.InputManager},function(e){D=e.CameraController},function(e){b=e.HexSlot},function(e){v=e.Singleton},function(e){y=e.RaycastUtils}],execute:function(){var C,M,L,S,k,E,I,F,A,O,R,w,z,T,H,N,x,V,P,U,_,j,B,G,J;o._RF.push({},"fc0857j8tJA+62THguwCrHg","DragInputModule",void 0);var q=i.ccclass,K=i.property,Q=function(e){return e[e.None=0]="None",e[e.Drag=1]="Drag",e[e.Rotation=2]="Rotation",e[e.Click=3]="Click",e}(Q||{});e("DragInputModule",(C=q("DragInputModule"),M=K({type:Boolean,group:{name:"Runtime"}}),L=K({type:Boolean,group:{name:"Runtime"}}),S=K({type:l(Q),group:{name:"Runtime"}}),k=K({type:m,group:{name:"Runtime"}}),E=K({type:f,group:{name:"Components"}}),I=K({type:u,group:{name:"Runtime"}}),F=K({type:D,group:{name:"Runtime"}}),A=K({type:c.Enum,group:{name:"Layers"},tooltip:"Layer for draggable object"}),O=K({type:c.Enum,group:{name:"Layers"},tooltip:"Layer for draggable slot"}),R=K({type:c.Enum,group:{name:"Layers"},tooltip:"Layer for draggable slot"}),w=K({type:h,group:"Components"}),C((H=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"isActive",H,a(t)),r(t,"isDragging",N,a(t)),r(t,"currentMovement",x,a(t)),r(t,"currentItem",V,a(t)),r(t,"inputManager",P,a(t)),r(t,"camera",U,a(t)),r(t,"cameraControl",_,a(t)),r(t,"draggableLayer",j,a(t)),r(t,"dragSlotLayer",B,a(t)),r(t,"dragLayers",G,a(t)),r(t,"optionsTray",J,a(t)),t.onDragStartLambda=void 0,t.onClickLambda=void 0,t.onDragMovementLambda=void 0,t.onDragEndLambda=void 0,t.onForcedEndLambda=void 0,t}n(t,e);var o=t.prototype;return o.start=function(){this.setEvents(),this.cameraControl=v.get(D),this.camera||(this.camera=this.cameraControl.getCamera())},o.setEvents=function(){var e=this;this.onDragStartLambda=function(t){e.handleOnDragStart(t)},this.onClickLambda=function(t){e.handleOnClick(t)},this.onDragMovementLambda=function(t){e.handleOnDragMovement(t)},this.onDragEndLambda=function(t){e.handleOnDragEnd(t)},this.onForcedEndLambda=function(){e.handleOnForcedMovementEnd()},this.inputManager.onDragStart.addListener(this.onDragStartLambda),this.inputManager.onClick.addListener(this.onClickLambda),this.inputManager.onDragMovement.addListener(this.onDragMovementLambda),this.inputManager.onDragEnd.addListener(this.onDragEndLambda),this.inputManager.onForcedMovementEnd.addListener(this.onForcedEndLambda)},o.clearModule=function(){this.currentItem=null,this.currentMovement=Q.None},o.checkForValidClick=function(e){var t={result:null};return!(!this.checkForDragAndDropComponent(e,t)||t.result.currentMode!==d.Clickable)},o.handleOnClick=function(e){if(this.isActive){var t={result:null};return this.checkForDragAndDropComponent(e,t)&&t.result.currentMode===d.Clickable&&(this.currentItem=t.result,this.currentItem.currentSlot.clickSlot(),this.currentMovement=Q.None),!1}},o.clickMethod=function(){this.currentItem.currentSlot.clickSlot(),this.currentMovement=Q.None},o.handleOnValidDragCheck=function(e){return this.checkForValidDrag(e)},o.handleOnDragStart=function(e){var t,n;this.isActive&&(console.log("DragInputModule.handleOnDragStart("+e+")"),this.checkForValidDrag(e)?(this.currentMovement=Q.Drag,v.get(p).UpdatePreviewVisual(this.currentItem.currentSlot),null==(t=this.currentItem)||t.dragStart(e),null==(n=this.currentItem)||n.replicateCameraRotation(this.cameraControl.getCurrentAngle())):this.currentMovement=Q.None)},o.handleOnDragMovement=function(e){if(this.isActive&&this.currentMovement==Q.Drag){var t,n=new s.Ray;this.camera.screenPointToRay(e.x,e.y,n),null==(t=this.currentItem)||t.dragMovement(n),this.HighlightSelected(e)}},o.HighlightSelected=function(e){var t,n=null,r={result:null};this.checkForDraggableSlot(e,r)?(n=null==(t=r.result)?void 0:t.getComponent(b),v.get(p).selectSlot(n)):v.get(p).deselectAllSlots()},o.handleOnDragEnd=function(e){if(this.isActive&&this.currentMovement==Q.Drag){var t={result:null};if(this.checkForDraggableSlot(e,t)){var n,r,a=t.result.node,o=t.result.node.getPosition();null==(n=this.currentItem)||n.dropElement(o,a);var i=t.result.currentSlot;null!==this.currentItem&&null!==i&&v.get(p).placeStacksOnSlot(this.currentItem.currentSlot,i),null==(r=this.currentItem)||r.resetComponent(),this.optionsTray.PlaceSlotOnGrid()}else{var l;null==(l=this.currentItem)||l.resetElement()}v.get(p).deselectAllSlots()}},o.handleOnForcedMovementEnd=function(){var e;this.isActive&&(this.currentMovement==Q.Drag&&(null==(e=this.currentItem)||e.resetElement()),this.currentMovement,Q.None,v.get(p).deselectAllSlots())},o.checkForValidDrag=function(e){if(this.camera){var t=this.draggableLayer,n={result:null},r=y.findDragDropComponent(e,this.camera,n,500,t);return console.log("checkForValidDrag("+r+") - "+e),r?n.result.currentMode===d.Drag&&(this.currentItem=n.result,!0):(this.currentItem=null,!1)}console.error("Camera is not assigned.")},o.checkForDragAndDropComponent=function(e,t){return t.result=null,y.findDragDropComponent(e,this.camera,t,500,this.dragLayers)},o.checkForDraggableSlot=function(e,t){t.result=null;var n={result:null},r=this.dragSlotLayer;if(!y.screenRaycast3D(e,this.camera,n,500,r)||!n.result)return!1;var a=n.result.collider.node;return!!a&&(t.result=a.getComponent(m),null===t.result&&null!==a.parent&&(t.result=a.parent.getComponent(m)),!!t.result&&t.result.currentMode===d.Drop)},t}(g)).prototype,"isActive",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=t(T.prototype,"isDragging",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=t(T.prototype,"currentMovement",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.None}}),V=t(T.prototype,"currentItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(T.prototype,"inputManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"camera",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"cameraControl",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"draggableLayer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Enum.DEFAULT}}),B=t(T.prototype,"dragSlotLayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Enum.DEFAULT}}),G=t(T.prototype,"dragLayers",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Enum.DEFAULT}}),J=t(T.prototype,"optionsTray",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=T))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/DragModuleTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputManagerTest.ts","./index2.ts","./DragDropComponent.ts","./HexGridController.ts","./OptionsTray.ts","./Singleton.ts","./RaycastUtils.ts"],(function(e){var t,r,n,a,o,i,l,u,s,c,g,d,p,m,h,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Camera,u=e.Layers,s=e.geometry,c=e.Component},function(e){g=e.InputManagerTest},null,function(e){d=e.DragDropComponent,p=e.DragDropMode},function(e){m=e.HexGridController},function(e){h=e.OptionsTray},function(e){f=e.Singleton},function(e){y=e.RaycastUtils}],execute:function(){var D,b,v,L,M,S,T,E,C,I,O,R,F,w,k,z,A;o._RF.push({},"bd781TBFuxOkq4FxOw6ol7K","DragModuleTest",void 0);var x=i.ccclass,P=i.property;e("DragModuleTest",(D=x("DragModuleTest"),b=P({type:Boolean,group:{name:"Runtime"}}),v=P({type:d,group:{name:"Runtime"}}),L=P({type:g,group:{name:"Runtime"}}),M=P({type:l,group:{name:"Runtime"}}),S=P({type:u.Enum,group:{name:"Layers"},tooltip:"Layer for draggable object"}),T=P({type:u.Enum,group:{name:"Layers"},tooltip:"Layer for draggable slot"}),E=P({type:h,group:"Components"}),D((O=t((I=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isActive",O,a(t)),n(t,"currentItem",R,a(t)),n(t,"inputManager",F,a(t)),n(t,"camera",w,a(t)),n(t,"draggableLayer",k,a(t)),n(t,"dragSlotLayer",z,a(t)),n(t,"optionsTray",A,a(t)),t.onDragStartLambda=void 0,t.onDragMovementLambda=void 0,t.onDragEndLambda=void 0,t}r(t,e);var o=t.prototype;return o.start=function(){this.setEvents()},o.setEvents=function(){var e=this;this.onDragStartLambda=function(t){e.handleOnDragStart(t)},this.inputManager.onDragStart.addListener(this.onDragStartLambda),this.onDragMovementLambda=function(t){e.handleOnDragMovement(t)},this.inputManager.onDragMovement.addListener(this.onDragMovementLambda),this.onDragEndLambda=function(t){e.handleOnDragEnd(t)},this.inputManager.onDragEnd.addListener(this.onDragEndLambda)},o.handleOnDragStart=function(e){var t;this.isActive&&(console.log("DragModuleTest.handleOnDragStart("+e+")"),this.checkForValidDrag(e)&&(null==(t=this.currentItem)||t.dragStart(e)))},o.handleOnDragMovement=function(e){var t;if(this.isActive){var r=new s.Ray;this.camera.screenPointToRay(e.x,e.y,r),null==(t=this.currentItem)||t.dragMovement(r)}},o.handleOnDragEnd=function(e){if(this.isActive){console.log("DragModuleTest.handleOnDragEnd("+e+")");var t,r,n,a={result:null};if(this.checkForDraggableSlot(e,a))null==(t=this.currentItem)||t.dropElement(a.result.node.getPosition(),a.result.node),f.get(m).placeStacksOnSlot(this.currentItem.currentSlot,a.result.currentSlot),null==(r=this.currentItem)||r.resetComponent(),this.optionsTray.PlaceSlotOnGrid();else null==(n=this.currentItem)||n.resetElement()}},o.checkForValidDrag=function(e){if(this.camera){var t={result:null},r=this.draggableLayer,n=y.screenRaycast3D(e,this.camera,t,500,r);if(console.log("checkForValidDrag("+n+") - "+e),!n||!t.result)return this.currentItem=null,!1;var a=t.result.collider.node;if(!a)return!1;var o=a.getComponent(d);return o||(o=a.parent.getComponent(d)),o?o.currentMode!==p.Drag?(o.currentMode===p.Clickable&&(this.currentItem=o),!1):(this.currentItem=o,!0):!1}console.error("Camera is not assigned.")},o.checkForDraggableSlot=function(e,t){if(!this.camera)return console.error("Camera is not assigned."),!1;var r={result:null},n=this.dragSlotLayer;if(!y.screenRaycast3D(e,this.camera,r,500,n)||!r.result)return!1;var a=r.result.collider.node;return!!a&&(t.result=a.getComponent(d),t.result||(t.result=a.parent.getComponent(d)),!!t.result&&t.result.currentMode===p.Drop)},t}(c)).prototype,"isActive",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=t(I.prototype,"currentItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(I.prototype,"inputManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(I.prototype,"camera",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"draggableLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Enum.DEFAULT}}),z=t(I.prototype,"dragSlotLayer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Enum.DEFAULT}}),A=t(I.prototype,"optionsTray",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=I))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/DummyReferenceScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts","./SimplePool.ts","./Wait.ts"],(function(e){var n,t,o,i,r,a,l,s,c,u,p,m,g,b,f,h,y,d,v,A,w,S,C,D,P;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.EventHandler,p=e.Node,m=e.Vec2,g=e.Color,b=e.AnimationClip,f=e.SpriteFrame,h=e.CCFloat,y=e.Prefab,d=e.Input,v=e.KeyCode,A=e.director,w=e.Component,S=e.RealCurve},null,function(e){C=e.Action},function(e){D=e.SimplePool},function(e){P=e.Wait}],execute:function(){var k,N,E,B,T,z,L,x,R,I,W,_,F,O,j,H,U,V,q,G,J,K,M,Q,X,Y,Z,$,ee;s._RF.push({},"abc91A32PxP9q1jrl062eT9","DummyReferenceScript",void 0);var ne=c.ccclass,te=c.property;e("DummyReferenceScript",(k=ne("DummyReferenceScript"),N=te(u),E=te({type:p,tooltip:"This is a tooltip I wrote myself!!!"}),B=te({group:{name:"Progression Tab"}}),T=te({step:5,group:{name:"Progression Tab"}}),z=te({type:m,group:{name:"Progression Tab"}}),L=te({group:{name:"Configs Tab"}}),x=te({type:g,group:{name:"Configs Tab"},visible:function(){return this.hasColor}}),R=te({type:b}),I=te({type:f}),W=te({type:[f]}),_=te({type:[h]}),F=te(y),O=te({group:"Debug"}),k((U=n((H=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"onSomethingHappened",U,i(n)),o(n,"myNode",V,i(n)),o(n,"myNumber",q,i(n)),o(n,"myNumberStepped",G,i(n)),o(n,"myVector",J,i(n)),o(n,"hasColor",K,i(n)),o(n,"meuColor",M,i(n)),o(n,"realCurve",Q,i(n)),o(n,"animationClip",X,i(n)),o(n,"mySprite",Y,i(n)),o(n,"mySpriteArray",Z,i(n)),o(n,"myPreFilledNumberArray",$,i(n)),o(n,"prefab",ee,i(n)),n.lastSpawnedInstance=void 0,n.onActionA=new C,n.onActionB=new C,n.onActionC=new C,n.onActionD=new C,n.onEventD=void 0,n.inputtt=new d,n}t(n,e);var s=n.prototype;return s.onLoad=function(){console.log("onLoad is like Awake() in Unity, it comes before everything."),D.preload(this.prefab,8),this.actionsExample()},s.onEnable=function(){console.log("onEnable() is called after awake and before start. And is called again everytime the object is re-activated.")},s.start=function(){console.log("start() is the last one before update."),this.actionsExample()},s.keyUp=function(e){e.keyCode==v.ARROW_UP&&(this.lastSpawnedInstance=D.spawn(this.prefab),console.log("Spawn name: "+this.lastSpawnedInstance.name))},s.keyDown=function(e){e.keyCode==v.ARROW_DOWN&&(console.log("Despawn: "+this.lastSpawnedInstance.name),D.despawn(this.lastSpawnedInstance))},s.actionsExample=function(){var e=this,n=function(){return console.log("Event B triggered")},t=function(){console.log(),e.doSomethingNoParameter()};this.onEventD=function(n){console.log(),e.doSomethingNumber(n)},this.onActionA.addListener(this.logSomething),this.onActionB.addListener(n),this.onActionC.addListener(t),this.onActionD.addListener(this.onEventD),this.onActionA.invoke("Event A triggered"),this.onActionB.invoke(),this.onActionC.invoke(),this.onActionD.invoke(10),this.onActionA.removeListener(this.logSomething),this.onActionB.removeListener(n),this.onActionC.removeListener(t),this.onActionD.removeListener(this.onEventD),this.onActionA.invoke("Event A should not be triggered"),this.onActionB.invoke(),this.onActionC.invoke(),this.onActionD.invoke(5)},s.logSomething=function(e){console.log("This is the text:"+e)},s.doSomethingNumber=function(e){var n=e+e;console.log("doSomethingNumber ",n)},s.doSomethingNoParameter=function(){console.log("doSomethingNoParameter "),this.logSomething("doSomethingNoParameter"),this.myDummyFunctionToWriteStuffThatWontBeCalled()},s.myDummyFunctionToWriteStuffThatWontBeCalled=function(){this.realCurve.evaluate(.5)},s.invokeEventHandler=function(){this.onSomethingHappened.Invoke(),console.log("Event invoked!")},s.waitAndLog=function(){var e=a(l().mark((function e(){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Testing await routines."),e.next=3,P.seconds(2);case 3:return e.next=5,P.until((function(){return n.hasColor}));case 5:console.log("Done because hasColor is true.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.setParentExample=function(){this.myNode.setParent(A.getScene())},s.convertJsonObjectToObjectExample=function(){},r(n,[{key:"debug_PressBooleanButton",get:function(){return!1},set:function(e){console.log("Button was pressed! ")}}]),n}(w)).prototype,"onSomethingHappened",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(H.prototype,"myNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(H.prototype,"myNumber",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),G=n(H.prototype,"myNumberStepped",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),J=n(H.prototype,"myVector",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(H.prototype,"hasColor",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=n(H.prototype,"meuColor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(H.prototype,"realCurve",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new S}}),X=n(H.prototype,"animationClip",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(H.prototype,"mySprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=n(H.prototype,"mySpriteArray",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(H.prototype,"myPreFilledNumberArray",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[4,2,10,50]}}),ee=n(H.prototype,"prefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n(H.prototype,"debug_PressBooleanButton",[O],Object.getOwnPropertyDescriptor(H.prototype,"debug_PressBooleanButton"),H.prototype),j=H))||j));s._RF.pop()}}}));

System.register("chunks:///_virtual/EditorButtonSequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EditorSequenceButton.ts","./index2.ts","./Action.ts"],(function(t){var n,e,o,i,r,u,c,l,p,a,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,c=t.Node,l=t.Component,p=t.Button},function(t){a=t.EditorSequenceButton},null,function(t){s=t.Action}],execute:function(){var h,f,d,v,y,g,b;r._RF.push({},"eb2738tLe9JDJCZeNS/7je7","EditorButtonSequence",void 0);var S=u.ccclass,B=u.property;t("EditorButtonSequence",(h=S("EditorButtonSequence"),f=B({type:[a],group:{name:"Components"}}),d=B({type:c,group:{name:"Components"}}),h((g=n((y=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,o(n,"option",g,i(n)),o(n,"layoutParent",b,i(n)),n.onOptionSelected=new s,n}e(n,t);var r=n.prototype;return r.initialize=function(t,n){for(var e=this,o=n.x,i=function(){e.option[r].initialize(r,o);var t=e.option[r].buttonId;e.option[r].button.node.on(p.EventType.CLICK,(function(){return e.selectOption(t)}),e),o++},r=0;r<this.option.length;r++)i();this.setOptionByValue(t)},r.selectOption=function(t){console.log("EditorButtonSequence.selectOption("+t+", value: "+this.option[t].buttonValue+")"),this.setOption(t),this.onOptionSelected.invoke(this.option[t].buttonValue)},r.setOptionByValue=function(t,n){void 0===n&&(n=!1);var e=this.convertValueToId(t);this.setOption(e),n&&this.onOptionSelected.invoke(this.option[e].buttonValue)},r.setOption=function(t){for(var n=0;n<this.option.length;n++)this.option[n].toggleSelection(!1);this.option[t].toggleSelection(!0)},r.convertValueToId=function(t){for(var n=0;n<this.option.length;n++)if(this.option[n].buttonValue==t)return n;return 0},n}(l)).prototype,"option",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(y.prototype,"layoutParent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorColorButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,r,l,a,u,s,p,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Color,u=t.Node,s=t.Button,p=t.Sprite,c=t.Component}],execute:function(){var b,y,h,d,f,g,m,v,C,z,w,A,V,B,D,E,_;r._RF.push({},"82826papXRJ5KdGa2G6LQVh","EditorColorButton",void 0);var L=l.ccclass,O=l.property;t("EditorColorButton",(b=L("EditorColorButton"),y=O({type:Number}),h=O({type:Boolean}),d=O({type:a}),f=O({type:u,group:{name:"Components"}}),g=O({type:u,group:{name:"Components"}}),m=O({type:s,group:{name:"Components"}}),v=O({type:p,group:{name:"Components"}}),b((w=i((z=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,o(i,"id",w,n(i)),o(i,"isActive",A,n(i)),o(i,"displayColor",V,n(i)),o(i,"disableVisual",B,n(i)),o(i,"enabledVisual",D,n(i)),o(i,"button",E,n(i)),o(i,"colorDisplay",_,n(i)),i}e(i,t);var r=i.prototype;return r.initialize=function(t){this.id=t,this.button||(this.button=this.getComponent(s)),this.colorDisplay&&(this.colorDisplay.color=this.displayColor)},r.toggleOptionButton=function(){this.isActive=!this.isActive,this.toggleOption(this.isActive)},r.toggleOption=function(t){this.isActive=t,this.disableVisual&&(this.disableVisual.active=!this.isActive),this.enabledVisual&&(this.enabledVisual.active=this.isActive)},i}(c)).prototype,"id",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=i(z.prototype,"isActive",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=i(z.prototype,"displayColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(0,1,0,1)}}),B=i(z.prototype,"disableVisual",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(z.prototype,"enabledVisual",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(z.prototype,"button",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(z.prototype,"colorDisplay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=z))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorColorSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EditorColorButton.ts"],(function(t){var o,n,e,i,r,l,u,a,s,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,u=t.Node,a=t.Component,s=t.Button},function(t){c=t.EditorColorButton}],execute:function(){var p,b,f,h,g,d,v,y,C;r._RF.push({},"74948mH2ehOloork/vijBYn","EditorColorSelector",void 0);var m=l.ccclass,B=l.property;t("EditorColorSelector",(p=m("EditorColorSelector"),b=B({type:Boolean,group:{name:"Runtime"}}),f=B({type:[c],group:{name:"Components"}}),h=B({type:u,group:{name:"Components"}}),p((v=o((d=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return o=t.call.apply(t,[this].concat(r))||this,e(o,"isExpanded",v,i(o)),e(o,"buttons",y,i(o)),e(o,"expandedBlock",C,i(o)),o.callback=null,o}n(o,t);var r=o.prototype;return r.initialize=function(t,o){var n=this;this.callback=o;for(var e=function(){n.buttons[i].initialize(i);var t=n.buttons[i].id;n.buttons[i].button.node.on(s.EventType.CLICK,(function(){return n.toggleOptionButton(t)}),n)},i=0;i<this.buttons.length;i++)e();this.updateAvailableColors(t)},r.updateAvailableColors=function(t){if(this.resetColorDisplay(),t.length>0)for(var o=0;o<t.length;o++)null!==t[o]&&this.buttons[t[o]].toggleOption(!0)},r.resetColorDisplay=function(){for(var t=0;t<this.buttons.length;t++)this.buttons[t].toggleOption(!1)},r.toggleOptionButton=function(t){this.buttons[t].toggleOptionButton(),this.callback&&this.callback()},r.getSelectedColors=function(){for(var t=[],o=0;o<this.buttons.length;o++)this.buttons[o].isActive&&t.push(o);return t},o}(a)).prototype,"isExpanded",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=o(d.prototype,"buttons",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=o(d.prototype,"expandedBlock",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorDropdownOption.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,l,a,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Button,u=t.Label,p=t.Component}],execute:function(){var c,s,b,d,h,f,g,y,m;r._RF.push({},"981551RYfFOdoBrujioRrEJ","EditorDropdownOption",void 0);var v=l.ccclass,w=l.property;t("EditorDropdownOption",(c=v("EditorDropdownOption"),s=w({type:Number}),b=w({type:a,group:{name:"Components"}}),d=w({type:u,group:{name:"Components"}}),c((g=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"id",g,o(e)),i(e,"button",y,o(e)),i(e,"label",m,o(e)),e}n(e,t);var r=e.prototype;return r.initialize=function(t){if(this.id=t,this.button||(this.button=this.getComponent(a)),!this.label&&this.node.children.length>0){var e=this.node.children[0];this.label=e.getComponent(u)}},r.getText=function(){return this.label.string},e}(p)).prototype,"id",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(f.prototype,"button",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(f.prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorExpirationAmount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(t){var n,e,i,o,r,a,u,l,s,p,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.EditBox,l=t.Label,s=t.Node,p=t.Component},null,function(t){c=t.Action}],execute:function(){var d,h,g,m,b,f,y,x,v,E,P;r._RF.push({},"91cc4khVrBHDohJVoTqDrmp","EditorExpirationAmount",void 0);var T=a.ccclass,A=a.property;t("EditorExpirationAmount",(d=T("EditorExpirationAmount"),h=A({type:u,group:{name:"Components"}}),g=A({type:l,group:{name:"Components"}}),m=A({type:s,group:{name:"Runtime"}}),b=A({type:s,group:{name:"Runtime"}}),d((x=n((y=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"amount",x,o(n)),i(n,"label",v,o(n)),i(n,"expandedParent",E,o(n)),i(n,"defaultParent",P,o(n)),n.onAmountChanged=new c,n}e(n,t);var r=n.prototype;return r.initialize=function(t,n){this.expandedParent=t,this.defaultParent=n,this.toggleTab(!1),this.amount.node.on(u.EventType.TEXT_CHANGED,this.onValueChanged,this)},r.toggleTab=function(t){this.node.active=t,t?(this.node.setParent(this.expandedParent),this.node.setSiblingIndex(1)):(this.node.setParent(this.defaultParent),this.node.setSiblingIndex(0))},r.onValueChanged=function(){if(0!=this.amount.string.length){var t=Number.parseInt(this.amount.string);this.onAmountChanged.invoke(t)}},r.activateTab=function(t,n){this.amount.string=n.toString(),this.label.string=t,this.toggleTab(!0)},r.disableTab=function(){this.toggleTab(!1)},n}(p)).prototype,"amount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(y.prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(y.prototype,"expandedParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(y.prototype,"defaultParent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorExpirationDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SimpleEditorDropdown.ts","./EditorExpirationAmount.ts","./LevelAsset.ts","./EditorExpirationPercent.ts","./EditorExpirationId.ts","./index2.ts","./LevelEditorController.ts","./Singleton.ts"],(function(t){var e,n,i,o,r,a,l,s,u,p,c,d,h,C,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.Component},function(t){u=t.SimpleEditorDropdown},function(t){p=t.EditorExpirationAmount},function(t){c=t.RuleExpiritionType},function(t){d=t.EditorExpirationPercent},function(t){h=t.EditorExpirationId},null,function(t){C=t.LevelEditorController},function(t){b=t.Singleton}],execute:function(){var f,m,g,v,y,E,x,A,T,P,D,O,w,S,z,L,N;r._RF.push({},"c31e7x5SKBO9qomdqvvpwb+","EditorExpirationDisplay",void 0);var V=a.ccclass,j=a.property;t("EditorExpirationDisplay",(f=V("EditorExpirationDisplay"),m=j({type:Number}),g=j({type:l,group:{name:"Components"}}),v=j({type:l,group:{name:"Components"}}),y=j({type:u,group:{name:"Components"}}),E=j({type:p,group:{name:"Components"}}),x=j({type:d,group:{name:"Components"}}),A=j({type:h,group:{name:"Components"}}),f((D=e((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"ruleValue",D,o(e)),i(e,"configsParent",O,o(e)),i(e,"expandedParent",w,o(e)),i(e,"expireCondition",S,o(e)),i(e,"amountControl",z,o(e)),i(e,"percentControl",L,o(e)),i(e,"idControl",N,o(e)),e.onDropdownEvent=void 0,e.saveCallback=null,e.onAmountChanged=void 0,e}n(e,t);var r=e.prototype;return r.initialize=function(t,e,n){this.saveCallback=n,this.expireCondition.initialize(t),this.amountControl.initialize(this.expandedParent,this.configsParent),this.percentControl.initialize(this.expandedParent,this.configsParent),this.idControl.initialize(this.expandedParent,this.configsParent),this.ruleValue=e,this.setStartingTab(t,e),this.setEvents()},r.setEvents=function(){var t=this;this.onDropdownEvent=function(e){t.onDropdownChanged(e)},this.onAmountChanged=function(e){t.onRuleValueChanged(e)},this.expireCondition.onOptionSelected.addListener(this.onDropdownEvent),this.amountControl.onAmountChanged.addListener(this.onAmountChanged),this.percentControl.onAmountChanged.addListener(this.onAmountChanged),this.idControl.onAmountChanged.addListener(this.onAmountChanged)},r.setStartingTab=function(t,e){this.disableAllTabs(),t==c.AfterNumberOfMatchedPieces?this.amountControl.activateTab("Number of Pieces: ",e):t==c.AfterNumberOfOptionTrays?this.amountControl.activateTab("Number of Trays: ",e):t==c.AfterTheObjectiveReacherPercentage?this.percentControl.activateTab("Objective Percent",e):t==c.AfterSpecificObjectiveIsCompleted&&this.idControl.activateTab(e,b.get(C).getListOfObjectives())},r.updateDisplay=function(t,e){this.expireCondition.updateDisplay(t),this.ruleValue=e,this.setStartingTab(t,e)},r.onDestroy=function(){null!==this.expireCondition.onOptionSelected&&this.expireCondition.onOptionSelected.removeListener(this.onDropdownEvent),null!==this.percentControl.onAmountChanged&&this.percentControl.onAmountChanged.removeListener(this.onAmountChanged),null!==this.amountControl.onAmountChanged&&this.amountControl.onAmountChanged.removeListener(this.onAmountChanged)},r.onDropdownChanged=function(t){console.log("EditorExpirationDisplay.onDropdownChanged() ",t),this.updateCurrentTab(t),this.saveCallback()},r.updateCurrentTab=function(t){this.disableAllTabs(),t==c.AfterNumberOfMatchedPieces?this.amountControl.activateTab("Number of Pieces: ",50):t==c.AfterNumberOfOptionTrays?this.amountControl.activateTab("Number of Trays: ",3):t==c.AfterTheObjectiveReacherPercentage?this.percentControl.activateTab("Objective Percent",20):t==c.AfterSpecificObjectiveIsCompleted&&this.idControl.activateTab(1,b.get(C).getListOfObjectives())},r.disableAllTabs=function(){this.amountControl.disableTab(),this.percentControl.disableTab(),this.idControl.disableTab()},r.onRuleValueChanged=function(t){console.log("EditorExpirationDisplay.onRuleValueChanged() ",t),this.ruleValue=t,this.saveCallback()},r.getSelectedId=function(){return this.expireCondition.selectedId},r.getRuleValue=function(){return this.ruleValue},e}(s)).prototype,"ruleValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=e(P.prototype,"configsParent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"expandedParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(P.prototype,"expireCondition",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"amountControl",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"percentControl",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(P.prototype,"idControl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=P))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorExpirationId.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./LevelAsset.ts","./Action.ts"],(function(t){var e,n,i,a,r,o,l,u,s,p,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.EditBox,u=t.Label,s=t.Node,p=t.Component},null,function(t){c=t.ObjectiveType},function(t){d=t.Action}],execute:function(){var b,h,g,f,m,v,y,E,T,x,I,P,D;r._RF.push({},"642b6j0EI5GLZveSvuFkM7T","EditorExpirationId",void 0);var z=o.ccclass,C=o.property;t("EditorExpirationId",(b=z("EditorExpirationId"),h=C({type:l,group:{name:"Components"}}),g=C({type:u,group:{name:"Components"}}),f=C({type:s,group:{name:"Runtime"}}),m=C({type:s,group:{name:"Runtime"}}),v=C({type:[c],group:{name:"Runtime"}}),b((T=e((E=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"amount",T,a(e)),i(e,"label",x,a(e)),i(e,"expandedParent",I,a(e)),i(e,"defaultParent",P,a(e)),i(e,"activeObjectives",D,a(e)),e.onAmountChanged=new d,e}n(e,t);var r=e.prototype;return r.initialize=function(t,e){this.expandedParent=t,this.defaultParent=e,this.toggleTab(!1),this.amount.node.on(l.EventType.TEXT_CHANGED,this.onValueChanged,this)},r.toggleTab=function(t){this.node.active=t,t?(this.node.setParent(this.expandedParent),this.node.setSiblingIndex(1)):(this.node.setParent(this.defaultParent),this.node.setSiblingIndex(0))},r.onValueChanged=function(){if(0!=this.amount.string.length){var t=Number.parseInt(this.amount.string);this.updateDisplay(t),this.onAmountChanged.invoke(t)}},r.activateTab=function(t,e){console.log("EditorExpirationId.activateTab: "+t),this.amount.string=t.toString(),this.refreshTab(e),this.toggleTab(!0)},r.refreshTab=function(t){this.activeObjectives=t;var e=Number.parseInt(this.amount.string);this.updateDisplay(e)},r.updateDisplay=function(t){if(t>this.activeObjectives.length||0==t)this.updateLabelDisplay("Invalid ID!");else{var e=c[t-1];this.updateLabelDisplay(e)}},r.updateLabelDisplay=function(t){this.label.string=t},r.disableTab=function(){this.toggleTab(!1)},e}(p)).prototype,"amount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(E.prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(E.prototype,"expandedParent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"defaultParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"activeObjectives",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorExpirationPercent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EditorSliderControl.ts","./Action.ts"],(function(e){var t,n,i,r,o,a,l,u,s,d,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node,s=e.Vec2,d=e.Component},null,function(e){c=e.EditorSliderControl},function(e){p=e.Action}],execute:function(){var h,f,g,b,v,m,y,P,E,S,x;o._RF.push({},"79a30X5AG1BpIFJ9+Qn+YOW","EditorExpirationPercent",void 0);var C=a.ccclass,z=a.property;e("EditorExpirationPercent",(h=C("EditorExpirationPercent"),f=z({type:c,group:{name:"Components"}}),g=z({type:l,group:{name:"Components"}}),b=z({type:u,group:{name:"Runtime"}}),v=z({type:u,group:{name:"Runtime"}}),h((P=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"valuesSlider",P,r(t)),i(t,"label",E,r(t)),i(t,"expandedParent",S,r(t)),i(t,"defaultParent",x,r(t)),t.onAmountChanged=new p,t.onSliderEvent=void 0,t}n(t,e);var o=t.prototype;return o.initialize=function(e,t){this.expandedParent=e,this.defaultParent=t,this.toggleTab(!1),this.valuesSlider.initialize(5,new s(1,99)),this.setEvents()},o.setEvents=function(){var e=this;this.onSliderEvent=function(t){e.onSliderChanged(t)},this.valuesSlider.onValueChanged.addListener(this.onSliderEvent)},o.toggleTab=function(e){this.node.active=e,e?(this.node.setParent(this.expandedParent),this.node.setSiblingIndex(1)):(this.node.setParent(this.defaultParent),this.node.setSiblingIndex(0))},o.onSliderChanged=function(e){this.onAmountChanged.invoke(e)},o.activateTab=function(e,t){this.label.string=e,this.valuesSlider.updateCurrentValue(t),this.toggleTab(!0)},o.disableTab=function(){this.toggleTab(!1)},t}(d)).prototype,"valuesSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(y.prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(y.prototype,"expandedParent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"defaultParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/EditorObjectivesController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EditorObjectivesDisplay.ts","./LevelAsset.ts","./SimpleEditorDropdown.ts","./index2.ts","./LevelEditorController.ts","./UI_GenericData.ts","./Singleton.ts"],(function(e){var t,i,o,n,r,l,a,s,d,c,u,b,v,p,h,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,a=e._decorator,s=e.Prefab,d=e.Node,c=e.instantiate,u=e.Component},function(e){b=e.EditorObjectivesDisplay},function(e){v=e.ObjectiveData},function(e){p=e.SimpleEditorDropdown},null,function(e){h=e.LevelEditorController},function(e){f=e.ObjectiveSprite},function(e){g=e.Singleton}],execute:function(){var m,j,O,y,E,S,w,C,L,k,D,R,P,z,A,B,I,x,F;l._RF.push({},"0b2daqk5/5HPISl09f1UOFN","EditorObjectivesController",void 0);var M=a.ccclass,N=a.property;e("EditorObjectivesController",(m=M("EditorObjectivesController"),j=N({type:Number}),O=N({type:[b]}),y=N({type:[v]}),E=N({type:s,group:{name:"Components"}}),S=N({type:d,group:{name:"Components"}}),w=N({type:d,group:{name:"Components"}}),C=N({type:p,group:{name:"Components"}}),L=N({type:[f]}),m((R=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"selectedId",R,n(t)),o(t,"blocks",P,n(t)),o(t,"loadedObjectives",z,n(t)),o(t,"displayPrefab",A,n(t)),o(t,"addParent",B,n(t)),o(t,"blockParent",I,n(t)),o(t,"dropdown",x,n(t)),o(t,"objectiveSprites",F,n(t)),t.handleDisplaySelected=void 0,t.dropdownEventLambda=void 0,t.editboxEventLambda=void 0,t.removeButtonEventLambda=void 0,t}i(t,e);var l=t.prototype;return l.initialize=function(e){this.loadedObjectives=e,this.dropdown.initialize(0),this.toggleRuleAdditionMode(!1),this.setEvents(),this.createButtons(e)},l.setEvents=function(){var e=this;this.handleDisplaySelected=function(t){e.onObjectiveSelected(t)},this.dropdownEventLambda=function(t){e.onNewRuleSelected(t)},this.editboxEventLambda=function(t){e.onObjectiveAmountChanged(t)},this.removeButtonEventLambda=function(t){e.onDeleteRule(t)},this.dropdown.onOptionSelected.addListener(this.dropdownEventLambda)},l.createButtons=function(e){for(var t=0;t<e.length;t++)this.createObjectiveBlock(t,e[t].type,e[t].amount)},l.createObjectiveBlock=function(e,t,i){var o=c(this.displayPrefab);o.parent=this.blockParent,o.setSiblingIndex(e);var n=o.getComponent(b);n.initialize(e,this.getSpriteFromObjective(t),i),n.onOptionSelected.addListener(this.handleDisplaySelected),n.onAmountChanged.addListener(this.editboxEventLambda),n.onRemovePressed.addListener(this.removeButtonEventLambda),this.blocks.push(n)},l.toggleRuleAdditionMode=function(e){this.dropdown.node.active=e,this.addParent.active=!e},l.addRuleButton=function(){this.toggleRuleAdditionMode(!0)},l.onNewRuleSelected=function(e){this.addRule(e)},l.addRule=function(e){this.dropdown.node.active=!1,console.log("EditorObjectivesController.addRule()");var t=this.blocks.length,i=e,o=new v;o.amount=1,o.type=i,this.loadedObjectives.push(o),this.createObjectiveBlock(t,i,1),this.toggleRuleAdditionMode(!1),this.saveData()},l.onObjectiveSelected=function(e){console.log("EditorObjectivesController.onObjectiveSelected() ",e),this.selectedId=e;for(var t=0;t<this.blocks.length;t++)this.blocks[t].toggleSelection(!1);this.blocks[e].toggleSelection(!0)},l.onObjectiveAmountChanged=function(e){console.log("EditorObjectivesController.onObjectiveAmountChanged(id: "+this.selectedId+" |"+e+") "),this.loadedObjectives[this.selectedId].amount=e,this.saveData()},l.onDeleteRule=function(e){this.loadedObjectives.splice(e,1);for(var t=0;t<this.blocks.length;t++)this.blocks[t].node.destroy();this.blocks=new Array;for(var i=0;i<this.loadedObjectives.length;i++)this.createObjectiveBlock(i,this.loadedObjectives[i].type,this.loadedObjectives[i].amount);this.saveData()},l.getSpriteFromObjective=function(e){for(var t,i=r(this.objectiveSprites);!(t=i()).done;){var o=t.value;if(o.objective===e)return o.sprite}return null},l.saveData=function(){console.log("EditorObjectivesController.saveData()"),g.get(h).updateObjectives(this.loadedObjectives)},l.getListOfObjectives=function(){for(var e=[],t=0;t<this.loadedObjectives.length;t++)e.push(this.loadedObjectives[t].type);return e},t}(u)).prototype,"selectedId",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(D.prototype,"blocks",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(D.prototype,"loadedObjectives",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(D.prototype,"displayPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"addParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(D.prototype,"blockParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"dropdown",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"objectiveSprites",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=D))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/EditorObjectivesDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(t){var e,n,i,o,r,u,a,l,p,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.Button,l=t.EditBox,p=t.Sprite,s=t.Component},null,function(t){c=t.Action}],execute:function(){var m,d,h,b,y,f,g,v,C,B,I,E,w,z,k,S,D;r._RF.push({},"cc808hXr1lIHbLkXfm0ixF4","EditorObjectivesDisplay",void 0);var j=u.ccclass,T=u.property;t("EditorObjectivesDisplay",(m=j("EditorObjectivesDisplay"),d=T({type:Number,group:{name:"Runtime"}}),h=T({type:Number,group:{name:"Runtime"}}),b=T({type:a,group:{name:"Components"}}),y=T({type:a,group:{name:"Components"}}),f=T({type:l,group:{name:"Components"}}),g=T({type:a,group:{name:"Components"}}),v=T({type:p,group:{name:"Components"}}),m((I=e((B=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,i(e,"id",I,o(e)),i(e,"objectiveId",E,o(e)),i(e,"mainButton",w,o(e)),i(e,"deleteButton",z,o(e)),i(e,"amountInput",k,o(e)),i(e,"inputButton",S,o(e)),i(e,"displaySprite",D,o(e)),e.onOptionSelected=new c,e.onAmountChanged=new c,e.onRemovePressed=new c,e}n(e,t);var r=e.prototype;return r.initialize=function(t,e,n){var i=this;this.id=t,this.displaySprite.spriteFrame=e,this.amountInput.string=n.toString(),this.mainButton.node.on(a.EventType.CLICK,(function(){return i.mainButtonClick()}),this),this.amountInput.node.on(l.EventType.TEXT_CHANGED,this.amountChangedEvent,this),this.inputButton.node.on(a.EventType.CLICK,(function(){return i.mainButtonClick()}),this),this.deleteButton.node.on(a.EventType.CLICK,(function(){return i.removeButtonPressed()}),this)},r.mainButtonClick=function(){console.log("block selected()"),this.onOptionSelected.invoke(this.id)},r.amountChangedEvent=function(){0!=this.amountInput.string.length&&this.onAmountChanged.invoke(Number.parseInt(this.amountInput.string))},r.removeButtonPressed=function(){this.onRemovePressed.invoke(this.id)},r.toggleSelection=function(t){this.deleteButton.node.active=!!t},e}(s)).prototype,"id",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(B.prototype,"objectiveId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(B.prototype,"mainButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"deleteButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(B.prototype,"amountInput",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(B.prototype,"inputButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(B.prototype,"displaySprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=B))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorPreviewTray.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DragDropComponent.ts","./LevelAsset.ts","./HexSlot.ts","./index2.ts","./Action.ts"],(function(t){var e,n,o,i,r,a,s,l,u,c,p,h,f,g,y,m,d,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.Node,u=t.instantiate,c=t.Vec3,p=t.randomRangeInt,h=t.Component},function(t){f=t.DragDropComponent,g=t.DragDropMode},function(t){y=t.LevelRuleSet,m=t.PieceColor},function(t){d=t.HexSlot,b=t.PieceStack},null,function(t){v=t.Action}],execute:function(){var S,w,P,O,C,x,A,T,k,R,z,D,E,M,L,B,_,H,I;r._RF.push({},"80167FhstlLcrHHJTQqtu4P","EditorPreviewTray",void 0);var N=a.ccclass,F=a.property;t("EditorPreviewTray",(S=N("EditorPreviewTray"),w=F(),P=F(),O=F({type:[d]}),C=F({type:[f]}),x=F({type:[y]}),A=F({type:Boolean}),T=F({type:s,group:{name:"Components"}}),k=F({type:[l],group:{name:"Components"}}),S((D=e((z=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"traysCount",D,i(e)),o(e,"remainingSlots",E,i(e)),o(e,"hexOptions",M,i(e)),o(e,"dragOptions",L,i(e)),o(e,"currentRuleset",B,i(e)),o(e,"hasBaseSlots",_,i(e)),o(e,"slotPrefab",H,i(e)),o(e,"optionsPositions",I,i(e)),e.onNewTrayGenerated=new v,e.onTrayEmptied=new v,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.generateEmptySlots()},r.initializeTray=function(){this.generateEmptySlots()},r.startLevel=function(){this.traysCount=0,this.node.active=!0},r.updateRuleSet=function(t){console.log("OptionsTray.updateRuleSet()"),this.currentRuleset=t},r.generateNewOptionsTray=function(){this.traysCount++,this.remainingSlots=3,this.onNewTrayGenerated.invoke(this.traysCount);for(var t=0;t<this.hexOptions.length;t++)this.hexOptions[t].setPiecesStack(this.generatePiecesStack(this.currentRuleset)),this.hexOptions[t].canMovePieceStack=!0,this.hexOptions[t].setCurrentInteractionMode(g.Drag)},r.PlaceSlotOnGrid=function(){this.remainingSlots--,0==this.remainingSlots&&this.onTrayEmptied.invoke()},r.generateEmptySlots=function(){if(!this.hasBaseSlots){this.hexOptions=[],this.dragOptions=[];for(var t=0;t<this.optionsPositions.length;t++){var e=u(this.slotPrefab);e.parent=this.optionsPositions[t],e.position=new c(0,0,0),this.hexOptions.push(e.getComponent(d)),this.dragOptions.push(e.getComponent(f))}this.hasBaseSlots=!0,console.log(this.node.name+" OptionsTray.generateEmptySlots()")}},r.generatePiecesStack=function(t){for(var e=[],n=p(t.stackAmountAllowed.x,t.stackAmountAllowed.y+1),o=Math.min(t.colorCombinationsAllowed.x,n,t.colorsAllowed.length),i=Math.min(t.colorCombinationsAllowed.y,n,t.colorsAllowed.length),r=p(o,i+1),a=this.generateColorOptions(r,t.colorsAllowed),s=n,l=r,u=0;u<r;u++){var c=new b;c.pieceColor=a[u];var h=1;if(r!=n)h=p(1,s-l+1+1),u==r-1&&(h=s);c.amount=h,s-=h,l--,e.push(c)}return e},r.generateColorOptions=function(t,e){var n=[];e=this.shuffleArray(e);for(var o=0;o<t;o++)n.push(e[o]);return n},r.shuffleArray=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=[t[n],t[e]];t[e]=o[0],t[n]=o[1]}return t},r.debug_PrintPiecesArray=function(t){for(var e="",n=0;n<t.length;n++)e+=m[t[n].pieceColor]+" - "+t[n].amount+" |";return e},r.cheat_RefreshTray=function(){for(var t=0;t<this.hexOptions.length;t++)this.hexOptions[t].setPiecesStack(this.generatePiecesStack(this.currentRuleset)),this.hexOptions[t].canMovePieceStack=!0,this.hexOptions[t].setCurrentInteractionMode(g.Drag)},e}(h)).prototype,"traysCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(z.prototype,"remainingSlots",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=e(z.prototype,"hexOptions",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(z.prototype,"dragOptions",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(z.prototype,"currentRuleset",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"hasBaseSlots",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(z.prototype,"slotPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(z.prototype,"optionsPositions",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=z))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorRangeEditbox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(t){var n,e,i,r,a,u,o,l,s,p,c,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,u=t._decorator,o=t.Vec2,l=t.Label,s=t.EditBox,p=t.math,c=t.Component},null,function(t){h=t.Action}],execute:function(){var g,d,y,f,b,m,E,v,C,D,R,V,x;a._RF.push({},"d98164loEZKopn8yOhJPrV9","EditorRangeEditbox",void 0);var I=u.ccclass,w=u.property;t("EditorRangeEditbox",(g=I("EditorRangeEditbox"),d=w({type:o}),y=w({type:Number}),f=w({type:l,group:{name:"Components"}}),b=w({type:l,group:{name:"Components"}}),m=w({type:s,group:{name:"Components"}}),g((C=n((v=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return n=t.call.apply(t,[this].concat(a))||this,i(n,"valueRange",C,r(n)),i(n,"currentValue",D,r(n)),i(n,"minDisplay",R,r(n)),i(n,"maxDisplay",V,r(n)),i(n,"input",x,r(n)),n.onInputChanged=new h,n}e(n,t);var a=n.prototype;return a.initialize=function(t,n){this.setValueRange(n.x,n.y),this.setCurrentValue(t),this.input.node.on(s.EventType.TEXT_CHANGED,this.handleInputChanged,this),this.input.node.on(s.EventType.EDITING_DID_ENDED,this.handleEditingEnded,this)},a.setValueRange=function(t,n){this.valueRange=new o(t,n),this.minDisplay.string=t.toString(),this.maxDisplay.string=n.toString()},a.setCurrentValue=function(t){this.currentValue=t,this.input.string=this.currentValue.toString()},a.handleInputChanged=function(){if(0!=this.input.string.length){var t=Number.parseInt(this.input.string);this.currentValue=t,this.onInputChanged.invoke(t)}},a.handleEditingEnded=function(){var t=Number.parseInt(this.input.string);t=p.clamp(t,this.valueRange.x,this.valueRange.y),this.setCurrentValue(t),this.onInputChanged.invoke(t)},a.updateRange=function(t,n){this.setValueRange(t,n)},a.updateCurrentValue=function(t){this.setCurrentValue(t)},n}(c)).prototype,"valueRange",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o(1,9)}}),D=n(v.prototype,"currentValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=n(v.prototype,"minDisplay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(v.prototype,"maxDisplay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(v.prototype,"input",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=v))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/EditorRangeSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,o,r,a,l,c,s,u,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.EditBox,c=e.Toggle,s=e.Node,u=e.Vec2,g=e.Component}],execute:function(){var p,h,m,d,b,f,B,x,y,k,v,C,E;r._RF.push({},"0fe4bnC8jBBr7MoSi2WG6zL","EditorRangeSelector",void 0);var T=a.ccclass,z=a.property;e("EditorRangeSelector",(p=T("EditorRangeSelector"),h=z({type:l,group:{name:"Components"}}),m=z({type:l,group:{name:"Components"}}),d=z({type:c,group:{name:"Components"}}),b=z({type:s,group:{name:"Components"}}),f=z({type:s,group:{name:"Components"}}),p((y=n((x=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"minBox",y,o(n)),i(n,"maxBox",k,o(n)),i(n,"toggle",v,o(n)),i(n,"normalBlock",C,o(n)),i(n,"overrideBlock",E,o(n)),n.callback=null,n}t(n,e);var r=n.prototype;return r.initialize=function(e,n,t,i){this.callback=i,this.minBox.node.on(l.EventType.TEXT_CHANGED,this.onMinChanged,this),this.maxBox.node.on(l.EventType.TEXT_CHANGED,this.onMaxChanged,this),this.toggle.node.on(c.EventType.TOGGLE,this.onToggleChanged,this),this.updateRange(e,n,t)},r.updateRange=function(e,n,t){this.minBox.string=e.toString(),this.maxBox.string=n.toString()},r.getRange=function(){return new u(parseInt(this.minBox.string),parseInt(this.maxBox.string))},r.onMinChanged=function(){0!=this.minBox.string.length&&this.callback&&this.callback()},r.onMaxChanged=function(){0!=this.maxBox.string.length&&this.callback&&this.callback()},r.onToggleChanged=function(){this.toggle.isChecked?(this.normalBlock.active=!1,this.overrideBlock.active=!0):(this.normalBlock.active=!0,this.overrideBlock.active=!1),this.callback&&this.callback()},n}(g)).prototype,"minBox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(x.prototype,"maxBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(x.prototype,"toggle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(x.prototype,"normalBlock",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(x.prototype,"overrideBlock",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=x))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorRuleButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,l,a,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label,u=e.Button,c=e.Node,p=e.Component}],execute:function(){var s,b,y,m,f,g,h,d,v,D,z;o._RF.push({},"5bacbag4iVHdqNj6ayMTFh4","EditorRuleButton",void 0);var L=l.ccclass,B=l.property;e("EditorRuleButton",(s=L("EditorRuleButton"),b=B({type:a,group:{name:"Components"}}),y=B({type:u,group:{name:"Components"}}),m=B({type:c,group:{name:"Components"}}),f=B({type:c,group:{name:"Components"}}),s((d=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"numberLabel",d,r(t)),i(t,"button",v,r(t)),i(t,"normalDisplay",D,r(t)),i(t,"selectedDisplay",z,r(t)),t}n(t,e);var o=t.prototype;return o.initialize=function(e){this.numberLabel&&(this.numberLabel.string=(e+1).toString())},o.toggleSelection=function(e){e?(this.normalDisplay.active=!1,this.selectedDisplay.active=!0,this.button.interactable=!1):(this.normalDisplay.active=!0,this.selectedDisplay.active=!1,this.button.interactable=!0)},t}(p)).prototype,"numberLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"button",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(h.prototype,"normalDisplay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(h.prototype,"selectedDisplay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/EditorRulesController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./EditorSingleRuleDisplay.ts","./EditorRuleButton.ts","./index2.ts","./LevelEditorController.ts","./EditorPreviewTray.ts","./Singleton.ts"],(function(e){var t,n,l,o,r,i,u,s,a,d,c,p,h,R,f,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,u=e.Prefab,s=e.Node,a=e.Button,d=e.instantiate,c=e.Component},function(e){p=e.LevelRuleSet},function(e){h=e.EditorSingleRuleDisplay},function(e){R=e.EditorRuleButton},null,function(e){f=e.LevelEditorController},function(e){g=e.EditorPreviewTray},function(e){y=e.Singleton}],execute:function(){var B,b,v,m,C,w,I,E,D,z,P,S,N,T,L,_,x,A,F;r._RF.push({},"c466cqeplRNH4sN2f144W5f","EditorRulesController",void 0);var H=i.ccclass,K=i.property;e("EditorRulesController",(B=H("EditorRulesController"),b=K({type:Number}),v=K({type:h,group:{name:"Components"}}),m=K({type:u,group:{name:"Components"}}),C=K({type:R,group:{name:"Components"}}),w=K({type:s,group:{name:"Components"}}),I=K({type:g,group:{name:"Components"}}),E=K({type:[p]}),D=K({type:[R]}),B((S=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,l(t,"selectedId",S,o(t)),l(t,"currentRuleDisplay",N,o(t)),l(t,"ruleButtonPrefab",T,o(t)),l(t,"addRuleButton",L,o(t)),l(t,"sideBarParent",_,o(t)),l(t,"optionsTray",x,o(t)),l(t,"loadedRules",A,o(t)),l(t,"ruleButtons",F,o(t)),t}n(t,e);var r=t.prototype;return r.initialize=function(e){var t=this;this.loadedRules=e,this.createButtons(),this.currentRuleDisplay.initialize(this.loadedRules[0],this.loadedRules.length<=1,(function(){return t.saveData()}),(function(){return t.deleteCurrentRule()})),this.selectedId=0,this.addRuleButton.button.node.on(a.EventType.CLICK,(function(){return t.createNewRule()}),this)},r.createButtons=function(){for(var e=0;e<this.loadedRules.length;e++)this.createNewButton(e);this.ruleButtons[this.selectedId].toggleSelection(!0)},r.createNewButton=function(e){var t=this,n=d(this.ruleButtonPrefab);n.parent=this.sideBarParent,n.name="RuleButton "+(e+1),n.setSiblingIndex(e);var l=n.getComponent(R);l.initialize(e),l.button.node.on(a.EventType.CLICK,(function(){return t.loadRulesById(e)}),this),this.ruleButtons.push(l)},r.saveData=function(){console.log("EditorRulesController.saveData()");var e=this.currentRuleDisplay.getRulesetData();this.loadedRules[this.selectedId]=e,y.get(f).updateRuleset(this.loadedRules)},r.createNewRule=function(){var e=new p;this.loadedRules.push(e),this.createNewButton(this.loadedRules.length-1),y.get(f).updateRuleset(this.loadedRules),this.loadRulesById(this.loadedRules.length-1)},r.deleteCurrentRule=function(){if(console.log("EditorRulesController.deleteCurrentRule()"),!(this.loadedRules.length<=1)){this.loadedRules.splice(this.selectedId,1);for(var e=0;e<this.ruleButtons.length;e++)this.ruleButtons[e].node.destroy();this.ruleButtons=new Array;for(var t=0;t<this.loadedRules.length;t++)this.createNewButton(t);var n=this.selectedId>0?this.selectedId-1:0;y.get(f).updateRuleset(this.loadedRules),this.loadRulesById(n)}},r.generatePreview=function(){this.optionsTray.updateRuleSet(this.loadedRules[this.selectedId]),this.optionsTray.generateNewOptionsTray()},r.loadRulesById=function(e){console.log("EditorRulesController.loadRulesById: ",e),this.selectedId=e,this.toggleButtonDisplay(e),this.currentRuleDisplay.loadRuleSet(this.loadedRules[e],this.loadedRules.length<=1)},r.toggleButtonDisplay=function(e){for(var t=0;t<this.ruleButtons.length;t++)this.ruleButtons[t].toggleSelection(!1);this.ruleButtons[e].toggleSelection(!0)},t}(c)).prototype,"selectedId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(P.prototype,"currentRuleDisplay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"ruleButtonPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(P.prototype,"addRuleButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"sideBarParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(P.prototype,"optionsTray",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"loadedRules",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(P.prototype,"ruleButtons",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=P))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorSequenceButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,u,a,l,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,a=e.Label,l=e.Button,p=e.Node,c=e.Component}],execute:function(){var s,b,m,y,f,g,d,h,D,v,z,L,w,S,B;o._RF.push({},"47577i8ntxMLoojIAADtVIW","EditorSequenceButton",void 0);var I=u.ccclass,C=u.property;e("EditorSequenceButton",(s=I("EditorSequenceButton"),b=C({type:Number,group:{name:"Runtime"}}),m=C({type:Number,group:{name:"Runtime"}}),y=C({type:a,group:{name:"Components"}}),f=C({type:l,group:{name:"Components"}}),g=C({type:p,group:{name:"Components"}}),d=C({type:p,group:{name:"Components"}}),s((v=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,i(t,"buttonId",v,r(t)),i(t,"buttonValue",z,r(t)),i(t,"numberLabel",L,r(t)),i(t,"button",w,r(t)),i(t,"normalDisplay",S,r(t)),i(t,"selectedDisplay",B,r(t)),t}n(t,e);var o=t.prototype;return o.initialize=function(e,t){this.buttonId=e,this.buttonValue=t,this.numberLabel&&(this.numberLabel.string=t.toString())},o.toggleSelection=function(e){e?(this.normalDisplay.active=!1,this.selectedDisplay.active=!0,this.button.interactable=!1):(this.normalDisplay.active=!0,this.selectedDisplay.active=!1,this.button.interactable=!0)},t}(c)).prototype,"buttonId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(D.prototype,"buttonValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(D.prototype,"numberLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(D.prototype,"button",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(D.prototype,"normalDisplay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"selectedDisplay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=D))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/EditorSingleRuleDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./EditorColorSelector.ts","./EditorRangeSelector.ts","./EditorExpirationDisplay.ts"],(function(e){var t,o,l,i,n,r,a,u,s,p,c,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.Button,u=e.Node,s=e.Component},function(e){p=e.LevelRuleSet},function(e){c=e.EditorColorSelector},function(e){d=e.EditorRangeSelector},function(e){y=e.EditorExpirationDisplay}],execute:function(){var A,m,b,w,f,g,h,D,C,v,R,B,E,S,k,x,z;n._RF.push({},"bbd9f7xA0RPlLUOP4WY+/3t","EditorSingleRuleDisplay",void 0);var L=r.ccclass,P=r.property;e("EditorSingleRuleDisplay",(A=L("EditorSingleRuleDisplay"),m=P({type:y,group:{name:"Components"}}),b=P({type:c,group:{name:"Components"}}),w=P({type:d,group:{name:"Components"}}),f=P({type:d,group:{name:"Components"}}),g=P({type:a,group:{name:"Components"}}),h=P({type:a,group:{name:"Components"}}),D=P({type:u,group:{name:"Components"}}),A((R=t((v=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,l(t,"expireCondition",R,i(t)),l(t,"colorAllowedDisplay",B,i(t)),l(t,"combinationsAllowedDisplay",E,i(t)),l(t,"stackAmountAllowedDisplay",S,i(t)),l(t,"previewBtn",k,i(t)),l(t,"deleteBtn",x,i(t)),l(t,"popupDelete",z,i(t)),t.deleteCallback=null,t}o(t,e);var n=t.prototype;return n.initialize=function(e,t,o,l){var i=this;this.deleteCallback=l,this.deleteBtn.node.on(a.EventType.CLICK,(function(){return i.deleteButton()}),this),this.previewBtn.node.on(a.EventType.CLICK,(function(){return i.previewButton()}),this);for(var n=e.type,r=[],u=0;u<e.colorsAllowed.length;u++)r.push(e.colorsAllowed[u]-1);this.expireCondition.initialize(n,e.ruleValue,o),this.colorAllowedDisplay.initialize(r,o),this.combinationsAllowedDisplay.initialize(e.colorCombinationsAllowed.x,e.colorCombinationsAllowed.y,!1,o),this.stackAmountAllowedDisplay.initialize(e.stackAmountAllowed.x,e.stackAmountAllowed.y,!1,o),this.deleteBtn.interactable=!t},n.loadRuleSet=function(e,t){for(var o=e.type,l=[],i=0;i<e.colorsAllowed.length;i++)l.push(e.colorsAllowed[i]-1);this.expireCondition.updateDisplay(o,e.ruleValue),this.colorAllowedDisplay.updateAvailableColors(l),this.combinationsAllowedDisplay.updateRange(e.colorCombinationsAllowed.x,e.colorCombinationsAllowed.y,!1),this.stackAmountAllowedDisplay.updateRange(e.stackAmountAllowed.x,e.stackAmountAllowed.y,!1),this.deleteBtn.interactable=!t},n.getRulesetData=function(){var e=new p;return e.type=this.expireCondition.getSelectedId(),e.ruleValue=this.expireCondition.getRuleValue(),e.colorsAllowed=this.convertToPieceColorArray(this.colorAllowedDisplay.getSelectedColors()),e.colorCombinationsAllowed=this.combinationsAllowedDisplay.getRange(),e.stackAmountAllowed=this.stackAmountAllowedDisplay.getRange(),e},n.deleteButton=function(){console.log("EditorSingleRuleDisplay.deleteButton()"),this.deleteBtn.interactable=!1,this.popupDelete.active=!0},n.confirmDelete=function(){var e;this.deleteBtn.interactable=!0,this.popupDelete.active=!1,console.log("EditorSingleRuleDisplay.confirmDelete()"),null==(e=this.deleteCallback)||e.call(this)},n.cancelDelete=function(){this.deleteBtn.interactable=!0,this.popupDelete.active=!1},n.previewButton=function(){},n.convertToPieceColorArray=function(e){console.log("numberArray: ",e);for(var t=e.map((function(e){return e})),o=0;o<t.length;o++)t[o]=t[o]+1;return console.log("colorArray: ",t),t},t}(s)).prototype,"expireCondition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(v.prototype,"colorAllowedDisplay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(v.prototype,"combinationsAllowedDisplay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"stackAmountAllowedDisplay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"previewBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(v.prototype,"deleteBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"popupDelete",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/EditorSingleStack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EditorStackObstacleBlock.ts","./EditorStackColorBlock.ts"],(function(o){var t,e,l,i,n,r,a,c,s,u,g,p;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,l=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){n=o.cclegacy,r=o._decorator,a=o.Toggle,c=o.Label,s=o.Button,u=o.Component},function(o){g=o.EditorStackObstacleBlock},function(o){p=o.EditorStackColorBlock}],execute:function(){var h,b,k,C,d,f,m,v,y,B,S,w,E,T,z,I,D,U,L;n._RF.push({},"30f5dB4H3JINLg1jrTfrsGd","EditorSingleStack",void 0);var O=r.ccclass,M=r.property;o("EditorSingleStack",(h=O("EditorSingleStack"),b=M({type:Number}),k=M({type:Boolean}),C=M({type:a,group:{name:"Components"}}),d=M({type:c,group:{name:"Components"}}),f=M({type:s,group:{name:"Components"}}),m=M({type:s,group:{name:"Components"}}),v=M({type:p,group:{name:"Components"}}),y=M({type:g,group:{name:"Components"}}),h((w=t((S=function(o){function t(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=o.call.apply(o,[this].concat(n))||this,l(t,"id",w,i(t)),l(t,"isColor",E,i(t)),l(t,"toggle",T,i(t)),l(t,"typeTitle",z,i(t)),l(t,"moveUpBtn",I,i(t)),l(t,"moveDownBtn",D,i(t)),l(t,"colorBlock",U,i(t)),l(t,"obstacleBlock",L,i(t)),t.deleteCallback=null,t.moveCallback=null,t.saveCallback=null,t}e(t,o);var n=t.prototype;return n.initialize=function(o,t,e,l,i,n,r,c){var s=this;this.id=o,this.isColor=l,this.deleteCallback=n,this.moveCallback=r,this.saveCallback=c,this.toggle.isChecked=this.isColor,this.toggle.node.on(a.EventType.TOGGLE,this.onToggleChanged,this),this.colorBlock.initialize(t,e,(function(){return s.saveCallback()})),this.obstacleBlock.initialize(i,e,(function(){return s.saveCallback()})),this.toggleIsColor(this.isColor,!1)},n.removeBlock=function(){var o;console.log("EditorSingleStack.removeBlock() ",this.id),null==(o=this.deleteCallback)||o.call(this,this.id)},n.moveUp=function(){var o;console.log("EditorSingleStack.moveUp() ",this.id),null==(o=this.moveCallback)||o.call(this,this.id,!0)},n.moveDown=function(){var o;console.log("EditorSingleStack.moveDown() ",this.id),null==(o=this.moveCallback)||o.call(this,this.id,!1)},n.onToggleChanged=function(){var o;console.log("EditorSingleStack.onToggleChanged()"),this.isColor=!this.isColor,this.toggleIsColor(this.isColor,!0),null==(o=this.saveCallback)||o.call(this)},n.toggleIsColor=function(o,t){console.log("EditorSingleStack.toggleIsColor: "+o),this.isColor=o,this.colorBlock.toggleBlock(o),this.obstacleBlock.toggleBlock(!o),this.isColor?this.typeTitle.string="Is color":this.typeTitle.string="Not color"},n.toggleCanMoveUp=function(o){this.moveUpBtn.interactable=o},n.toggleCanMoveDown=function(o){this.moveDownBtn.interactable=o},n.updateId=function(o){this.id=o},n.getIsColor=function(){return this.isColor},n.getAmount=function(){return this.isColor?this.colorBlock.piecesAmount:Math.max(1,this.obstacleBlock.amount)},n.getColorId=function(){return this.colorBlock.colorId+1},n.getObstacleTypeId=function(){return this.obstacleBlock.getObstacleTypeId()+1},t}(u)).prototype,"id",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(S.prototype,"isColor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=t(S.prototype,"toggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"typeTitle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"moveUpBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"moveDownBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(S.prototype,"colorBlock",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"obstacleBlock",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=S))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/EditorSliderControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(e){var t,n,r,i,a,l,u,o,s,p,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,u=e.Vec2,o=e.Slider,s=e.Label,p=e.math,c=e.Component},null,function(e){g=e.Action}],execute:function(){var h,y,d,f,b,m,v,V,C,R,D,S,w,z,x,E,L;a._RF.push({},"101bcgzY45EIayD73GSMZH2","EditorSliderControl",void 0);var P=l.ccclass,_=l.property;e("EditorSliderControl",(h=P("EditorSliderControl"),y=_({type:Number}),d=_({type:u}),f=_({type:Number}),b=_({type:o,group:{name:"Components"}}),m=_({type:s,group:{name:"Components"}}),v=_({type:s,group:{name:"Components"}}),V=_({type:s,group:{name:"Components"}}),h((D=t((R=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"startValue",D,i(t)),r(t,"valueRange",S,i(t)),r(t,"currentValue",w,i(t)),r(t,"slider",z,i(t)),r(t,"minDisplay",x,i(t)),r(t,"maxDisplay",E,i(t)),r(t,"currentDisplay",L,i(t)),t.onValueChanged=new g,t}n(t,e);var a=t.prototype;return a.initialize=function(e,t){this.setValueRange(t.x,t.y),this.setCurrentValue(e),this.slider.progress=p.inverseLerp(this.valueRange.x,this.valueRange.y,e),this.slider.node.on("slide",this.onSliderChanged,this)},a.updateRange=function(e,t){this.setValueRange(e,t)},a.updateCurrentValue=function(e){this.setCurrentValue(e),this.slider.progress=p.inverseLerp(this.valueRange.x,this.valueRange.y,e)},a.setCurrentValue=function(e){this.currentValue=e,this.currentDisplay.string=e.toString()},a.setValueRange=function(e,t){this.valueRange=new u(e,t),this.minDisplay.string=e.toString(),this.maxDisplay.string=t.toString()},a.convertPercentageToValue=function(e){var t=!1,n=p.lerp(this.valueRange.x,this.valueRange.y,e);return(n=Math.round(n))!=this.currentValue&&(t=!0),this.setCurrentValue(n),t},a.onSliderChanged=function(){this.convertPercentageToValue(this.slider.progress)&&this.onValueChanged.invoke(this.currentValue)},t}(c)).prototype,"startValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=t(R.prototype,"valueRange",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,9)}}),w=t(R.prototype,"currentValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(R.prototype,"slider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"minDisplay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"maxDisplay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"currentDisplay",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=R))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/EditorStackColorBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SimpleEditorDropdown.ts","./EditorSliderControl.ts","./EditorButtonSequence.ts"],(function(e){var t,n,o,i,r,l,a,u,c,s,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Vec2,u=e.math,c=e.Component},function(e){s=e.SimpleEditorDropdown},function(e){d=e.EditorSliderControl},function(e){p=e.EditorButtonSequence}],execute:function(){var h,v,S,b,f,g,m,w,y,C,E,D,k,z,B;r._RF.push({},"56605XdEYVDnbL1DWhGO+gA","EditorStackColorBlock",void 0);var L=l.ccclass,A=l.property;e("EditorStackColorBlock",(h=L("EditorStackColorBlock"),v=A({type:Number}),S=A({type:Number}),b=A({type:a}),f=A({type:s,group:{name:"Components"}}),g=A({type:d,group:{name:"Components"}}),m=A({type:p,group:{name:"Components"}}),h((C=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"colorId",C,i(t)),o(t,"piecesAmount",E,i(t)),o(t,"valueRange",D,i(t)),o(t,"colorDropdown",k,i(t)),o(t,"valuesSlider",z,i(t)),o(t,"buttonSequence",B,i(t)),t.saveCallback=null,t.onDropdownEvent=void 0,t.onSliderEvent=void 0,t.buttonSelectionLambda=void 0,t}n(t,e);var r=t.prototype;return r.initialize=function(e,t,n){this.saveCallback=n,this.piecesAmount=t,this.colorId=e,this.colorDropdown.initialize(e),this.valuesSlider.initialize(t,this.valueRange),this.buttonSequence.initialize(t,this.valueRange),this.setEvents()},r.setEvents=function(){var e=this;this.onDropdownEvent=function(t){e.onDropdownChanged(t)},this.onSliderEvent=function(t){e.onSliderChanged(t)},this.buttonSelectionLambda=function(t){e.handleButtonSelected(t)},this.colorDropdown.onOptionSelected.addListener(this.onDropdownEvent),this.valuesSlider.onValueChanged.addListener(this.onSliderEvent),this.buttonSequence.onOptionSelected.addListener(this.buttonSelectionLambda)},r.onDestroy=function(){null!==this.colorDropdown.onOptionSelected&&this.colorDropdown.onOptionSelected.removeListener(this.onDropdownEvent),null!==this.valuesSlider.onValueChanged&&this.valuesSlider.onValueChanged.removeListener(this.onSliderEvent)},r.onDropdownChanged=function(e){var t;console.log("EditorSingleStack.onDropdownChanged() ",e),this.colorId=e,null==(t=this.saveCallback)||t.call(this)},r.onSliderChanged=function(e){var t;this.piecesAmount=e,null==(t=this.saveCallback)||t.call(this)},r.handleButtonSelected=function(e){var t;this.piecesAmount=e,null==(t=this.saveCallback)||t.call(this)},r.toggleBlock=function(e,t){if(void 0===t&&(t=!1),this.node.active=e,e){var n=u.clamp(this.piecesAmount,this.valueRange.x,this.valueRange.y);this.buttonSequence.setOptionByValue(n,t)}},t}(c)).prototype,"colorId",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(y.prototype,"piecesAmount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(y.prototype,"valueRange",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,9)}}),k=t(y.prototype,"colorDropdown",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(y.prototype,"valuesSlider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"buttonSequence",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/EditorStackController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./EditorSingleStack.ts","./HexSlot.ts","./index2.ts","./LevelEditorController.ts","./Singleton.ts"],(function(t){var e,o,i,l,n,a,s,r,c,u,k,h,d,b,p,g,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,r=t.Prefab,c=t.instantiate,u=t.Component},function(t){k=t.PieceColor,h=t.ObstacleType},function(t){d=t.EditorSingleStack},function(t){b=t.HexSlot,p=t.PieceStack},null,function(t){g=t.LevelEditorController},function(t){S=t.Singleton}],execute:function(){var f,v,C,y,m,w,D,I,P,E,x,B,z,M,L;n._RF.push({},"52ec2CMeZJO6YqQPCYvmmFI","EditorStackController",void 0);var T=a.ccclass,A=a.property;t("EditorStackController",(f=T("EditorStackController"),v=A({type:b}),C=A({type:[p]}),y=A({type:p}),m=A({type:s,group:{name:"Components"}}),w=A({type:r,group:{name:"Components"}}),D=A({type:[d]}),f((E=e((P=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,i(e,"selectedSlot",E,l(e)),i(e,"piecesStack",x,l(e)),i(e,"currentStack",B,l(e)),i(e,"stackParent",z,l(e)),i(e,"stackPrefab",M,l(e)),i(e,"blocks",L,l(e)),e}o(e,t);var n=e.prototype;return n.initialize=function(t){this.node.active=!1},n.selectSlot=function(t){this.selectedSlot=t;var e=t.data;t.debug_MarkSlotSelected=!0,this.loadData(e.piecesStack),this.node.active=!0,this.refreshStackButtons()},n.addColor=function(){var t=-1;this.blocks.length>0&&(t=this.blocks[this.blocks.length-1].getColorId());var e=t+1;e>=6&&(e=0),console.log("EditorStackController.AddColor() "+e+" | "+k[e+1]),this.createNewBlock(this.blocks.length,e,1,!0,0),console.log("EditorStackController.AddColor() saveData()"),this.saveData()},n.createNewBlock=function(t,e,o,i,l){var n=this;console.log("createNewBlock: "+t+" | colorId: "+e+" |amount: "+o+"| isColor: "+i+"| obstacleId: "+l);var a=c(this.stackPrefab);a.parent=this.stackParent,a.name="StackBlock "+(t+1),a.setSiblingIndex(0);var s=a.getComponent(d);s.initialize(t,e,o,i,l,(function(t){return n.deleteStack(t)}),(function(t,e){return n.moveStack(t,e)}),(function(){return n.saveData()})),this.blocks.push(s),this.refreshStackButtons()},n.saveData=function(){console.log("EditorStackController.saveData()"),this.piecesStack=this.getPiecesStacks(),this.selectedSlot.updateData(!0,this.piecesStack),this.selectedSlot.loadUpdatePiecesVisual(),S.get(g).saveLevelConfigs(!0)},n.getPiecesStacks=function(){for(var t=[],e=0;e<this.blocks.length;e++)t.push(this.getCurrentStack(e));return t},n.getCurrentStack=function(t){var e=new p;return e.amount=this.blocks[t].getAmount(),e.pieceColor=this.blocks[t].getColorId(),e.isColor=this.blocks[t].getIsColor(),e.obstacleType=this.blocks[t].getObstacleTypeId(),e},n.refreshStackButtons=function(){for(var t=0;t<this.blocks.length;t++)this.blocks[t].toggleCanMoveDown(!0),this.blocks[t].toggleCanMoveUp(!0);this.blocks.length>0&&(this.blocks[0].toggleCanMoveDown(!1),this.blocks[this.blocks.length-1].toggleCanMoveUp(!1))},n.loadData=function(t){console.log("EditorStackController.loadData() "+t.length);for(var e=0;e<this.blocks.length;e++)this.blocks[e].node.destroy();this.blocks=[];for(e=0;e<t.length;e++)this.createNewBlock(e,t[e].pieceColor-1,t[e].amount,t[e].isColor,t[e].obstacleType-1)},n.deleteStack=function(t){console.log("EditorStackController.deleteStack() ",t),this.blocks[t].node.destroy(),this.blocks.splice(t,1);for(var e=0;e<this.blocks.length;e++)this.blocks[e].updateId(e);this.refreshStackButtons(),this.saveData()},n.moveStack=function(t,e){if(console.log("EditorStackController.moveStack() ",t,e),e){var o=this.blocks[t],i=this.blocks[t+1];this.swapStack(o,i)}else{var l=this.blocks[t],n=this.blocks[t-1];this.swapStack(l,n)}for(var a=0;a<this.blocks.length;a++)this.blocks[a].updateId(a);this.refreshStackButtons(),this.saveData()},n.swapStack=function(t,e){var o=t.id,i=e.id;this.blocks[o]=e,this.blocks[i]=t;var l=t.node.getSiblingIndex(),n=e.node.getSiblingIndex();t.node.setSiblingIndex(n),e.node.setSiblingIndex(l)},n.debugHexSlotData=function(t){var e="";e+="("+t.data.x+" , "+t.data.y+") ",t.data.piecesStack.length>0&&(e+="isColor: "+t.data.piecesStack[0].isColor+" | obstacle: "+h[t.data.piecesStack[0].obstacleType],console.log(""+e))},e}(u)).prototype,"selectedSlot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(P.prototype,"piecesStack",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(P.prototype,"currentStack",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(P.prototype,"stackParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(P.prototype,"stackPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"blocks",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=P))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/EditorStackObstacleBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SimpleEditorDropdown.ts","./EditorSliderControl.ts","./LevelAsset.ts","./EditorRangeEditbox.ts"],(function(e){var t,n,o,i,a,r,l,s,c,d,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Vec2,s=e.Component},function(e){c=e.SimpleEditorDropdown},function(e){d=e.EditorSliderControl},function(e){u=e.ObstacleType},function(e){h=e.EditorRangeEditbox}],execute:function(){var p,b,v,g,f,m,S,C,E,w,y,k,D;a._RF.push({},"e688c5TjcFGWL/fzex7nI8b","EditorStackObstacleBlock",void 0);var B=r.ccclass,L=r.property;e("EditorStackObstacleBlock",(p=B("EditorStackObstacleBlock"),b=L({type:Number}),v=L({type:Number}),g=L({type:c,group:{name:"Components"}}),f=L({type:d,group:{name:"Components"}}),m=L({type:h,group:{name:"Components"}}),p((E=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"obstacleId",E,i(t)),o(t,"amount",w,i(t)),o(t,"obstacleDropdown",y,i(t)),o(t,"valuesSlider",k,i(t)),o(t,"rangeBox",D,i(t)),t.saveCallback=null,t.onDropdownEvent=void 0,t.sliderEventLambda=void 0,t}n(t,e);var a=t.prototype;return a.initialize=function(e,t,n){this.saveCallback=n,this.obstacleId=e,this.amount=t,this.obstacleDropdown.initialize(this.obstacleId),this.valuesSlider.initialize(this.amount,new l(1,200)),this.rangeBox.initialize(this.amount,new l(1,200)),this.setCorrectUI(e+1,this.amount),this.setEvents()},a.setEvents=function(){var e=this;this.onDropdownEvent=function(t){e.onDropdownChanged(t)},this.sliderEventLambda=function(t){e.onSliderChanged(t)},this.valuesSlider.onValueChanged.addListener(this.sliderEventLambda),this.obstacleDropdown.onOptionSelected.addListener(this.onDropdownEvent),this.rangeBox.onInputChanged.addListener(this.sliderEventLambda)},a.onDestroy=function(){null!==this.obstacleDropdown.onOptionSelected&&this.obstacleDropdown.onOptionSelected.removeListener(this.onDropdownEvent),null!==this.valuesSlider.onValueChanged&&this.valuesSlider.onValueChanged.removeListener(this.sliderEventLambda)},a.onDropdownChanged=function(e){var t;console.log("EditorStackObstacleBlock.onDropdownChanged() ",e),this.obstacleId=e,this.setCorrectUI(this.obstacleId+1,this.amount),null==(t=this.saveCallback)||t.call(this)},a.setCorrectUI=function(e,t){e==u.Ad?(this.valuesSlider.node.active=!1,this.rangeBox.node.active=!1):e==u.Lock?(this.valuesSlider.node.active=!1,this.rangeBox.node.active=!0,this.rangeBox.updateRange(1,300),0==t?this.rangeBox.updateCurrentValue(25):this.rangeBox.updateCurrentValue(t)):e==u.Wood&&(this.rangeBox.node.active=!1,this.valuesSlider.node.active=!0,this.valuesSlider.updateRange(1,3),0==t?this.valuesSlider.updateCurrentValue(3):this.valuesSlider.updateCurrentValue(t))},a.onSliderChanged=function(e){var t;console.log("EditorSingleStack.onSliderChanged("+e+")"),this.amount=e,null==(t=this.saveCallback)||t.call(this)},a.toggleBlock=function(e,t){this.node.active=e},a.getObstacleTypeId=function(){return this.obstacleId},a.getLockValue=function(){return this.amount},t}(s)).prototype,"obstacleId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=t(C.prototype,"amount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=t(C.prototype,"obstacleDropdown",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(C.prototype,"valuesSlider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"rangeBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=C))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/ellipse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,i,o,r,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Vec2},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){c=t.ConcretePrecisionType},function(t){s=t.slot}],execute:function(){var u;n._RF.push({},"71cb8o0v7xEvJDEaB1PCHhM","ellipse",void 0);t("default",o({menu:"Procedural/Shape/Ellipse",title:"Ellipse"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).concretePrecisionType=c.Fixed,e.depChunks=["shape"],e.data={inputs:[s("uv",i.ZERO,"vec2","vector"),s("width",.5,"float","vector"),s("height",.5,"float","vector")],outputs:[s("Out",0,"float","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);this.inputs[0].connectSlot||(t="v_uv.xy");var e=this.getInputValue(1),n=this.getInputValue(2);return this.getOutputVarDefine(0)+" = Ellipse("+t+", "+e+", "+n+");"},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/EventHandlerUtils.ts",["cc"],(function(){var t,e;return{setters:[function(n){t=n.cclegacy,e=n.EventHandler}],execute:function(){t._RF.push({},"0b760x1LMVLopQgiKYrvoJQ","EventHandlerUtils",void 0),e.prototype.Invoke=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.emit(e)},t._RF.pop()}}}));

System.register("chunks:///_virtual/EventOnDelay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Wait.ts"],(function(e){var n,t,r,i,a,o,c,l,s,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.EventHandler,u=e.Component},null,function(e){p=e.Wait}],execute:function(){var y,f,h,v,d,D;c._RF.push({},"803b7MtAh5FQ5cS08hGO+wv","EventOnDelay",void 0);var b=l.ccclass,g=l.property;e("EventOnDelay",(y=b("EventOnDelay"),f=g({type:s}),y((d=n((v=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,r(n,"delay",d,i(n)),r(n,"onDelayFinished",D,i(n)),n}t(n,e);var c=n.prototype;return c.onEnable=function(){this.runAfterDelay(this.delay)},c.runAfterDelay=function(){var e=a(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.seconds(n);case 2:this.onDelayFinished.Invoke();case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),n}(u)).prototype,"delay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=n(v.prototype,"onDelayFinished",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),h=v))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/EventOnNodeState.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,r,i,o,a,u,l;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,u=n.EventHandler,l=n.Component}],execute:function(){var p,b,c,s,d,f,h,O,m,y,v,g,E,w,S,z,D,L,U,N,_,F,j;o._RF.push({},"23998jdf2hDF4EmSbKChq2Q","EventOnNodeState",void 0);var C=a.ccclass,H=a.property;n("EventOnNodeState",(p=C("EventOnNodeState"),b=H(),c=H(),s=H(),d=H(),f=H(),h=H({type:u,group:{name:"Event"},visible:function(){return this.runOnLoad}}),O=H({type:u,group:{name:"Event"},visible:function(){return this.runOnEnable}}),m=H({type:u,group:{name:"Event"},visible:function(){return this.runOnStart}}),y=H({type:u,group:{name:"Event"},visible:function(){return this.runOnUpdate}}),v=H({type:u,group:{name:"Event"},visible:function(){return this.runOnDisable}}),p((w=e((E=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,r(e,"runOnLoad",w,i(e)),r(e,"runOnEnable",S,i(e)),r(e,"runOnStart",z,i(e)),r(e,"runOnUpdate",D,i(e)),r(e,"runOnDisable",L,i(e)),r(e,"onLoaded",U,i(e)),r(e,"onEnabled",N,i(e)),r(e,"onStarted",_,i(e)),r(e,"onUpdated",F,i(e)),r(e,"onDisabled",j,i(e)),e}t(e,n);var o=e.prototype;return o.onLoad=function(){this.runOnLoad&&this.onLoaded.emit(null)},o.start=function(){this.runOnStart&&this.onStarted.emit(null)},o.onEnable=function(){this.runOnEnable&&this.onEnabled.emit(null)},o.update=function(){this.runOnUpdate&&this.onUpdated.emit(null)},o.onDisable=function(){this.runOnDisable&&this.onDisabled.emit(null)},e}(l)).prototype,"runOnLoad",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=e(E.prototype,"runOnEnable",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=e(E.prototype,"runOnStart",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=e(E.prototype,"runOnUpdate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=e(E.prototype,"runOnDisable",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=e(E.prototype,"onLoaded",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),N=e(E.prototype,"onEnabled",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),_=e(E.prototype,"onStarted",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),F=e(E.prototype,"onUpdated",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),j=e(E.prototype,"onDisabled",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),g=E))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventOnProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProgressController.ts"],(function(e){var n,r,t,o,i,a,s,l,u,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Enum,l=e.EventHandler,u=e.Component},function(e){c=e.ProgressController}],execute:function(){var d,h,v,L,p,f,g,m,E,T,C;i._RF.push({},"e76c6LOf+1KNYHr+2EvHHOt","EventOnProgress",void 0);var y=a.ccclass,b=a.property,O=function(e){return e[e.IsCurrentLevel=0]="IsCurrentLevel",e[e.HasClearedLevel=1]="HasClearedLevel",e}(O||{}),P=function(e){return e[e.EqualsTo=0]="EqualsTo",e[e.LessThan=1]="LessThan",e[e.GreaterThan=2]="GreaterThan",e[e.NotEqualsTo=3]="NotEqualsTo",e[e.LessOrEqualThan=4]="LessOrEqualThan",e[e.GreaterOrEqualThan=5]="GreaterOrEqualThan",e}(P||{});e("EventOnProgress",(d=y("EventOnProgress"),h=b({type:s(O)}),v=b({type:s(P)}),L=b(),p=b({type:[l],displayName:"On Condition Met"}),d((m=n((g=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(n,"condition",m,o(n)),t(n,"comparison",E,o(n)),t(n,"level",T,o(n)),t(n,"onConditionMet",C,o(n)),n.isInitialized=!1,n.onlevelLoadedLambda=void 0,n}r(n,e);var i=n.prototype;return i.onLoad=function(){var e=this;this.isInitialized||(this.onlevelLoadedLambda=function(n){e.handleOnLevelLoaded(n)},c.gameProgress.onLevelLoaded.addListener(this.onlevelLoadedLambda),this.isInitialized=!0),this.applyCondition()},i.onDestroy=function(){c.gameProgress.onLevelLoaded.removeListener(this.onlevelLoadedLambda)},i.handleOnLevelLoaded=function(e){this.applyCondition()},i.applyCondition=function(){this.checkCondition()?(console.log("EventOnProgress: Condition met for level "+this.level+" ("+O[this.condition]+"). Triggering events."),this.onConditionMet.forEach((function(e){e.emit([])}))):console.log("EventOnProgress: Condition NOT met | "+O[this.condition]+" = ["+this.level+"] | currentLevel ["+(c.gameProgress.currentLevelId+1)+"] Reached ["+(c.gameProgress.reachedLevel+1)+"]")},i.checkCondition=function(){var e=c.gameProgress.currentLevelId+1,n=c.gameProgress.reachedLevel+1;switch(this.condition){case O.IsCurrentLevel:if(this.compare(e,this.level))return!0;break;case O.HasClearedLevel:if(n>this.level)return!0}return!1},i.compare=function(e,n){switch(this.comparison){case P.LessThan:return e<n;case P.EqualsTo:return e==n;case P.GreaterThan:return e>n;case P.LessOrEqualThan:return e<=n;case P.GreaterOrEqualThan:return e>=n;case P.NotEqualsTo:return e!=n;default:return!1}},n}(u)).prototype,"condition",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.IsCurrentLevel}}),E=n(g.prototype,"comparison",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.EqualsTo}}),T=n(g.prototype,"level",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),C=n(g.prototype,"onConditionMet",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/eventTestTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.EventHandler,c=e.Button,u=e.Component}],execute:function(){var s,p,g,h,v,d,f;i._RF.push({},"ea08fr6/iNCtat0mKyhFXww","eventTestTrigger",void 0);var m=a.ccclass,y=a.property;e("eventTestTrigger",(s=m("eventTestTrigger"),p=y(l),g=y({type:c,group:{name:"Components"}}),s((d=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"onSomethingHappened",d,r(t)),o(t,"testButton",f,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;this.testButton.node.on(c.EventType.CLICK,(function(){return e.deleteButton()}),this),this.onSomethingHappened.target=this.node,this.onSomethingHappened.component="eventTestTrigger",this.onSomethingHappened.handler="callbackFunction"},i.deleteButton=function(){var e;null==(e=this.onSomethingHappened)||e.Invoke()},i.callbackFunction=function(){console.log("CallbackFunction")},i.registerEvent=function(e,t,n,o){},t}(u)).prototype,"onSomethingHappened",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(v.prototype,"testButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/exponential.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,c,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"5c4913KTCJGjqbcTxcC/UmQ","exponential",void 0);t("default",o({menu:"Math/Advanced/Exponential",title:"Exponential"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).data={inputs:[i("In",c.ZERO,"vec4","vector")],outputs:[i("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = exp("+t+");\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/FilteredRaycastTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,a,n,o,i,s,c,l,u,y,m,p,f,d,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Layers,c=e.Camera,l=e.find,u=e.input,y=e.Input,m=e.EventMouse,p=e.Vec2,f=e.geometry,d=e.PhysicsSystem,g=e.Component}],execute:function(){var h,L,v,C,F,T,R;o._RF.push({},"202b0LXQJZFq7wMr31JQnq1","FilteredRaycastTest",void 0);var b=i.ccclass,D=i.property;e("FilteredRaycastTest",(h=b("FilteredRaycastTest"),L=D({type:s.Enum,group:{name:"Layers"},tooltip:"Layer for raycasting"}),v=D({type:c,group:{name:"Runtime"}}),h((T=r((F=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,a(r,"raycastLayer",T,n(r)),a(r,"camera",R,n(r)),r}t(r,e);var o=r.prototype;return o.start=function(){if(!this.camera){var e=l("Main Camera");e?(this.camera=e.getComponent(c),this.camera||console.error("Camera component not found on the node.")):console.error("Camera node not found.")}u.on(y.EventType.MOUSE_DOWN,this.mouseClick,this)},o.mouseClick=function(e){if(e.getButton()===m.BUTTON_LEFT){var r=new p(e.getLocationX(),e.getLocationY());this.checkForValidDrag2(r)}},o.checkForValidDrag=function(e){if(this.camera){var r={result:null},t=this.raycastLayer,a=new f.Ray;this.camera.screenPointToRay(e.x,e.y,a);var n=d.instance.raycastClosest(a,t,500,!0),o=this.getLayerIndices(t)[0];if(console.log("RaycastExternal - CurrentLayer: "+t+" | "+s.layerToName(o)),n&&(r.result=d.instance.raycastClosestResult),!n||!r.result)return console.log("No object detected."),!1;var i=r.result.collider.node;return!!i&&(console.log("Found: "+i.name+" in layer "+s.layerToName(i.layer)),!0)}console.error("Camera is not assigned.")},o.checkForValidDrag2=function(e){if(this.camera)return!0;console.error("Camera is not assigned.")},o.getLayerIndices=function(e){for(var r=[],t=0;t<32;t++)e&1<<t&&r.push(t);return r},r}(g)).prototype,"raycastLayer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.Enum.DEFAULT}}),R=r(F.prototype,"camera",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=F))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/float.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){c=t.ConcretePrecisionType},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"68e4bUVUSRHKo5B3bmMbsMV","float",void 0);t("default",o({menu:"Input/Basic/Float",title:"Float"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).concretePrecisionType=c.Fixed,e.data={inputs:[i("In",0,"float","vector")],outputs:[i("Out",0,"float","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = "+t+";\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/floor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"ee049iD/ZRMAqYgcXswPl0X","floor",void 0);t("default",r({menu:"Math/Round/Floor",title:"Floor"})(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[i("In",o.ZERO,"vec4","vector")],outputs:[i("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = floor("+t+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/FollowWorldTests.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraUtils.ts"],(function(e){var t,i,o,n,r,s,l,a,u,c,p,h,P,b,w,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Vec2,a=e.Vec3,u=e.Camera,c=e.Node,p=e.view,h=e.input,P=e.Input,b=e.UITransform,w=e.Component},function(e){m=e.CameraUtils}],execute:function(){var g,f,v,y,d,R,E,z,T,C,S,x,D,_,F,M,O,V,j,A,L,U,k,I,N,W,B;r._RF.push({},"2c3774Ai5VAyoPAxkifnSAL","FollowWorldTests",void 0);var H=s.ccclass,X=s.property;e("FollowWorldTests",(g=H("FollowWorldTests"),f=X(),v=X({type:l,visible:!0}),y=X({type:l,visible:!0}),d=X({type:l,visible:!0}),R=X({type:a,visible:!0}),E=X({type:a,visible:!0}),z=X({type:l,visible:!0}),T=X({type:l,visible:!0}),C=X({type:a,visible:!0}),S=X({type:u,group:"Components"}),x=X({type:c,group:"Components"}),D=X({type:c,group:"Components"}),g((M=t((F=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"updatePosition",M,n(t)),o(t,"screenRes",O,n(t)),o(t,"viewPortRes",V,n(t)),o(t,"currentMousePos",j,n(t)),o(t,"worldPosition",A,n(t)),o(t,"screenPosition",L,n(t)),o(t,"currenPercentage",U,n(t)),o(t,"relativePos",k,n(t)),o(t,"uiPosition",I,n(t)),o(t,"camera",N,n(t)),o(t,"target3DObject",W,n(t)),o(t,"uiElement",B,n(t)),t}i(t,e);var r=t.prototype;return r.start=function(){var e=p.getVisibleSize();this.screenRes.set(e.width,e.height),console.log("Screen Resolution: "+this.screenRes.x+" x "+this.screenRes.y),h.on(P.EventType.MOUSE_MOVE,this.mouseMove,this)},r.mouseMove=function(e){this.currentMousePos=new l(e.getLocationX(),e.getLocationY())},r.update=function(e){this.updateElementPosition_External()},r.checkForComponents=function(){return!!(this.camera&&this.target3DObject&&this.uiElement&&this.updatePosition)},r.updateElementPosition_NotResposive=function(){if(this.checkForComponents()){var e=p.getVisibleSize();this.screenRes.set(e.width,e.height),this.worldPosition=this.target3DObject.worldPosition,this.screenPosition=this.camera.worldToScreen(this.worldPosition),console.log(this.screenPosition.toString()),this.uiElement.parent.getComponent(b).convertToNodeSpaceAR(new a(this.screenPosition.x,this.screenPosition.y,0),this.uiPosition),this.uiElement.setPosition(this.uiPosition)}},r.updateElementPosition_Responsive=function(){this.worldPosition=this.target3DObject.worldPosition,this.screenPosition=this.camera.worldToScreen(this.worldPosition),this.relativePos=this.convertToRelativeResolution(),this.uiElement.parent.getComponent(b).convertToNodeSpaceAR(new a(this.relativePos.x,this.relativePos.y,0),this.uiPosition),this.uiElement.setPosition(this.uiPosition)},r.updateElementPosition_External=function(){var e=this.uiElement.parent.getComponent(b);this.uiElement.setPosition(m.worldToUIPosition(this.target3DObject,this.camera,e))},r.convertToRelativeResolution=function(){var e=p.getViewportRect().width,t=p.getViewportRect().height;this.viewPortRes.set(e,t);var i=this.screenPosition.x/e,o=this.screenPosition.y/t;this.currenPercentage.set(100*i,100*o),console.log(this.screenPosition+" | "+this.viewPortRes+" |"+this.currenPercentage);var n=new l;return n.set(i*this.screenRes.x,o*this.screenRes.y),n},t}(w)).prototype,"updatePosition",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=t(F.prototype,"screenRes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),V=t(F.prototype,"viewPortRes",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),j=t(F.prototype,"currentMousePos",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),A=t(F.prototype,"worldPosition",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),L=t(F.prototype,"screenPosition",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),U=t(F.prototype,"currenPercentage",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),k=t(F.prototype,"relativePos",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),I=t(F.prototype,"uiPosition",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),N=t(F.prototype,"camera",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"target3DObject",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"uiElement",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=F))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/fraction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"1be9a5SW39Pr7Ypuq6zuC9D","fraction",void 0);t("default",c({menu:"Math/Range/Fraction",title:"Fraction"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = fract("+t+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/fresnel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,r,o,c,i,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec3},function(e){o=e.register},function(e){c=e.ShaderNode},function(e){i=e.ConcretePrecisionType},function(e){s=e.slot}],execute:function(){var u;n._RF.push({},"861c8JYxalKB66ptbnD6WdM","fresnel",void 0);e("default",o({menu:"Math/Vector/Fresnel",title:"Fresnel"})(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=i.Fixed,t.data={inputs:[s("Normal",r.ZERO,"vec3","vector"),s("ViewDir",r.ZERO,"vec3","vector"),s("Power",0,"float","vector")],outputs:[s("Out",0,"float","vector")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = pow((1.0 - saturate(dot(normalize("+e+"), normalize("+t+")))), "+n+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.director,i=e.Component}],execute:function(){var c,a;o._RF.push({},"1d891bdUpJOhYGw4HqkvZdJ","Game",void 0);var u=n.ccclass,s=n.executionOrder;e("Game",u("Game")(c=s(-9999)(((a=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.onLoad=function(){},n.start=function(){r.addPersistRootNode(this.node)},n.update=function(e){o.deltaTime=e},o}(i)).deltaTime=void 0,a.unscaledDeltaTime=.012,c=a))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./index2.ts","./UI_GameplayHUD.ts","./LevelController.ts","./HexGridController.ts","./CameraController.ts","./InputManager.ts","./UI_GenericData.ts","./OptionsTray.ts","./GameStartup.ts","./APIController.ts","./UI_PopupVictoryScreenGemSort.ts","./ObjectivesController.ts","./UI_ObjectivesDisplay.ts","./Action.ts","./Singleton.ts","./ProgressController.ts","./AudioController.ts","./Wait.ts"],(function(e){var t,n,r,o,l,i,s,a,u,c,p,h,v,g,d,C,y,f,L,m,b,I,G,P,D,A,z,R,w,S,_,k,O,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.Camera,p=e.input,h=e.Input,v=e.math,g=e.director,d=e.KeyCode,C=e.Component},function(e){y=e.LevelAsset},null,function(e){f=e.UI_GameplayHUD},function(e){L=e.LevelController},function(e){m=e.HexGridController},function(e){b=e.CameraController},function(e){I=e.InputManager},function(e){G=e.UI_GenericData},function(e){P=e.OptionsTray},function(e){D=e.GameStartup},function(e){A=e.APIController},function(e){z=e.UI_PopupVictoryScreenGemSort},function(e){R=e.ObjectivesController},function(e){w=e.UI_ObjectivesDisplay},function(e){S=e.Action},function(e){_=e.Singleton},function(e){k=e.ProgressController},function(e){O=e.AudioController},function(e){x=e.Wait}],execute:function(){var T,E,U,H,j,W,V,M,N,K,B,F,Y,J,Q,q,X,Z,$,ee,te,ne,re,oe,le,ie,se,ae,ue,ce,pe;a._RF.push({},"49099uog5JHUKRkQaJPPxCp","GameplayController",void 0);var he=u.ccclass,ve=u.property;e("GameplayController",(T=he("GameplayController"),E=ve(),U=ve(),H=ve({type:Number,visible:function(){return this.useConfiguredLevel}}),j=ve({type:y,group:"Runtime"}),W=ve({type:Boolean,group:"Runtime"}),V=ve({type:Boolean,group:"Runtime"}),M=ve({type:Boolean,group:"Runtime"}),N=ve({type:[y]}),K=ve({type:L,group:"Components"}),B=ve({type:I,group:"Components"}),F=ve({type:f,group:"Runtime"}),Y=ve({type:c,group:"Runtime"}),J=ve({type:m,group:"Runtime"}),Q=ve({type:z,group:"Components"}),T((Z=t((X=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,r(t,"skipIntro",Z,o(t)),r(t,"useConfiguredLevel",$,o(t)),r(t,"currentLevel",ee,o(t)),r(t,"currentLevelAsset",te,o(t)),r(t,"firstInputWasAlreadyPressed",ne,o(t)),r(t,"isInitialized",re,o(t)),r(t,"isPausedInternal",oe,o(t)),r(t,"loadedLevels",le,o(t)),r(t,"levelControl",ie,o(t)),r(t,"inputManager",se,o(t)),r(t,"hudControl",ae,o(t)),r(t,"mainCamera",ue,o(t)),r(t,"hexGridController",ce,o(t)),r(t,"vicScreen",pe,o(t)),t.onPause=new S,t.onToggleAd=new S,t.onAnyGameplayInputPressedLambda=void 0,t}n(t,e);var a=t.prototype;return a.onAnyGameplayInputPressed=function(){this.firstInputWasAlreadyPressed||(_.get(A).gameplayStarted(),this.firstInputWasAlreadyPressed=!0)},a.commercialBreakComplete=function(){this.togglePause(!1)},a.onLoad=function(){var e=this;console.log("GameplayController.onLoad()"),this.isInitialized=!1,_.set(this),this.useConfiguredLevel=!1,this.onAnyGameplayInputPressedLambda=function(){e.onAnyGameplayInputPressed()}},a.onEnable=function(){_.get(I).onAnyClick.addListener(this.onAnyGameplayInputPressedLambda)},a.onDestroy=function(){var e=_.get(I);null!==e&&e.onAnyClick.removeListener(this.onAnyGameplayInputPressedLambda)},a.start=function(){console.log("GameplayController.start()"),this.initialize(),this.loadLevelCoroutine()},a.initialize=function(){var e=_.get(D);null!==e&&e.checkIfReady()&&(this.useConfiguredLevel=!1,e.node.destroy()),this.useConfiguredLevel||k.initialize(),console.log("GameplayController.initialize() isInitialized? "+this.isInitialized),this.hudControl=_.get(f),this.findComponents(),this.levelControl.initialize(),this.hudControl.initialize(this.mainCamera),p.on(h.EventType.KEY_DOWN,this.onKeyDown,this),this.isInitialized=!0},a.findComponents=function(){this.mainCamera||(this.mainCamera=_.get(b).getCamera()),this.hexGridController=_.get(m),this.vicScreen||(this.vicScreen=_.get(z))},a.loadLevelCoroutine=function(){var e=i(s().mark((function e(){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.until((function(){return t.isInitialized}));case 2:this.hudControl.toggleHUD(!1),_.get(O).playMusic(),this.useConfiguredLevel||(this.currentLevel=k.currentLevel+1),this.currentLevel>this.loadedLevels.length&&console.error("Current Level ["+this.currentLevel+"] is greater than level count ["+this.loadedLevels.length+"], clamping it to max"),console.log("GameplayController.loadLevelCoroutine() - ProgressController.currentLevel: "+k.currentLevel+" | this.currentLevel: "+this.currentLevel+"'"),this.currentLevel=v.clamp(this.currentLevel,1,this.loadedLevels.length),this.currentLevelAsset=this.loadedLevels[this.currentLevel-1],this.skipIntro?(this.loadLevelData(this.currentLevel),this.levelControl.startLevel(this.currentLevel),this.togglePause(!1),this.hudControl.toggleHUD(!0)):(console.log("GameplayController.startLevelInstant()"),this.togglePause(!1),this.loadLevelData(this.currentLevel),console.log("GameplayController.startLevelInstant() 2"),this.levelControl.startLevelInstant(),this.hudControl.startLevelIntro());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadLevelData=function(e){var t;console.log("----- GameplayController.loadLevel ["+e+"]"),this.useConfiguredLevel&&k.editor_finishLevelOverride(e-1,!1),this.hexGridController.setLevelAsset(this.currentLevelAsset),this.hexGridController.loadGridData(!1);var n=v.inverseLerp(9,49,this.hexGridController.gridPosCount);this.levelControl.loadLevel(this.currentLevelAsset,e),this.hudControl.setLevelData(this.currentLevelAsset.objectives,this.levelControl.getLocks(),e),_.get(R).setDisplayTargets(_.get(w).getObjectiveDisplays()),_.get(P).setLevelData(n),_.get(b).setLevelData(n),null==(t=k.gameProgress.onLevelLoaded)||t.invoke(e),console.log("----- GameplayController.loadLevel END ["+e+"]")},a.postLevelIntro=function(){this.levelControl.postLevelIntro(this.currentLevel),this.togglePause(!1),this.hudControl.toggleHUD(!0)},a.levelVictory=function(){console.log("GameplayController -> LEVEL VICTORY!!!"),_.get(A).gameplayStopped(),this.inputManager.forceResetCurrentDrag(),this.hudControl.toggleHUD(!1),this.levelControl.endLevel();var e=_.get(G).getObjectiveSprites(),t=this.levelControl.getObjectives();this.vicScreen.showLevelVictoryScreen(t,e,!0,this.currentLevel,50)},a.levelDefeat=function(){console.log("GameplayController -> LEVEL DEFEAT T-T"),this.inputManager.forceResetCurrentDrag(),this.hudControl.toggleHUD(!1),this.levelControl.endLevel(),this.vicScreen.showLevelVictoryScreen(this.levelControl.getObjectives(),_.get(G).getObjectiveSprites(),!1,this.currentLevel,50)},a.retry=function(){console.log("GameplayController -> RETRY"),this.togglePause(!1),this.loadLevelCoroutine()},a.loadNextLevel=function(){this.togglePause(!1),this.useConfiguredLevel?k.editor_finishLevelOverride(this.currentLevel+1,!0):k.finishLevel(),console.log("GameplayController -> loadNextLevel")},a.togglePause=function(e){console.log("GameplayController.togglePause("+e+")"),e?g.pause():g.resume(),this.onPause.invoke(e),this.isPaused=e},a.toggleAd=function(e){this.onToggleAd.invoke(e),this.togglePause(e)},a.startLevel_Cheat=function(e,t){console.log("GameplayController.startLevel_Cheat["+t+"]"),this.currentLevel=t,this.loadLevelCoroutine()},a.onKeyDown=function(e){e.keyCode===d.ARROW_DOWN&&(console.log("GameplayController.onKeyDown() PressedSpace"),this.levelControl.cheat_RefreshTray()),e.keyCode,d.ARROW_LEFT,e.keyCode===d.ARROW_RIGHT&&(this.levelControl.nextRuleSet(),this.levelControl.nextRound()),e.keyCode===d.END&&this.levelVictory(),e.keyCode===d.DELETE&&this.levelDefeat()},l(t,[{key:"isPaused",get:function(){return this.isPausedInternal},set:function(e){this.isPausedInternal=e}}]),t}(C)).prototype,"skipIntro",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=t(X.prototype,"useConfiguredLevel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=t(X.prototype,"currentLevel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),te=t(X.prototype,"currentLevelAsset",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(X.prototype,"firstInputWasAlreadyPressed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=t(X.prototype,"isInitialized",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=t(X.prototype,"isPausedInternal",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=t(X.prototype,"loadedLevels",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(X.prototype,"levelControl",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(X.prototype,"inputManager",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(X.prototype,"hudControl",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(X.prototype,"mainCamera",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(X.prototype,"hexGridController",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(X.prototype,"vicScreen",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=X))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts","./ProgressController.ts"],(function(e){var t,n,i,a;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},null,function(e){i=e.Action},function(e){a=e.ProgressController}],execute:function(){n._RF.push({},"5811drjdkNNXZQ7Zi7H3UyK","GameProgress",void 0);e("GameProgress",function(){function e(e){this.isNewGame=!0,this.currentLevelId=0,this.reachedLevel=0,this.levels=[],this.customizations=[],this.choices=[],this.metagameData=void 0,this.onGoldChanged=new i,this.onStreakChanged=new i,this.onLevelLoaded=new i,this.initialize(e)}var n=e.prototype;return n.initialize=function(e){this.isNewGame=!0,this.choices=[],this.initializeActions(),this.levels=new Array(e).fill(null).map((function(){return new s})),this.metagameData=new o},n.initializeActions=function(){this.onGoldChanged=new i,this.onStreakChanged=new i,this.onLevelLoaded=new i},n.finishLevel=function(){this.currentLevelId++,this.currentLevelId>this.reachedLevel&&(this.reachedLevel=this.currentLevelId),a.save()},n.addChoice=function(e){var t=this.choices.find((function(t){return t.key===e.key}));t?t.selectedId=e.selectedId:this.choices.push(e),a.save()},n.getChoice=function(e){return this.choices.find((function(t){return t.key===e}))||null},n.addItemToInventory=function(e,t){void 0===t&&(t=!1);var n=!1;null===this.metagameData.inventoryItems&&(this.metagameData.inventoryItems=new Array(0));for(var i=0;i<this.metagameData.inventoryItems.length;i++)if(this.metagameData.inventoryItems[i].itemID===e.itemID){t?this.metagameData.inventoryItems[i].amount=e.amount:this.metagameData.inventoryItems[i].amount+=e.amount,n=!0;break}n||this.metagameData.inventoryItems.push(e),a.save()},n.getItemById=function(e){if(!this.metagameData)return[null,!1];if(!this.metagameData.inventoryItems)return[null,!1];for(var t=0;t<this.metagameData.inventoryItems.length;t++)if(this.metagameData.inventoryItems[t].itemID===e)return[this.metagameData.inventoryItems[t],!0];return[null,!1]},n.getItem=function(e){if(!this.metagameData.inventoryItems)return null;for(var t=0;t<this.metagameData.inventoryItems.length;t++)if(this.metagameData.inventoryItems[t].itemID===e)return this.metagameData.inventoryItems[t];return null},n.consumeItem=function(e,t){if(this.metagameData.inventoryItems){console.log("GameProgress.attempt to consumeItem "+e+" amount: "+t);for(var n=0;n<this.metagameData.inventoryItems.length;n++){var i=this.metagameData.inventoryItems[n];if(i.itemID===e)return console.log("GameProgress.foundItem: ["+i.itemID+"] amount: ["+i.amount+"]"),i.amount-=t,i.amount<=0&&this.metagameData.inventoryItems.splice(n,1),void a.save()}}},t(e,[{key:"currentLevel",get:function(){return this.levels[this.currentLevelId]}},{key:"hasFinishedTheGame",get:function(){return this.reachedLevel>=this.levels.length}}]),e}());var s=e("Level",(function(){this.score=0,this.starAmount=0,this.duration=0})),o=(e("Customization",(function(){this.name="",this.id=0})),e("Choice",(function(e,t){this.key=void 0,this.selectedId=void 0,this.key=e,this.selectedId=t})),e("MetagameData",(function(){this.currentGold=0,this.victoryStreak=0,this.inventoryItems=[]})));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameStartup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){var t,a,n,o,i,r,s,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,s=e.director,c=e.Component},function(e){l=e.Singleton}],execute:function(){var d,u,p,y,f,h,m;i._RF.push({},"a44edc/CQ9LiqE4WdAnowvr","GameStartup",void 0);var g=r.ccclass,R=r.property;e("GameStartup",(d=g("GameStartup"),u=R({type:Boolean}),p=R({type:Boolean}),d((h=t((f=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"isReady",h,o(t)),n(t,"hasAlreadyLoaded",m,o(t)),t}a(t,e);var i=t.prototype;return i.onLoad=function(){l.set(this),s.resume()},i.start=function(){s.addPersistRootNode(this.node)},i.lateUpdate=function(e){this.hasAlreadyLoaded||(this.isReady=!0,this.isReady&&this.loadGame())},i.loadGame=function(){this.hasAlreadyLoaded=!0,s.loadScene("gameplay",(function(){console.log("gameplay scene loaded!")}))},i.checkIfReady=function(){return this.isReady},t}(c)).prototype,"isReady",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=t(f.prototype,"hasAlreadyLoaded",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=f))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/get-local-var.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,n,r,a,o,i,u,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e.Vec4},function(e){o=e.ShaderNode},function(e){i=e.prop,u=e.slot},null,function(e){c=e.register}],execute:function(){var s;r._RF.push({},"30feaYkdKtOs5doShMcgDKA","get-local-var",void 0);e("default",c({menu:"Input/Variable/GetLocalVar",title:"GetLocalVar"})(s=function(e){function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).data={props:[i("Name","local_var","dynamicEnum",{registerEnum:{type:"RegisterLocalVarName",property:"Name"}})],outputs:[u("Out",a.ZERO,"vec4","vector")]},t}return t(r,e),r.prototype.generateCode=function(){return this.inputs[0].connectSlot.precisionName+" "+this.name+"= "+this.getInputValue(0)+";"},n(r,[{key:"name",get:function(){var e=this.getPropWithName("Name");return e&&e.value},set:function(e){this.getPropWithName("Name").value=e}}]),r}(o))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/gradient-noise.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,i,o,r,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Vec2},function(e){o=e.register},function(e){r=e.ShaderNode},function(e){c=e.ConcretePrecisionType},function(e){s=e.slot}],execute:function(){var u;n._RF.push({},"5ccd4lVn2JLsKN+1DWNpIFz","gradient-noise",void 0);e("default",o({menu:"Procedural/Noise/GradientNoise",title:"GradientNoise"})(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=c.Fixed,t.depChunks=["noise"],t.data={inputs:[s("uv",i.ZERO,"vec2","vector"),s("scale",0,"float","vector")],outputs:[s("Out",0,"float","vector")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0);this.inputs[0].connectSlot||(e="v_uv.xy");var t=this.getInputValue(1);return this.getOutputVarDefine(0)+" = GradientNoise("+e+", "+t+");"},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/HexGridController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexSlot.ts","./LevelAsset.ts","./index3.ts","./index2.ts","./DragDropComponent.ts","./TurnController.ts","./LockObstacleSlot.ts","./WoodObstacleSlot.ts","./Singleton.ts"],(function(e){var t,r,i,o,n,a,s,l,c,d,u,p,g,h,b,f,v,y,S,P,w,C,x,m,A,D,k,H,M,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,i=e.inheritsLoose,o=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,a=e.createClass,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){c=e.cclegacy,d=e._decorator,u=e.Prefab,p=e.Enum,g=e.Vec3,h=e.randomRangeInt,b=e.Node,f=e.Vec2,v=e.instantiate,y=e.Component},function(e){S=e.HexSlot,P=e.HexData,w=e.PieceStack},function(e){C=e.PieceColor,x=e.ObstacleType,m=e.LevelAsset},function(e){A=e.bh},null,function(e){D=e.DragDropMode},function(e){k=e.TurnController},function(e){H=e.LockObstacleSlot},function(e){M=e.WoodObstacleSlot},function(e){T=e.Singleton}],execute:function(){var L,I,G,O,z,V,W,R,_,E,U,N,j,B,F,J,q,K,Q,X,Y,Z,$,ee,te,re,ie,oe,ne,ae,se,le,ce,de,ue,pe;c._RF.push({},"5d3e9MM/rRBVKeNVD7TnebP","HexGridController",void 0);var ge=d.ccclass,he=d.property,be=d.executeInEditMode,fe=e("PrefabColor",(L=ge("PrefabColor"),I=he({type:u}),G=he({type:p(C)}),L((V=t((z=function(){r(this,"prefab",V,this),r(this,"color",W,this)}).prototype,"prefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(z.prototype,"color",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.Red}}),O=z))||O)),ve=e("PrefabObstacle",(R=ge("PrefabObstacle"),_=he({type:u}),E=he({type:p(x)}),R((j=t((N=function(){r(this,"prefab",j,this),r(this,"obstacleType",B,this)}).prototype,"prefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"obstacleType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.Ad}}),U=N))||U));e("HexGridController",(F=ge("HexGridController"),J=he(),q=he(),K=he({type:S,group:"Runtime"}),Q=he({type:u,group:"References"}),X=he({type:m}),Y=he({type:[fe],group:"References"}),Z=he({type:[ve],group:"References"}),$=he({group:"Debug"}),ee=he({group:"Debug"}),te=he({group:"Debug"}),F(re=be((oe=t((ie=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"gridWidth",oe,o(t)),r(t,"gridHeight",ne,o(t)),r(t,"activeCenter",ae,o(t)),r(t,"subParent",se,o(t)),r(t,"previewSlot",le,o(t)),r(t,"hexagonPrefab",ce,o(t)),t.grid=[],r(t,"currentLevelAsset",de,o(t)),r(t,"piecePrefabColors",ue,o(t)),r(t,"obstaclePrefabs",pe,o(t)),t.gridPosCount=0,t}i(t,e);var c=t.prototype;return c.onLoad=function(){T.set(this),this.generateGrid()},c.setLevelAsset=function(e){this.currentLevelAsset=e},c.saveGridData=function(){for(var e=[],t=0;t<this.gridHeight;t++)for(var r=0;r<this.gridWidth;r++){var i=this.grid[t][r];e.push(i.data)}this.currentLevelAsset.gridSavedAsJson=JSON.stringify(e),this.currentLevelAsset.saveAsset()},c.loadGridData=function(e){console.log("HexGridController.loadGridData()");for(var t=JSON.parse(this.currentLevelAsset.gridSavedAsJson),r=new g(0,0,0),i=0,o=0;o<this.gridHeight;o++)for(var n=0;n<this.gridWidth;n++){var a=this.grid[o][n],s=new P,l=[],c=t.shift();if(Object.assign(s,c),Object.assign(l,s.piecesStack),s.piecesStack=l,s.isActiveSlot){a.node.active=!0;for(var d=0;d<l.length;d++){var u=new w;Object.assign(u,l[d]),s.piecesStack[d]=u}r.add(a.node.worldPosition),i++}else e||(a.node.active=!1);if(a.data=s,a.loadUpdatePiecesVisual(),a.setCurrentInteractionMode(D.Disabled),a.data.isActiveSlot&&0==a.data.piecesStack.length&&a.setCurrentInteractionMode(D.Drop),a.data.isActiveSlot&&1==a.data.piecesStack.length){var p=a.getTopStack();p.isColor||(p.obstacleType===x.Ad?a.setCurrentInteractionMode(D.Clickable):p.obstacleType===x.Lock?(a.addComponent(H),a.setCurrentInteractionMode(D.Disabled)):p.obstacleType===x.Wood&&(a.addComponent(M),a.setCurrentInteractionMode(D.Disabled)))}}this.gridPosCount=i,e||(this.activeCenter=r.multiplyScalar(1/i),this.recenterGrid())},c.recenterGrid=function(){var e=this.grid[0][0].node.worldPosition,t=e.x-this.activeCenter.x,r=e.z-this.activeCenter.z,i=new g(t,0,r);this.subParent.position=i},c.CreatePreviewSlot=function(){var e=this.spawnHexagonVisualPrefab(0,0);return e.initializePreview(1),e},c.selectSlot=function(e,t){void 0===t&&(t=!1),this.deselectAllSlots(),t||(this.previewSlot.node.active=!0,this.previewSlot.node.worldPosition=e.node.worldPosition)},c.deselectAllSlots=function(){this.previewSlot.node.active=!1},c.UpdatePreviewVisual=function(e){this.previewSlot.updatePreviewVisual(e)},c.placeStacksOnSlot=function(e,t){var r=e.data.piecesStack;t.setPiecesStack(r),e.data.piecesStack=[],e.setCurrentInteractionMode(D.Disabled),t.setCurrentInteractionMode(D.Disabled),e.loadUpdatePiecesVisual(),t.loadUpdatePiecesVisual(),T.get(k).startPlayerMovement(t)},c.endLevel=function(){for(var e=0;e<this.gridHeight;e++)for(var t=0;t<this.gridWidth;t++){this.grid[e][t].loadUpdatePiecesVisual()}},c.getValidTutorialPlacementPosition=function(e){var t=this.grid[2][3],r=[];if(e)return t.node.getWorldPosition();t.isEmpty()&&r.push(t);for(var i=0;i<t.neighbor.allActive.length;i++){var o=t.neighbor.allActive[i];o.isEmpty()&&r.push(o)}return r[h(0,r.length)].node.getWorldPosition()},c.startSwapBooster=function(){console.log("HexGridController.startSwapBooster()");for(var e=0;e<this.gridHeight;e++)for(var t=0;t<this.gridWidth;t++){var r=this.grid[e][t];r.isEmpty()?r.setCurrentInteractionMode(D.Disabled):r.getTopStack().isColor&&r.setCurrentInteractionMode(D.Drag)}},c.startSwapPhase=function(){console.log("HexGridController.startSwapBooster()");for(var e=0;e<this.gridHeight;e++)for(var t=0;t<this.gridWidth;t++){var r=this.grid[e][t];(r.isEmpty()||r.getTopStack().isColor)&&r.setCurrentInteractionMode(D.Drop)}},c.endSwapBooster=function(){console.log("HexGridController.endSwapBooster()"),this.resetGridState()},c.swapValues=function(e,t){var r=e.data.piecesStack;e.data.piecesStack=t.data.piecesStack,t.data.piecesStack=r,e.loadUpdatePiecesVisual(),t.loadUpdatePiecesVisual()},c.toggleHammerBooster=function(e){if(e)for(var t=0;t<this.gridHeight;t++)for(var r=0;r<this.gridWidth;r++){var i=this.grid[t][r];i.isEmpty()||i.getTopStack().isColor&&i.setCurrentInteractionMode(D.Drag)}else this.resetGridState()},c.resetGridState=function(){for(var e=0;e<this.gridHeight;e++)for(var t=0;t<this.gridWidth;t++){var r=this.grid[e][t];if(r.setCurrentInteractionMode(D.Disabled),r.data.isActiveSlot&&0==r.data.piecesStack.length&&r.setCurrentInteractionMode(D.Drop),r.data.isActiveSlot&&1==r.data.piecesStack.length){var i=r.getTopStack();i.isColor||(i.obstacleType===x.Ad?r.setCurrentInteractionMode(D.Clickable):i.obstacleType===x.Lock?(r.addComponent(H),r.setCurrentInteractionMode(D.Disabled)):i.obstacleType===x.Wood&&(r.addComponent(M),r.setCurrentInteractionMode(D.Disabled)))}}},c.moveTopPiecesToSlot=function(e,t,r){var i=this,o=e.getTopStack(),n=t.visualControl.getTopPiece().node;e.visualControl.movePieces(o.amount,n,(function(){return i.onMovePieceAnimationEnded(e,t,r)}))},c.onMovePieceAnimationEnded=function(e,t,r){var i=e.getTopStack();e.removeTopStack(),t.addTopStack(i),e.loadUpdatePiecesVisual(),t.loadUpdatePiecesVisual(),e.isEmpty()&&e.setCurrentInteractionMode(D.Drop),t.setCurrentInteractionMode(D.Disabled),r&&r()},c.generateGrid=function(){this.grid=[],this.subParent=new b("Axis"),this.subParent.parent=this.node;for(var e=0;e<this.gridHeight;e++){for(var t=[],r=0;r<this.gridWidth;r++){var i=this.spawnHexagonVisualPrefab(r,e);i.node.name="("+i.data.x+", "+i.data.y+") HexSlot",i.node.parent=this.subParent,t.push(i)}this.grid.push(t)}this.assignNeighbors(),this.previewSlot=this.CreatePreviewSlot()},c.assignNeighbors=function(){for(var e=new f(-1,-1),t=new f(0,-1),r=new f(1,-1),i=new f(-1,0),o=new f(0,1),a=new f(1,0),s=[e,t,r,i,o,a],l=new f(-1,0),c=new f(0,-1),d=new f(1,0),u=new f(-1,1),p=new f(0,1),g=new f(1,1),h=[l,c,d,u,p,g],b=0;b<this.gridHeight;b++)for(var v=0;v<this.gridWidth;v++){for(var y,P=this.grid[b][v],w=[],C=v%2==0,x=n(C?s:h);!(y=x()).done;){var m=y.value,A=v+m.x,D=b+m.y;if(D>=0&&D<this.gridHeight&&A>=0&&A<this.gridWidth){var k=this.grid[D][A].node.getComponent(S);w.push(k);var H=m;C?(H.x===e.x&&H.y===e.y&&(P.neighbor.topLeft=k),H.x===t.x&&H.y===t.y&&(P.neighbor.top=k),H.x===r.x&&H.y===r.y&&(P.neighbor.topRight=k),H.x===i.x&&H.y===i.y&&(P.neighbor.botLeft=k),H.x===o.x&&H.y===o.y&&(P.neighbor.bot=k),H.x===a.x&&H.y===a.y&&(P.neighbor.botRight=k)):(H.x===l.x&&H.y===l.y&&(P.neighbor.topLeft=k),H.x===c.x&&H.y===c.y&&(P.neighbor.top=k),H.x===d.x&&H.y===d.y&&(P.neighbor.topRight=k),H.x===u.x&&H.y===u.y&&(P.neighbor.botLeft=k),H.x===p.x&&H.y===p.y&&(P.neighbor.bot=k),H.x===g.x&&H.y===g.y&&(P.neighbor.botRight=k))}}P.neighbor.assignAllNeighborsList(w)}},c.getPrefabFromColor=function(e){for(var t,r=n(this.piecePrefabColors);!(t=r()).done;){var i=t.value;if(i.color===e)return i.prefab}return null},c.getPrefabFromObstacle=function(e){for(var t,r=n(this.obstaclePrefabs);!(t=r()).done;){var i=t.value;if(i.obstacleType===e)return i.prefab}return null},c.spawnHexagonVisualPrefab=function(e,t){if(this.hexagonPrefab){var r=v(this.hexagonPrefab),i=r.getComponent(S);i.initialize(e,t),this.node.addChild(r);var o=.5*Math.sqrt(3)*1,n=1*e*.75,a=t*o;return e%2==1?r.setPosition(n,0,a+o/2):r.setPosition(n,0,a),i}console.warn("Hexagon prefab not assigned")},c.createNewLevelAsset=function(){var e=s(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.ScriptableAsset.createInstance(m),r="C:/Projects/gem-sort/assets/scenes/",console.log("Creating asset at path: "+r),e.prev=3,e.next=6,A.ScriptableAsset.createAsset(t,r);case 6:console.log("Asset created with UUID: "+t.uuid),A.ScriptableAsset.saveAsset(t),console.log("Asset saved successfully"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Error creating asset:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),a(t,[{key:"debug_Save",get:function(){return!1},set:function(e){this.saveGridData()}},{key:"debug_Load",get:function(){return!1},set:function(e){this.loadGridData(!0)}},{key:"debug_DeselectAll",get:function(){return!1},set:function(e){for(var t=0;t<this.gridHeight;t++)for(var r=0;r<this.gridWidth;r++){this.grid[t][r].debug_MarkSlotNotSelect=!0}}}]),t}(y)).prototype,"gridWidth",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),ne=t(ie.prototype,"gridHeight",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),ae=t(ie.prototype,"activeCenter",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ie.prototype,"subParent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ie.prototype,"previewSlot",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ie.prototype,"hexagonPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ie.prototype,"currentLevelAsset",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(ie.prototype,"piecePrefabColors",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=t(ie.prototype,"obstaclePrefabs",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(ie.prototype,"debug_Save",[$],Object.getOwnPropertyDescriptor(ie.prototype,"debug_Save"),ie.prototype),t(ie.prototype,"debug_Load",[ee],Object.getOwnPropertyDescriptor(ie.prototype,"debug_Load"),ie.prototype),t(ie.prototype,"debug_DeselectAll",[te],Object.getOwnPropertyDescriptor(ie.prototype,"debug_DeselectAll"),ie.prototype),re=ie))||re)||re));c._RF.pop()}}}));

System.register("chunks:///_virtual/HexPiece.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(e){var t,r,i,a,l,o,n,u,s,c,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,n=e._decorator,u=e.Node,s=e.Material,c=e.MeshRenderer,p=e.Component},null,function(e){d=e.Action}],execute:function(){var b,f,g,h,y,M,P,w,m,v,z,B,R,F,_,x,D;o._RF.push({},"26254OpfP5Dq6wpduXazEP3","HexPiece",void 0);var H=n.ccclass,S=n.property;e("HexPiece",(b=H("HexPiece"),f=S(u),g=S(u),h=S(s),y=S(s),M=S(s),P=S(c),w=S({group:"Debug"}),b(((D=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"visual",z,a(t)),t.onValueChanged=new d,i(t,"bottonFace",B,a(t)),i(t,"defaultMaterial",R,a(t)),i(t,"defaultMaterialSides",F,a(t)),i(t,"alphaMaterial",_,a(t)),i(t,"topRenderer",x,a(t)),t}r(t,e);var o=t.prototype;return o.setBottonWorldRotationFromEuler=function(e){this.bottonFace.setRotationFromEuler(e)},o.ToggleHighlightMaterial=function(e){var t=[null,null];e?(t[0]=this.alphaMaterial,t[1]=this.alphaMaterial):(t[0]=this.defaultMaterialSides,t[1]=this.defaultMaterial),this.topRenderer.sharedMaterials=t},l(t,[{key:"debug_PressBooleanButton",get:function(){return!1},set:function(e){console.log("Button was pressed! ")}}]),t}(p)).thickness=.15,z=t((v=D).prototype,"visual",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(v.prototype,"bottonFace",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(v.prototype,"defaultMaterial",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(v.prototype,"defaultMaterialSides",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(v.prototype,"alphaMaterial",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(v.prototype,"topRenderer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(v.prototype,"debug_PressBooleanButton",[w],Object.getOwnPropertyDescriptor(v.prototype,"debug_PressBooleanButton"),v.prototype),m=v))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/HexSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NeighborController.ts","./LevelAsset.ts","./HexGridController.ts","./index2.ts","./DragDropComponent.ts","./HexVisual.ts","./HexPiece.ts","./APIController.ts","./Action.ts","./Singleton.ts"],(function(t){var e,i,o,n,a,r,s,l,c,u,p,d,h,g,b,f,S,y,m,k,v,C,P,w,A,D,z;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Enum,c=t.Node,u=t.Vec3,p=t.instantiate,d=t.MeshRenderer,h=t.Color,g=t.randomRange,b=t.randomRangeInt,f=t.Component},function(t){S=t.NeighborController},function(t){y=t.PieceColor,m=t.ObstacleType},function(t){k=t.HexGridController},null,function(t){v=t.DragDropComponent,C=t.DragDropMode},function(t){P=t.HexVisual},function(t){w=t.HexPiece},function(t){A=t.APIController},function(t){D=t.Action},function(t){z=t.Singleton}],execute:function(){var x,M,T,N,_,V,H,O,E,U,L,I,R,j,F,B,G,W,Y,Z,q,J,K,Q,X,$,tt,et,it,ot,nt,at,rt,st,lt,ct,ut,pt,dt,ht,gt,bt,ft,St,yt,mt,kt,vt,Ct,Pt,wt,At,Dt,zt;r._RF.push({},"e4a5456GZREe4z7onEgwwEB","HexSlot",void 0);var xt=s.ccclass,Mt=s.property,Tt=s.executeInEditMode,Nt=t("PieceStack",(x=xt("PieceStack"),M=Mt(),T=Mt({type:l(y),visible:function(){return this.isColor}}),N=Mt({type:l(m),visible:function(){return!this.isColor}}),_=Mt(),x(V=Tt((O=e((H=function(){function t(){o(this,"isColor",O,this),o(this,"pieceColor",E,this),o(this,"obstacleType",U,this),o(this,"amount",L,this)}return t.prototype.initialize=function(t){this.isColor=t.isColor,this.pieceColor=t.pieceColor,this.obstacleType=t.obstacleType,this.amount=t.amount},t}()).prototype,"isColor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=e(H.prototype,"pieceColor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Red}}),U=e(H.prototype,"obstacleType",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.Ad}}),L=e(H.prototype,"amount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=H))||V)||V)),_t=t("HexData",(I=xt("HexData"),R=Mt(),j=Mt(),F=Mt(),B=Mt({type:[Nt]}),I((Y=e((W=function(){function t(){o(this,"x",Y,this),o(this,"y",Z,this),o(this,"isActiveSlot",q,this),o(this,"piecesStack",J,this)}return t.prototype.initialize=function(t){this.x=t.x,this.y=t.y,this.isActiveSlot=t.isActiveSlot,this.piecesStack=new Array;for(var e=0;e<t.piecesStack.length;e++){var i=new Nt;i.initialize(t.piecesStack[e]),this.piecesStack.push(i)}},t}()).prototype,"x",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=e(W.prototype,"y",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=e(W.prototype,"isActiveSlot",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=e(W.prototype,"piecesStack",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=W))||G)),Vt=t("HexSlot",(K=xt("HexSlot"),Q=Mt({type:_t}),X=Mt({type:S,group:"Components"}),$=Mt({type:P,group:"Components"}),tt=Mt({type:c,group:"Components"}),et=Mt({type:c,group:"Components"}),it=Mt({type:c,group:"Components"}),ot=Mt({type:c,group:"Components"}),nt=Mt({type:v,group:"Components"}),at=Mt({group:"Debug"}),rt=Mt({group:"Debug"}),st=Mt({group:"Debug"}),lt=Mt({group:"Debug"}),ct=Mt({group:"Debug"}),ut=Mt({group:"Debug"}),pt=Mt({group:"Debug"}),dt=Mt({type:[Vt]}),K((bt=e((gt=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"data",bt,n(e)),o(e,"neighbor",ft,n(e)),o(e,"visualControl",St,n(e)),o(e,"colliderParent",yt,n(e)),o(e,"visual",mt,n(e)),o(e,"inactiveEditorVisual",kt,n(e)),o(e,"childPiecesStackNode",vt,n(e)),o(e,"dragComponent",Ct,n(e)),o(e,"canMovePieceStack",Pt,n(e)),o(e,"isAnimationLocked",wt,n(e)),o(e,"isOptionsTray",At,n(e)),e.onAdjacentTowerExploded=new D,o(e,"possibleMatches",Dt,n(e)),o(e,"hasPossibleMatches",zt,n(e)),e}i(e,t);var r=e.prototype;return r.initialize=function(t,e){this.data.x=t,this.data.y=e},r.initializePreview=function(t){this.node.name="Preview Slot",this.colliderParent.active=!1,this.dragComponent.setCurrenMode(C.Disabled),this.inactiveEditorVisual.active=!1,this.node.active=!1,this.node.scale=new u(t,t,t)},r.updatePreviewVisual=function(t){console.log("HexSlot.updatePreviewVisual("+t.name+")"),this.data=new _t,this.data.initialize(t.data),this.loadUpdatePiecesVisual(),this.visualControl.ToggleHighlightMaterial(!0)},r.onLoad=function(){this.setSlotActive(!1)},r.loadUpdatePiecesVisual=function(){this.childPiecesStackNode.destroyAllChildren(),this.visualControl.clearVisual(),this.isAnimationLocked=!1;for(var t=!1,e=0,i=0;i<this.data.piecesStack.length;i++){var o=this.data.piecesStack[i];if(null!==o)if(o.isColor)for(var n=0;n<o.amount;n++){var a=z.get(k).getPrefabFromColor(o.pieceColor),r=p(a);e++,this.visualControl.addPiece(r.getComponent(w)),r.setParent(this.childPiecesStackNode),r.setWorldPosition(this.node.worldPosition.x,this.node.worldPosition.y+w.thickness*e,this.node.worldPosition.z),t=!0}else{var s=z.get(k).getPrefabFromObstacle(o.obstacleType),l=p(s);e++,this.visualControl.addPiece(l.getComponent(w)),l.setParent(this.childPiecesStackNode),l.setWorldPosition(this.node.worldPosition.x,this.node.worldPosition.y+w.thickness*e,this.node.worldPosition.z),t=!0}}this.updateActiveSlotVisual(this.data.isActiveSlot),t&&this.setSlotActive(!0),this.updateNodeName()},r.setSlotActive=function(t){this.data.isActiveSlot=t,this.updateActiveSlotVisual(t)},r.updateActiveSlotVisual=function(t){this.visual.active=t},r.setPiecesStack=function(t){this.data.piecesStack=[],this.data.piecesStack=t,this.loadUpdatePiecesVisual()},r.getData=function(){return this.data},r.setData=function(t){this.data=t},r.explodeTower=function(t){var e=this;this.isAnimationLocked=!0,this.setCurrentInteractionMode(C.Disabled),this.visualControl.explodeTower(this.getTopStack().amount,(function(){return e.onExplodeAnimationFinished(t)})),this.updateNodeName()},r.onExplodeAnimationFinished=function(t){this.removeTopStack(),this.isAnimationLocked=!1,0==this.data.piecesStack.length&&this.setCurrentInteractionMode(C.Drop),this.updateNodeName(),this.neighbor.towerExploded(),console.log("HexSlot.onExplodeAnimationFinished() ["+this.node.name+"]"),t&&t()},r.getTopStack=function(){return this.data.piecesStack[this.data.piecesStack.length-1]},r.removeTopStack=function(){this.data.piecesStack.splice(this.data.piecesStack.length-1),this.updateNodeName()},r.removeLock=function(){console.log("HexSlot.removeLock("+this.node.name+")"),this.removeTopStack(),this.loadUpdatePiecesVisual(),0==this.data.piecesStack.length&&this.setCurrentInteractionMode(C.Drop)},r.removeObstacle=function(){this.removeTopStack(),this.loadUpdatePiecesVisual(),0==this.data.piecesStack.length&&this.setCurrentInteractionMode(C.Drop)},r.addTopStack=function(t){this.getTopStack().pieceColor===t.pieceColor?this.getTopStack().amount+=t.amount:this.data.piecesStack.push(t),this.updateNodeName()},r.isSingleColor=function(){return 1==this.data.piecesStack.length},r.isMultiColor=function(){return this.data.piecesStack.length>1},r.getColorAmount=function(){return this.data.piecesStack.length},r.isEmpty=function(){return 0==this.getColorAmount()},r.isTower=function(){return!this.isEmpty()&&(null!=this.getTopStack()&&!!(this.getTopStack().isColor&&this.getTopStack().amount>=10))},r.canBreak=function(){return!this.isEmpty()&&(!this.getTopStack().isColor||!this.isAnimationLocked&&!this.isTower())},r.updatePossibleNeighborMatches=function(){if(this.hasPossibleMatches=!1,this.possibleMatches=[],!this.isAnimationLocked&&null!=this.getTopStack()&&this.getTopStack().isColor)for(var t=this.getTopStack().pieceColor,e=this.neighbor.getAllContainingStacks(),i=0;i<e.length;i++){var o=e[i],n=o.getTopStack(),a=o.isAnimationLocked;n.isColor&&n.pieceColor===t&&!a&&(this.possibleMatches.push(o),this.hasPossibleMatches=!0)}},r.clickSlot=function(){var t=this;console.log("HexSlot.clickSlot() Clicked on slot: "+this.node.name),z.get(A).rewardedBreak((function(e){return t.removeAd(e)}),"HexSlot_Ad")},r.breakSlot=function(){this.data.piecesStack.clear(),this.loadUpdatePiecesVisual()},r.removeAd=function(t){this.data.piecesStack=[],this.loadUpdatePiecesVisual(),this.setCurrentInteractionMode(C.Drop)},r.updateData=function(t,e){this.data.isActiveSlot=t,this.data.piecesStack=[],this.data.piecesStack=e},r.setCurrentInteractionMode=function(t){this.dragComponent.setCurrenMode(t),this.updateNodeName()},r.debugToggleSelection=function(t){var e=this.visual.getComponentInChildren(d);if(e){var i=e.material.passes[0],o=i.getHandle("albedo");t?i.setUniform(o,h.CYAN):i.setUniform(o,h.WHITE)}},r.updateNodeName=function(){},a(e,[{key:"debug_RandomizePieces",get:function(){return!1},set:function(t){for(var e=g(2,3),i=0;i<e;i++){var o=new Nt;o.pieceColor=b(1,6),o.amount=b(2,5),this.data.piecesStack.push(o)}this.loadUpdatePiecesVisual()}},{key:"debug_ClearStack",get:function(){return!1},set:function(t){this.data.piecesStack=[],this.loadUpdatePiecesVisual()}},{key:"debug_MarkSlotActive",get:function(){return!1},set:function(t){this.setSlotActive(!0)}},{key:"debug_loadUpdatePiecesVisual",get:function(){return!1},set:function(t){this.loadUpdatePiecesVisual()}},{key:"debug_MarkSlotSelected",get:function(){return!1},set:function(t){}},{key:"debug_MarkSlotNotSelect",get:function(){return!1},set:function(t){}},{key:"debug_ShowData",get:function(){return!1},set:function(t){console.log(this.data)}}]),e}(f)).prototype,"data",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _t}}),ft=e(gt.prototype,"neighbor",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(gt.prototype,"visualControl",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(gt.prototype,"colliderParent",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(gt.prototype,"visual",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=e(gt.prototype,"inactiveEditorVisual",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(gt.prototype,"childPiecesStackNode",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(gt.prototype,"dragComponent",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=e(gt.prototype,"canMovePieceStack",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wt=e(gt.prototype,"isAnimationLocked",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),At=e(gt.prototype,"isOptionsTray",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(gt.prototype,"debug_RandomizePieces",[at],Object.getOwnPropertyDescriptor(gt.prototype,"debug_RandomizePieces"),gt.prototype),e(gt.prototype,"debug_ClearStack",[rt],Object.getOwnPropertyDescriptor(gt.prototype,"debug_ClearStack"),gt.prototype),e(gt.prototype,"debug_MarkSlotActive",[st],Object.getOwnPropertyDescriptor(gt.prototype,"debug_MarkSlotActive"),gt.prototype),e(gt.prototype,"debug_loadUpdatePiecesVisual",[lt],Object.getOwnPropertyDescriptor(gt.prototype,"debug_loadUpdatePiecesVisual"),gt.prototype),e(gt.prototype,"debug_MarkSlotSelected",[ct],Object.getOwnPropertyDescriptor(gt.prototype,"debug_MarkSlotSelected"),gt.prototype),e(gt.prototype,"debug_MarkSlotNotSelect",[ut],Object.getOwnPropertyDescriptor(gt.prototype,"debug_MarkSlotNotSelect"),gt.prototype),e(gt.prototype,"debug_ShowData",[pt],Object.getOwnPropertyDescriptor(gt.prototype,"debug_ShowData"),gt.prototype),Dt=e(gt.prototype,"possibleMatches",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=e(gt.prototype,"hasPossibleMatches",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=gt))||ht));r._RF.pop()}}}));

System.register("chunks:///_virtual/HexVisual.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexPiece.ts","./index2.ts","./Wait.ts"],(function(e){var t,n,i,r,o,a,s,c,l,u,p,f,h,d,v,g,b,m,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,l=e._decorator,u=e.Node,p=e.Quat,f=e.math,h=e.tween,d=e.Vec3,v=e.Component,g=e.RealCurve,b=e.director},function(e){m=e.HexPiece},null,function(e){x=e.Wait}],execute:function(){var P,w,y,z,k,A,I,V,j,D,L,T,H,N,E,O,M,R,W;c._RF.push({},"afea9ggvM1J9YNwZRyzNVxP","HexVisual",void 0);var F=l.ccclass,C=l.property;e("HexVisual",(P=F("HexVisual"),w=C(),y=C(),z=C(),k=C(),A=C({type:u,group:"Components"}),I=C({type:[m]}),V=C({type:[u]}),P((L=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"animationDuration",L,r(t)),i(t,"moveInterval",T,r(t)),i(t,"curveExplodeDuration",H,r(t)),i(t,"curveExplodeInterval",N,r(t)),i(t,"explodePieceDuration",E,r(t)),i(t,"explodePieceInterval",O,r(t)),i(t,"slotVisual",M,r(t)),i(t,"pieces",R,r(t)),i(t,"floatingNodes",W,r(t)),t.finishedLastPieceAnimation=!1,t}n(t,e);var c=t.prototype;return c.clearVisual=function(){this.pieces=[];for(var e=0;e<this.floatingNodes.length;e++){var t=this.floatingNodes[e];null!==t&&t.destroy()}this.floatingNodes.clear()},c.ToggleHighlightMaterial=function(e){this.pieces.forEach((function(t){t.ToggleHighlightMaterial(e)}))},c.addPiece=function(e){this.pieces.push(e)},c.getTopPiece=function(){return this.pieces[this.pieces.length-1]},c.setStackYRotation=function(e){var t=new p;p.fromEuler(t,0,-e,0),this.node.rotation=t},c.updatePiecesRotation=function(e){var t=new p;p.fromEuler(t,0,e,0),this.pieces.forEach((function(e){e.node.rotation=t})),this.slotVisual.rotation=t},c.explodeTower=function(e,t){for(var n=[],i=this.pieces.length-1,r=0;r<e;r++){var o=this.pieces[i-r].node;n.push(o)}f.inverseLerp(e,40,10);this.shrinkObjects(n,this.explodePieceDuration,this.explodePieceInterval,t)},c.shrinkObjects=function(){var e=o(a().mark((function e(t,n,i,r){var o,c,l,u,p,f=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.finishedLastPieceAnimation=!1,o=0;case 2:if(!(o<t.length)){e.next=11;break}return c=t[o],l=o===t.length-1,this.shrinkObject(c,n,l),e.next=8,x.seconds(i);case 8:o++,e.next=2;break;case 11:return e.next=13,x.until((function(){return f.finishedLastPieceAnimation}));case 13:for(u=s(t);!(p=u()).done;)p.value.destroy();r&&r();case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),c.shrinkObject=function(e,t,n){var i=this;return new Promise((function(r){h(e).parallel(h().to(t,{scale:new d(0,0,0)},{easing:"quadIn"})).call((function(){n&&(i.finishedLastPieceAnimation=!0),r()})).start()}))},c.explodeTowerAnimation=function(){var e=o(a().mark((function e(t,n,i){var r,o,c,l,u,p,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s(t);case 1:if((o=r()).done){e.next=7;break}return c=o.value,e.next=5,this.explodePiece(c,n);case 5:e.next=1;break;case 7:for(l=s(t);!(u=l()).done;)u.value.destroy();for(p=this.pieces.length-1,f=0;f<t.length;f++)h=this.pieces[p-f],this.pieces.remove(h);i&&i();case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),c.explodePiece=function(){var e=o(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){h(t).parallel(h().to(n,{scale:new d(0,0,0)},{easing:"quadIn"})).call((function(){e()})).start()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c.movePieces=function(e,t,n){for(var i=[],r=this.pieces.length-1,o=0;o<e;o++){var a=this.pieces[r-o];i.push(a)}this.moveObjectsToPosition(i,t,t.worldPosition,this.animationDuration,n)},c.moveObjectsToPosition=function(){var e=o(a().mark((function e(t,n,i,r,o){var c,l,u,p,f,h,v,g,P,w,y,z,k=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.finishedLastPieceAnimation=!1,c=n.getComponent(m).bottonFace.eulerAngles,l=t[0].node.worldPosition,u=i.clone().subtract(l),p=Math.abs(u.x),f=Math.abs(u.z),h=f>p,v=0;case 8:if(!(v<t.length)){e.next=24;break}return(g=t[v]).node.scale=new d(1,1,1),P=g.node.worldPosition.clone(),g.node.setParent(b.getScene()),i.y+=m.thickness,this.floatingNodes.push(g.node),c.set(c.x,h?120:-60,c.z),g.setBottonWorldRotationFromEuler(c),w=v===t.length-1,this.moveObjectToPosition(g.node,P,i,r,w),e.next=21,x.seconds(this.moveInterval);case 21:v++,e.next=8;break;case 24:return e.next=26,x.until((function(){return k.finishedLastPieceAnimation}));case 26:for(y=s(t);!(z=y()).done;)z.value.node.destroy();this.floatingNodes.clear(),o&&o();case 29:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r,o){return e.apply(this,arguments)}}(),c.moveObjectToPosition=function(e,t,n,i,r){var o,a=this,s=n.clone().subtract(t).normalize();Math.abs(s.x)>Math.abs(s.z)||(o=!0);var c=-180,l=e.eulerAngles.clone();return o?l.x+=s.z>0?180:c:l.z+=s.x>0?c:180,new Promise((function(o){e.setWorldPosition(t),a.jump(e,5*i,n,1),h(e).parallel(h().to(5*i,{eulerAngles:l},{easing:"linear"})).call((function(){r&&(a.finishedLastPieceAnimation=!0),o()})).start()}))},c.jump=function(e,t,n,i){var r=e.worldPosition.clone(),o=n.clone();return new Promise((function(n){var a=0;h({}).to(t,{},{onUpdate:function(s,c){!function(s){if(!e.isValid)return n(),!1;(a+=s/t)>1&&(a=1);var c=r.clone().lerp(o,a);c.y=(1-a)*r.y+a*o.y+4*i*a*(1-a),e.setWorldPosition(c),a>=1&&n()}(c*t-a*t)}}).call((function(){e.isValid&&e.setWorldPosition(o),n()})).start()}))},t}(v)).prototype,"animationDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),T=t(D.prototype,"moveInterval",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),H=t(D.prototype,"curveExplodeDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g}}),N=t(D.prototype,"curveExplodeInterval",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g}}),E=t(D.prototype,"explodePieceDuration",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),O=t(D.prototype,"explodePieceInterval",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),M=t(D.prototype,"slotVisual",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"pieces",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(D.prototype,"floatingNodes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=D))||j));c._RF.pop()}}}));

System.register("chunks:///_virtual/hyperbolic-cosine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,o,r,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec4},function(e){r=e.register},function(e){c=e.ShaderNode},function(e){i=e.slot}],execute:function(){var s;n._RF.push({},"d1158zUxl5K7KSvlL2F7+wS","hyperbolic-cosine",void 0);e("default",r({menu:"Math/Trigonometry/HyperbolicCosine",title:"HyperbolicCosine"})(s=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).data={inputs:[i("In",o.ZERO,"vec4","vector")],outputs:[i("Out",o.ZERO,"vec4","vector")]},t}t(n,e);var r=n.prototype;return r.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = cosh("+e+");\n        "},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/hyperbolic-sine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,r,i,o,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){i=e.register},function(e){o=e.ShaderNode},function(e){c=e.slot}],execute:function(){var u;n._RF.push({},"d0e30ycExdAl4oLI765JfTS","hyperbolic-sine",void 0);e("default",i({menu:"Math/Trigonometry/HyperbolicSine",title:"HyperbolicSine"})(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).data={inputs:[c("In",r.ZERO,"vec4","vector")],outputs:[c("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var i=n.prototype;return i.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = sinh("+e+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/hyperbolic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,o,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){o=t.register},function(t){c=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"b180bsrU6dCOKdx5slTh5p9","hyperbolic",void 0);t("default",o({menu:"Math/Trigonometry/Hyperbolic",title:"Hyperbolic"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = tanh("+t+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./polar-coordinates.ts","./rotate-coordinates.ts","./tilling-and-offset.ts","./boolean.ts","./float.ts","./slider.ts","./vector2.ts","./vector3.ts","./vector4.ts","./absolute.ts","./exponential.ts","./length.ts","./log.ts","./modulo.ts","./negate.ts","./normalize.ts","./posterize.ts","./reciprocal-square.ts","./reciprocal.ts","./add.ts","./divide.ts","./multiply.ts","./power.ts","./square.ts","./substract.ts","./ddx.ts","./ddxy.ts","./ddy.ts","./inverse-lerp.ts","./lerp.ts","./smoothstep.ts","./clamp.ts","./fraction.ts","./max.ts","./min.ts","./one-minus.ts","./random-range.ts","./remap.ts","./saturate.ts","./ceil.ts","./floor.ts","./round.ts","./sign.ts","./step.ts","./truncate.ts","./arccosine.ts","./arcsine.ts","./arctangent.ts","./arctangent2.ts","./cosine.ts","./degrees-to-radians.ts","./hyperbolic-cosine.ts","./hyperbolic-sine.ts","./hyperbolic.ts","./radians-to-degrees.ts","./sine.ts","./tangent.ts","./cross-product.ts","./distance.ts","./dot-product.ts","./fresnel.ts","./projection.ts","./reflection.ts","./rejection.ts","./sphere-mask.ts","./noise-sine-wave.ts","./sawtooth-wave.ts","./square-wave.ts","./triangle-wave.ts","./gradient-noise.ts","./simple-noise.ts","./ellipse.ts","./rectangle.ts","./round-rectangle.ts","./index5.ts","./combine.ts","./split.ts","./input-node.ts","./property-node.ts","./all.ts","./and.ts","./any.ts","./branch.ts","./comparison.ts","./is-nan.ts","./not.ts","./or.ts","./MasterNode.ts","./SurfaceMasterNode.ts","./UnlitMasterNode.ts","./SubGraphNode.ts","./SubGraphOutputNode.ts","./PreviewNode.ts","./color.ts","./time.ts","./normal-vector.ts","./position.ts","./uv.ts","./vertex-color.ts","./view-direction.ts","./cubemap-asset.ts","./sample-cubemap.ts","./sample-texture2d.ts","./texture-asset.ts","./texture2d-asset.ts","./get-local-var.ts","./register-local-var.ts"],(function(){var l;return{setters:[function(t){l=t.cclegacy},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){l._RF.push({},"00450ydLIRBS6bzTCNNRjmm","index",void 0),l._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./Singleton.ts","./Game.ts","./AudioController.ts","./TweenSequence.ts","./EventOnNodeState.ts","./ProgressController.ts","./GameProgress.ts","./SimplePool.ts","./ObjectPool.ts","./LocalizedLabel.ts","./LocalizedRichText.ts","./LocalizationExtensions.ts","./InputKey.ts","./EventOnProgress.ts","./EventOnDelay.ts","./SfxPlayer.ts","./Wait.ts","./RaycastUtils.ts","./JsonUtils.ts","./CameraUtils.ts","./VectorUtils.ts","./MathUtils.ts","./Action.ts","./Polymorphism.ts"],(function(t){var n;return{setters:[function(t){n=t.cclegacy},function(n){t("Singleton",n.Singleton)},function(n){t("Game",n.Game)},function(n){t("AudioController",n.AudioController)},function(n){t("TweenSequence",n.TweenSequence)},function(n){t("EventOnNodeState",n.EventOnNodeState)},function(n){t("ProgressController",n.ProgressController)},function(n){t("GameProgress",n.GameProgress)},function(n){t("SimplePool",n.SimplePool)},function(n){t("ObjectPool",n.ObjectPool)},function(n){t("LocalizedLabel",n.LocalizedLabel)},function(n){t("LocalizedRichText",n.LocalizedRichText)},function(n){t("LocalizationExtensions",n.LocalizationExtensions)},function(n){t("InputKey",n.InputKey)},function(n){t("EventOnProgress",n.EventOnProgress)},function(n){t("EventOnDelay",n.EventOnDelay)},function(n){t("SfxPlayer",n.SfxPlayer)},function(n){t("Wait",n.Wait)},function(n){t("RaycastUtils",n.RaycastUtils)},function(n){t("JsonUtils",n.JsonUtils)},function(n){t("CameraUtils",n.CameraUtils)},function(n){t("VectorUtils",n.VectorUtils)},function(n){t("MathUtils",n.MathUtils)},function(n){t("Action",n.Action)},function(n){t("polymorphism",n.polymorphism)}],execute:function(){n._RF.push({},"69769WrZ+dEvbUGbcjk0n2t","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,r,n,i,a,c,o,p,u,l,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass,a=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy,p=e._decorator,u=e.Script,l=e.js,f=e.Asset}],execute:function(){e("bh",void 0),o._RF.push({},"92ec6nW85hK3pRCxzJ+nj+u","index",void 0);var b,d=p.serializable,_=p.property,y=p.ccclass;!function(e,o,p,v,A,h){e.scriptable=function(e){var t=y(e);return function(e){var s=t(e);if(l.isChildClassOf(s,b.ScriptableAsset)){var r=cc._RF.peek();r.uuid&&l._setClassId(r.uuid,s)}return s}},e.scriptableAsset=function(e,t,s,r){return r=Object.assign(r||{},{type:b.ScriptableAsset}),e&&t?void _(r)(e,t,s):void 0===e?_(r):"boolean"==typeof e&&e?(r=Object.assign(r||{},{type:[b.ScriptableAsset]}),_(r)):_(r)},e.createAssetMenu=function(e,t,s,r){return function(e){}};var g=(o=y("ScriptableAsset"),p=_({displayName:"Script",type:u,tooltip:"scriptable_asset_script",animatable:!1}),o((t((A=function(e){function t(){for(var t,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"__scriptUuid",h,n(t)),t}return s(t,e),t.createInstance=function(e){return e?new e:new this},t.saveAsset=function(e){console.warn("env is not in Editor,please use api in Editor")},t.createAsset=function(){var e=a(c().mark((function e(t,s){var r,n,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=14;break;case 4:return r=require("../../../package.json"),n=r.name||"scriptable-asset",i=r.__scriptable_asset_ext||".asset",a="db://assets/"+s+i,e.next=10,Editor.Message.request("scene","execute-scene-script",{name:n,method:"createScriptableAsset",args:[a,l.getClassName(t)]});case 10:return e.sent,e.abrupt("return");case 14:console.warn("env is not in Editor,please use api in Editor");case 15:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),t.prototype.saveAsset=function(){t.saveAsset(this)},i(t,[{key:"__scriptAsset",get:function(){return null}}]),t}(f)).prototype,"__scriptAsset",[p],Object.getOwnPropertyDescriptor(A.prototype,"__scriptAsset"),A.prototype),h=t(A.prototype,"__scriptUuid",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=A))||v);e.ScriptableAsset=g}(b||(b=e("bh",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/index4.ts",["cc","./register.ts"],(function(e){var r;return{setters:[function(e){r=e.cclegacy},function(r){var s={};s.register=r.register,s.shaderNodeClassMap=r.shaderNodeClassMap,s.shaderNodeMap=r.shaderNodeMap,s.shaderPropertyMap=r.shaderPropertyMap,e(s)}],execute:function(){r._RF.push({},"ca808INO7FLGrJCNKRU+Sjn","index",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/index5.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"ce045mF1/xFUKqKc7YUTgo5","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/input-node.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts"],(function(e){var n,t,c,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){c=e.ShaderNode},function(e){o=e.ConcretePrecisionType}],execute:function(){t._RF.push({},"fcee9eMBvJBt5SDLbWEpbbO","input-node",void 0);e("default",function(e){function t(){for(var n,t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return(n=e.call.apply(e,[this].concat(c))||this).concretePrecisionType=o.Fixed,n}return n(t,e),t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/InputKey.ts",["cc"],(function(n){var t,e;return{setters:[function(n){t=n.cclegacy,e=n.Input}],execute:function(){var u;t._RF.push({},"42306Phc9hKXJUydQByTR3d","InputKey",void 0);var c=n("InputKey",(function(){}));u=c,c.inputInstance=new e,c.Up={on:function(n,t){u.inputInstance.on(e.EventType.KEY_UP,(function(e){e.keyCode===n&&t()}),u)}},c.Down={on:function(n,t){u.inputInstance.on(e.EventType.KEY_DOWN,(function(e){e.keyCode===n&&t()}),u)}},c.Pressing={on:function(n,t){u.inputInstance.on(e.EventType.KEY_PRESSING,(function(e){e.keyCode===n&&t()}),u)}},t._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DragInputModule.ts","./BoosterInputModule.ts","./RotationInputModule.ts","./Action.ts","./Singleton.ts"],(function(t){var e,o,n,i,r,s,u,a,l,c,d,h,g,M,p,f,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Enum,a=t.Vec2,l=t.input,c=t.Input,d=t.sys,h=t.EventMouse,g=t.Component},null,function(t){M=t.DragInputModule},function(t){p=t.BoosterInputModule},function(t){f=t.RotationInputModule},function(t){v=t.Action},function(t){b=t.Singleton}],execute:function(){var m,y,k,D,P,S,I,E,w,T,R,B,C,A,L,z,O,_,U,F,V,N,H,X,Y;r._RF.push({},"7d686pFavhPJo1w3iiIPeV7","InputManager",void 0);var x=s.ccclass,j=s.property,J=function(t){return t[t.None=0]="None",t[t.Drag=1]="Drag",t[t.Booster=2]="Booster",t[t.Rotation=3]="Rotation",t}(J||{});t("InputManager",(m=x("InputManager"),y=j({type:u(J)}),k=j({type:Number,group:{name:"Runtime"}}),D=j({type:Boolean,group:{name:"Runtime"}}),P=j({type:Boolean,group:{name:"Runtime"}}),S=j({type:Boolean,group:{name:"Runtime"}}),I=j({type:Boolean,group:{name:"Runtime"}}),E=j({type:Boolean,group:{name:"Runtime"}}),w=j({type:a,group:{name:"Runtime"}}),T=j({type:M,group:{name:"Components"}}),R=j({type:p,group:{name:"Components"}}),B=j({type:f,group:{name:"Components"}}),m((L=e((A=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).onAnyClick=new v,n(e,"currentInput",L,i(e)),n(e,"minMouseDistance",z,i(e)),n(e,"isPaused",O,i(e)),n(e,"isMobile",_,i(e)),n(e,"dragStarted",U,i(e)),n(e,"hasMoved",F,i(e)),n(e,"clickDetected",V,i(e)),n(e,"currentMousePos",N,i(e)),n(e,"defaultModule",H,i(e)),n(e,"boosterModule",X,i(e)),n(e,"rotationModule",Y,i(e)),e.startMousePos=new a,e.onPausedLambda=void 0,e.onDragStart=new v,e.onClick=new v,e.onDragMovement=new v,e.onDragEnd=new v,e.onForcedMovementEnd=new v,e}o(e,t);var r=e.prototype;return r.onLoad=function(){this.initialize(),b.set(this)},r.start=function(){},r.onDestroy=function(){},r.initialize=function(){this.checkPlatform(),this.isMobile?(l.on(c.EventType.TOUCH_START,this.onTouchStart,this),l.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),l.on(c.EventType.TOUCH_END,this.onTouchEnd,this)):(l.on(c.EventType.MOUSE_DOWN,this.onMouseClick,this),l.on(c.EventType.MOUSE_MOVE,this.onMouseMove,this),l.on(c.EventType.MOUSE_UP,this.onMouseUp,this))},r.checkPlatform=function(){d.isMobile?(console.log("Running on a mobile device."),this.isMobile=!0):(console.log("Running on a desktop."),this.isMobile=!1)},r.onTouchStart=function(t){var e=t.getLocation();this.currentMousePos=e,this.dragStart(this.currentMousePos)},r.onTouchMove=function(t){var e=t.getLocation();this.currentMousePos=e,this.dragMovement(this.currentMousePos)},r.onTouchEnd=function(t){var e=t.getLocation();this.currentMousePos=e,this.dragEnded(this.currentMousePos)},r.onMouseClick=function(t){if(t.getButton()===h.BUTTON_LEFT){var e=new a(t.getLocationX(),t.getLocationY());this.currentMousePos=new a(e.x,e.y),this.dragStarted?this.dragEnded(this.currentMousePos):(this.startMousePos=this.currentMousePos,this.firstClick(this.currentMousePos))}},r.onMouseUp=function(t){t.getButton()===h.BUTTON_LEFT&&(a.distance(this.startMousePos,new a(t.getLocationX(),t.getLocationY()))>=this.minMouseDistance?(this.hasMoved=!0,this.dragStart&&this.dragEnded(this.currentMousePos)):this.hasMoved||this.click(new a(t.getLocationX(),t.getLocationY())))},r.onMouseMove=function(t){this.currentMousePos=new a(t.getLocationX(),t.getLocationY()),this.dragMovement(this.currentMousePos)},r.dragStart=function(t,e){var o;void 0===e&&(e=!1),this.isPaused||(e||(this.currentInput=J.Drag),this.dragStarted=!0,this.hasMoved=!1,null==(o=this.onAnyClick)||o.invoke(),this.onDragStart.invoke(t))},r.dragMovement=function(t){this.isPaused||this.dragStarted&&this.onDragMovement.invoke(t)},r.dragEnded=function(t){this.isPaused||(this.dragStarted=!1,this.hasMoved=!1,this.currentInput===J.Rotation?(this.currentInput=J.Drag,this.onDragEnd.invoke(t),this.disableAllModules(),this.toggleBoosterModule(!1,0)):(this.currentInput===J.Drag||this.currentInput===J.Booster)&&this.onDragEnd.invoke(t))},r.firstClick=function(t){if(this.currentInput===J.Booster)this.boosterModule.handleOnValidDragCheck(t)&&this.dragStart(t,!0);else{if(this.defaultModule.handleOnValidDragCheck(t))return void this.dragStart(t);this.defaultModule.checkForValidClick(t)&&(this.clickDetected=!0),this.rotationModule.checkForValidRotation(t)&&(this.toggleModule(J.Rotation,!0),this.rotationStart(t))}},r.rotationStart=function(t){var e;this.dragStarted=!0,this.hasMoved=!1,this.currentInput=J.Rotation,this.onDragStart.invoke(t),null==(e=this.onAnyClick)||e.invoke()},r.click=function(t){var e;this.isPaused||this.defaultModule.checkForValidClick(t)&&(this.toggleModule(J.Drag,!0),null==(e=this.onClick)||e.invoke(t),this.clickDetected=!1,this.dragStarted=!1)},r.forceResetCurrentDrag=function(){this.dragStarted=!1,this.hasMoved=!1,this.onForcedMovementEnd.invoke()},r.toggleBoosterModule=function(t,e){console.log("InputManager.toggleBoosterModule ("+t+", "+e+")"),this.hasMoved=!1,this.dragStarted=!1,t?(this.toggleModule(J.Booster,!0),this.boosterModule.boosterId=e):this.toggleModule(J.Drag,!0)},r.resetDrag=function(){this.hasMoved=!1,this.dragStarted=!1},r.disableAllModules=function(){this.hasMoved=!1,this.dragStarted=!1,this.defaultModule.isActive=!1,this.boosterModule.isActive=!1,this.rotationModule.isActive=!1,this.defaultModule.clearModule(),this.boosterModule.currentItem=null},r.toggleModule=function(t,e){console.log("InputManager.toggleModule ("+t+")"),this.resetAllModules(),this.defaultModule.isActive=!1,this.boosterModule.isActive=!1,this.rotationModule.isActive=!1,this.currentInput=t,t===J.Drag?this.defaultModule.isActive=e:t===J.Booster?(this.boosterModule.isActive=e,this.boosterModule.currentItem=null):t===J.Rotation&&(this.rotationModule.isActive=e)},r.resetAllModules=function(){this.defaultModule.clearModule(),this.boosterModule.currentItem=null},e}(g)).prototype,"currentInput",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.None}}),z=e(A.prototype,"minMouseDistance",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=e(A.prototype,"isPaused",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(A.prototype,"isMobile",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=e(A.prototype,"dragStarted",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(A.prototype,"hasMoved",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=e(A.prototype,"clickDetected",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=e(A.prototype,"currentMousePos",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),H=e(A.prototype,"defaultModule",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(A.prototype,"boosterModule",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(A.prototype,"rotationModule",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/InputManagerTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(t){var e,n,o,i,s,r,u,a,c,h,g,l,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,u=t.Vec2,a=t.input,c=t.Input,h=t.sys,g=t.EventMouse,l=t.Component},null,function(t){M=t.Action}],execute:function(){var p,d,f,v,P,T,m,y,E,b,D;s._RF.push({},"be92cYBG9NFs7u6H+1wjcha","InputManagerTest",void 0);var w=r.ccclass,L=r.property;t("InputManagerTest",(p=w("InputManagerTest"),d=L({type:Boolean,group:{name:"Runtime"}}),f=L({type:Boolean,group:{name:"Runtime"}}),v=L({type:Boolean,group:{name:"Runtime"}}),P=L({type:u,group:{name:"Runtime"}}),p((y=e((m=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"isPaused",y,i(e)),o(e,"isMobile",E,i(e)),o(e,"isDragging",b,i(e)),o(e,"currentMousePos",D,i(e)),e.startMousePos=new u,e.onPausedLambda=void 0,e.onDragStart=new M,e.onDragMovement=new M,e.onDragEnd=new M,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.initialize()},s.initialize=function(){this.checkPlatform(),this.isMobile?(a.on(c.EventType.TOUCH_START,this.onTouchStart,this),a.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(c.EventType.TOUCH_END,this.onTouchEnd,this)):(a.on(c.EventType.MOUSE_DOWN,this.onMouseClick,this),a.on(c.EventType.MOUSE_MOVE,this.onMouseMove,this),a.on(c.EventType.MOUSE_UP,this.onMouseUp,this))},s.checkPlatform=function(){h.isMobile?(console.log("Running on a mobile device."),this.isMobile=!0):(console.log("Running on a desktop."),this.isMobile=!1)},s.onTouchStart=function(t){var e=t.getLocation();this.currentMousePos=e,this.dragStart(this.currentMousePos)},s.onTouchMove=function(t){var e=t.getLocation();this.currentMousePos=e,this.dragMovement(this.currentMousePos)},s.onTouchEnd=function(t){var e=t.getLocation();this.currentMousePos=e,this.dragEnded(this.currentMousePos)},s.onMouseClick=function(t){t.getButton()===g.BUTTON_LEFT&&(this.currentMousePos=new u(t.getLocationX(),t.getLocationY()),this.startMousePos=this.currentMousePos,this.isDragging?this.dragEnded(this.currentMousePos):this.dragStart(this.currentMousePos))},s.onMouseUp=function(t){t.getButton()===g.BUTTON_LEFT&&this.startMousePos!=this.currentMousePos&&this.isDragging&&this.dragEnded(this.currentMousePos)},s.onMouseMove=function(t){this.currentMousePos=new u(t.getLocationX(),t.getLocationY()),this.dragMovement(this.currentMousePos)},s.dragStart=function(t){this.isPaused||(this.isDragging=!0,this.onDragStart.invoke(t))},s.dragMovement=function(t){this.isPaused||this.isDragging&&this.onDragMovement.invoke(t)},s.dragEnded=function(t){this.isPaused||(this.isDragging=!1,this.onDragEnd.invoke(t))},e}(l)).prototype,"isPaused",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=e(m.prototype,"isMobile",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=e(m.prototype,"isDragging",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=e(m.prototype,"currentMousePos",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),T=m))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/inverse-lerp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,r,c,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){c=e.register},function(e){o=e.ShaderNode},function(e){i=e.slot}],execute:function(){var u;n._RF.push({},"c589fRsjwlOb5Fzx0G64yl/","inverse-lerp",void 0);e("default",c({menu:"Math/Interpolation/InverseLerp",title:"InverseLerp"})(u=function(e){function n(){for(var t,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))||this).data={inputs:[i("A",r.ZERO,"vec4","vector"),i("B",r.ZERO,"vec4","vector"),i("T",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var c=n.prototype;return c.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = ("+n+" - "+e+") / ("+t+" - "+e+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/InvokeEventCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Command.ts","./CommandDecorator.ts"],(function(t){var e,n,o,r,i,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.EventHandler},function(t){s=t.Command},function(t){u=t.commandclass}],execute:function(){var l,m,p,v,d;i._RF.push({},"439b1g9S/FLzqg3DKS6pmaO","InvokeEventCommand",void 0);a.ccclass;var f=a.property;t("InvokeEventCommand",(l=u("InvokeEventCommand"),m=f({type:[c],displayName:"Event"}),l((d=e((v=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"staticEvent",d,r(e)),e}return n(e,t),e.prototype.execute=function(){this.staticEvent.emit([])},e}(s)).prototype,"staticEvent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),p=v))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/is-nan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,o,i,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.register},function(e){i=e.ShaderNode},function(e){r=e.ConcretePrecisionType},function(e){c=e.slot}],execute:function(){var s;n._RF.push({},"c8ed6hsGT1HOKJ9Qr9y8+aM","is-nan",void 0);e("default",o({menu:"Logic/IsNan",title:"IsNan"})(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=r.Fixed,t.fixedConcretePrecision=1,t.data={inputs:[c("In",0,"float","vector")],outputs:[c("Out",!1,"boolean","boolean")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = isnan("+e+");\n        "},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemType.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts","./UniqueHashGenerator.ts"],(function(e){var t,r,n,i,a,o,s,p,c,u;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,p=e.SpriteFrame},function(e){c=e.bh},function(e){u=e.UniqueHashGenerator}],execute:function(){var l,y,h,f,d,b,g,m,I,H,v,z,w;o._RF.push({},"381baN1z5NMt4urXHp1nxH5","ItemType",void 0);s.ccclass;var G=s.property;e("ItemType",(l=c.createAssetMenu("item-0001","Game/ItemType"),y=c.scriptable("ItemType"),h=G({type:String}),f=G({type:String}),d=G({type:String}),b=G({type:p}),g=G({type:Boolean}),l(m=y((I=function(e){function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"hashId",H,a(t)),i(t,"displayName",v,a(t)),i(t,"description",z,a(t)),i(t,"icon",w,a(t)),t}return t(n,e),n.prototype.generateHashId=function(){this.hashId=u.generateUniqueHashId()},r(n,[{key:"GenerateHashId",get:function(){return!1},set:function(e){e&&(this.generateHashId(),this.saveAsset(),e=!1)}}]),n}(c.ScriptableAsset),H=n(I.prototype,"hashId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=n(I.prototype,"displayName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=n(I.prototype,"description",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=n(I.prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n(I.prototype,"GenerateHashId",[g],Object.getOwnPropertyDescriptor(I.prototype,"GenerateHashId"),I.prototype),m=I))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtils.ts",["cc"],(function(t){var s,c;return{setters:[function(t){s=t.cclegacy,c=t._decorator}],execute:function(){var n;s._RF.push({},"2fd5dThZoxBzJIrg3jddLHN","JsonUtils",void 0);var o=c.ccclass;c.property,t("JsonUtils",o("JsonUtils")(n=function(){})||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/LayerCheckerTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,a,i,u,c,l,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){i=e.cclegacy,u=e._decorator,c=e.Node,l=e.Layers,s=e.Component}],execute:function(){var p,y,m,f,h,b,g,d,L,C,N;i._RF.push({},"1f4027+dCFAla6NQlMuUfB2","LayerCheckerTest",void 0);var k=u.ccclass,v=u.property;e("LayerCheckerTest",(p=k("LayerCheckerTest"),y=v({type:c,group:{name:"Components"}}),m=v({type:Number,group:{name:"Components"}}),f=v({type:Number,group:{name:"Components"}}),h=v({type:String,group:{name:"Components"}}),p((d=r((g=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return r=e.call.apply(e,[this].concat(a))||this,n(r,"currentNode",d,o(r)),n(r,"layerCode",L,o(r)),n(r,"layerNumber",C,o(r)),n(r,"layerName",N,o(r)),r}t(r,e);var i=r.prototype;return i.start=function(){this.checkLayer()},i.checkLayer=function(){var e=this.node.layer,r=this.getLayerIndices(e),t=l.layerToName(r[0]);console.log(this.node.name+" Layer number is: "+e+" |"+r+"| Layer name: "+t),this.layerCode=e,this.layerName=""+t,this.node.name=this.node.name+" ["+t+" - "+e+"]"},i.getLayerName=function(e){for(var r in l.Enum)if(l.Enum[r]===e)return r;return"Unknown"},i.getLayerIndices=function(e){for(var r=[],t=0;t<32;t++)e&1<<t&&r.push(t);return r},a(r,[{key:"pressBooleanButton",get:function(){return!1},set:function(e){this.checkLayer()}}]),r}(s)).prototype,"currentNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(g.prototype,"layerCode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=r(g.prototype,"layerNumber",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=r(g.prototype,"layerName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Null"}}),r(g.prototype,"pressBooleanButton",[v],Object.getOwnPropertyDescriptor(g.prototype,"pressBooleanButton"),g.prototype),b=g))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/length.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){u=t.slot}],execute:function(){var i;n._RF.push({},"d16658ODu5NPKUU74aU5bA5","length",void 0);t("default",c({menu:"Math/Advanced/Length",title:"Length"})(i=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[u("In",r.ZERO,"vec4","vector")],outputs:[u("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = length("+t+");\n        "},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/lerp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,r,c,o,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"0583aaFcfFDfr3SugrLLX4t","lerp",void 0);t("default",c({menu:"Math/Interpolation/Lerp",title:"Lerp"})(s=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).concretePrecisionType=i.Max,e.data={inputs:[u("A",r.ZERO,"vec4","vector"),u("B",r.ZERO,"vec4","vector"),u("T",r.ZERO,"vec4","vector")],outputs:[u("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = mix("+t+", "+e+", "+n+");\n        "},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelAsset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts"],(function(e){var t,r,i,n,o,l,u,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.createClass,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,u=e._decorator,a=e.Enum,c=e.Vec2},function(e){s=e.bh}],execute:function(){var p,f,b,y,d,h,A,v,g,m,w,R,O,N,T,P,z,L,j,S,k,D,M,C,B,E,W,_,x,F,I;l._RF.push({},"7a38eQYqfRFmJyEs+YSnUwu","LevelAsset",void 0);var J=u.ccclass,V=u.property,G=e("AddRule",function(e){return e[e.None=0]="None",e[e.AddNewRule=1]="AddNewRule",e}({})),Y=(e("ObstacleType",function(e){return e[e.Ad=1]="Ad",e[e.Lock=2]="Lock",e[e.Wood=3]="Wood",e}({})),e("ObjectiveType",function(e){return e[e.MergePieces=0]="MergePieces",e[e.DestroyWood=1]="DestroyWood",e}({}))),q=e("ObjectiveData",(p=J("ObjectiveData"),f=V({type:a(Y)}),b=V({type:Number}),p((h=t((d=function(){n(this,"type",h,this),n(this,"amount",A,this)}).prototype,"type",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.MergePieces}}),A=t(d.prototype,"amount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=d))||y)),H=e("PieceColor",function(e){return e[e.Red=1]="Red",e[e.Blue=2]="Blue",e[e.Green=3]="Green",e[e.Purple=4]="Purple",e[e.Orange=5]="Orange",e[e.Black=6]="Black",e}({})),Q=e("RuleExpiritionType",function(e){return e[e.Never=0]="Never",e[e.AfterNumberOfMatchedPieces=1]="AfterNumberOfMatchedPieces",e[e.AfterNumberOfOptionTrays=2]="AfterNumberOfOptionTrays",e[e.AfterTheObjectiveReacherPercentage=3]="AfterTheObjectiveReacherPercentage",e[e.AfterSpecificObjectiveIsCompleted=4]="AfterSpecificObjectiveIsCompleted",e}({})),U=e("LevelRuleSet",(v=J("LevelRuleSet"),g=V({type:a(Q)}),m=V({type:Number}),w=V({type:[a(H)]}),R=V({type:c}),O=V({type:c}),v((P=t((T=function(){n(this,"type",P,this),n(this,"ruleValue",z,this),n(this,"colorsAllowed",L,this),n(this,"colorCombinationsAllowed",j,this),n(this,"stackAmountAllowed",S,this)}).prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.Never}}),z=t(T.prototype,"ruleValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(T.prototype,"colorsAllowed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[H.Red]}}),j=t(T.prototype,"colorCombinationsAllowed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(1,1)}}),S=t(T.prototype,"stackAmountAllowed",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(3,5)}}),N=T))||N));e("LevelAsset",(k=s.createAssetMenu("level-0001","LevelEditor/LevelAsset"),D=s.scriptable("LevelAsset"),M=V({multiline:!0}),C=V({type:[q]}),B=V({type:[U]}),E=V({type:a(G)}),k(W=D((_=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"gridSavedAsJson",x,o(t)),n(t,"objectives",F,o(t)),n(t,"optionTrayRules",I,o(t)),t}return r(t,e),i(t,[{key:"Action",get:function(){return G.None},set:function(e){switch(e){case G.AddNewRule:var t=new U;if(this.optionTrayRules.length>0)t=this.optionTrayRules[this.optionTrayRules.length-1];this.optionTrayRules.push(t),console.log("New rule added")}this.saveAsset()}}]),t}(s.ScriptableAsset),x=t(_.prototype,"gridSavedAsJson",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=t(_.prototype,"objectives",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new q]}}),I=t(_.prototype,"optionTrayRules",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(_.prototype,"Action",[E],Object.getOwnPropertyDescriptor(_.prototype,"Action"),_.prototype),W=_))||W)||W));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./ObjectivesController.ts","./OptionsTray.ts","./ObstaclesController.ts","./LevelAsset.ts","./TurnController.ts","./ComboController.ts","./HexGridController.ts","./CameraController.ts","./UI_GameplayHUD.ts","./BoostersController.ts","./Action.ts","./Singleton.ts"],(function(e){var t,n,o,r,i,l,s,a,c,u,d,p,v,b,h,f,y,C,L,m,g,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,s=e.Component},null,function(e){a=e.ObjectivesController},function(e){c=e.OptionsTray},function(e){u=e.ObstaclesController},function(e){d=e.LevelAsset,p=e.LevelRuleSet,v=e.RuleExpiritionType,b=e.ObjectiveType},function(e){h=e.TurnController},function(e){f=e.ComboController},function(e){y=e.HexGridController},function(e){C=e.CameraController},function(e){L=e.UI_GameplayHUD},function(e){m=e.BoostersController},function(e){g=e.Action},function(e){O=e.Singleton}],execute:function(){var R,j,S,T,A,P,w,I,M,N,z,U,k,G,x,B,D,_,E,V,H,F,q;i._RF.push({},"779e3e9blVLa6hCrN8DoTgR","LevelController",void 0);var J=l.ccclass,K=l.property;e("LevelController",(R=J("LevelController"),j=K({type:d}),S=K({type:p}),T=K(),A=K({type:[p]}),P=K({type:a,group:"Components"}),w=K({type:u,group:"Components"}),I=K({type:m,group:"Components"}),M=K({type:c,group:"Components"}),N=K({type:h,group:"Components"}),z=K({type:f,group:"Components"}),R((G=t((k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"currentLevelAsset",G,r(t)),o(t,"currentRuleSet",x,r(t)),o(t,"currentRuleId",B,r(t)),o(t,"loadedRules",D,r(t)),o(t,"objectivesControl",_,r(t)),o(t,"obstaclesControl",E,r(t)),o(t,"boostersControl",V,r(t)),o(t,"optionsTray",H,r(t)),o(t,"turnControl",F,r(t)),o(t,"comboControl",q,r(t)),t.onLevelLoaded=new g,t.onLevelStarted=new g,t.onNewOptiontrayGeneratedLambda=void 0,t.onMergedPiecesAmountUpdateLambda=void 0,t.onMergedPiecesPercentUpdateLambda=void 0,t.onSpecificObjetiveCompletedLambda=void 0,t.onTrayEmptiedLambda=void 0,t}n(t,e);var i=t.prototype;return i.initialize=function(){O.set(this),this.setEvents(),this.boostersControl.initialize()},i.loadLevel=function(e,t){var n;console.log("--- LevelController.loadLevel ["+t+"]"),this.currentLevelAsset=e,this.loadedRules=this.currentLevelAsset.optionTrayRules,this.objectivesControl.setLevelData(this.currentLevelAsset.objectives),this.obstaclesControl.initialize(),this.obstaclesControl.setLevelData(this.objectivesControl),this.boostersControl.setLevelData(),null==(n=this.onLevelLoaded)||n.invoke(t)},i.startLevelInstant=function(){console.log("LevelController.startLevelInstant()"),this.currentRuleId=0,this.updateRuleSet(),this.comboControl.startLevel(),this.optionsTray.startLevelInstant(),this.optionsTray.generateNewOptionsTray()},i.startLevel=function(e){var t;console.log("LevelController.startLevel()"),this.currentRuleId=0,this.updateRuleSet(),this.optionsTray.startLevel(),this.optionsTray.generateNewOptionsTray(),null==(t=this.onLevelStarted)||t.invoke(e)},i.postLevelIntro=function(e){var t;console.log("GameplayController.startLevel()"),this.optionsTray.postLevelIntro(),null==(t=this.onLevelStarted)||t.invoke(e)},i.setEvents=function(){var e=this;this.onNewOptiontrayGeneratedLambda=function(t){e.handleOnNewOptiontrayGenerated(t)},this.onMergedPiecesAmountUpdateLambda=function(t){e.handleOnMergedPiecesAmountUpdate(t)},this.onMergedPiecesPercentUpdateLambda=function(t){e.handleOnObjectivesPercentUpdate(t)},this.onSpecificObjetiveCompletedLambda=function(t){e.handleOnObjectivesCompleted(t)},this.onTrayEmptiedLambda=function(){e.nextRound()},this.optionsTray.initializeTray(),this.optionsTray.onTrayEmptied.addListener(this.onTrayEmptiedLambda)},i.getLocks=function(){return this.obstaclesControl.getLocks()},i.getObjectives=function(){return this.objectivesControl.trackedObjectives},i.endLevel=function(){this.obstaclesControl.endLevel(),this.comboControl.endLevel(),this.turnControl.endLevel(),O.get(y).endLevel(),O.get(C).endLevel(),O.get(L).endLevel(),this.optionsTray.endLevel()},i.nextRound=function(){this.optionsTray.generateNewOptionsTray()},i.nextRuleSet=function(){this.endCurrentRuleSet(),this.currentRuleId++,this.updateRuleSet()},i.updateRuleSet=function(){if(this.currentRuleSet=this.currentLevelAsset.optionTrayRules[this.currentRuleId],this.optionsTray.updateRuleSet(this.currentRuleSet),this.currentRuleSet.type==v.AfterNumberOfOptionTrays)this.optionsTray.onNewTrayGenerated.addListener(this.onNewOptiontrayGeneratedLambda);else if(this.currentRuleSet.type==v.AfterNumberOfMatchedPieces){var e=this.objectivesControl.getIdByObjective(b.MergePieces);this.objectivesControl.trackedObjectives[e].onAmountChanged.addListener(this.onMergedPiecesAmountUpdateLambda)}else if(this.currentRuleSet.type==v.AfterTheObjectiveReacherPercentage){var t=this.objectivesControl.getIdByObjective(b.MergePieces);this.objectivesControl.trackedObjectives[t].onPercentChanged.addListener(this.onMergedPiecesPercentUpdateLambda)}else if(this.currentRuleSet.type==v.AfterSpecificObjectiveIsCompleted){var n=this.currentLevelAsset.objectives[this.currentRuleSet.ruleValue-1].type,o=this.objectivesControl.getIdByObjective(n);this.objectivesControl.trackedObjectives[o].onObjectiveCompleted.addListener(this.onSpecificObjetiveCompletedLambda)}},i.endCurrentRuleSet=function(){if(this.currentRuleSet.type==v.AfterNumberOfOptionTrays)this.optionsTray.onNewTrayGenerated.removeListener(this.onNewOptiontrayGeneratedLambda);else if(this.currentRuleSet.type==v.AfterNumberOfMatchedPieces){var e=this.objectivesControl.getIdByObjective(b.MergePieces);this.objectivesControl.trackedObjectives[e].onAmountChanged.removeListener(this.onMergedPiecesAmountUpdateLambda)}else if(this.currentRuleSet.type==v.AfterTheObjectiveReacherPercentage){var t=this.objectivesControl.getIdByObjective(b.MergePieces);this.objectivesControl.trackedObjectives[t].onPercentChanged.removeListener(this.onMergedPiecesPercentUpdateLambda)}else if(this.currentRuleSet.type==v.AfterSpecificObjectiveIsCompleted){var n=this.currentLevelAsset.objectives[this.currentRuleSet.ruleValue-1].type,o=this.objectivesControl.getIdByObjective(n);this.objectivesControl.trackedObjectives[o].onObjectiveCompleted.removeListener(this.onSpecificObjetiveCompletedLambda)}},i.handleOnNewOptiontrayGenerated=function(e){this.currentRuleSet.type==v.AfterNumberOfOptionTrays&&e>this.currentRuleSet.ruleValue&&this.nextRuleSet()},i.handleOnMergedPiecesAmountUpdate=function(e){e>=this.currentRuleSet.ruleValue&&this.nextRuleSet()},i.handleOnObjectivesPercentUpdate=function(e){100*e>=this.currentRuleSet.ruleValue&&this.nextRuleSet()},i.handleOnObjectivesCompleted=function(e){e==this.currentRuleSet.ruleValue&&this.nextRuleSet()},i.cheat_RefreshTray=function(){this.optionsTray.cheat_RefreshTray()},t}(s)).prototype,"currentLevelAsset",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(k.prototype,"currentRuleSet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"currentRuleId",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(k.prototype,"loadedRules",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(k.prototype,"objectivesControl",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(k.prototype,"obstaclesControl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(k.prototype,"boostersControl",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"optionsTray",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"turnControl",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(k.prototype,"comboControl",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=k))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelEditorController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./EditorRulesController.ts","./index2.ts","./HexSlot.ts","./EditorStackController.ts","./HexGridController.ts","./EditorObjectivesController.ts","./GameplayController.ts","./UI_GameplayHUD.ts","./WoodObstacleSlot.ts","./CameraController.ts","./EditorPreviewTray.ts","./Singleton.ts","./RaycastUtils.ts"],(function(e){var t,r,i,o,l,n,s,a,u,c,v,d,p,h,f,g,C,m,y,b,L,E,A,T,G,R,w,S,k,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){n=e.cclegacy,s=e._decorator,a=e.Node,u=e.Camera,c=e.math,v=e.input,d=e.Input,p=e.KeyCode,h=e.EventMouse,f=e.Layers,g=e.Component},function(e){C=e.LevelAsset,m=e.ObstacleType},function(e){y=e.EditorRulesController},null,function(e){b=e.HexSlot},function(e){L=e.EditorStackController},function(e){E=e.HexGridController},function(e){A=e.EditorObjectivesController},function(e){T=e.GameplayController},function(e){G=e.UI_GameplayHUD},function(e){R=e.WoodObstacleSlot},function(e){w=e.CameraController},function(e){S=e.EditorPreviewTray},function(e){k=e.Singleton},function(e){x=e.RaycastUtils}],execute:function(){var z,_,D,O,U,j,M,P,B,H,N,I,W,V,F,K,J,X,Y,Z,q,Q,$,ee,te,re,ie,oe,le,ne,se;n._RF.push({},"010e1uVH+NGaaJWBZCUd+XU","LevelEditorController",void 0);var ae=s.ccclass,ue=s.property;e("LevelEditorController",(z=ae("LevelEditorController"),_=ue({type:Boolean,group:"Debug"}),D=ue(),O=ue(),U=ue({type:C,visible:function(){return this.overrideLevel}}),j=ue({type:[C],group:"Runtime"}),M=ue({type:C,group:"Runtime"}),P=ue({type:a,group:{name:"Components"}}),B=ue({type:y,group:{name:"Components"}}),H=ue({type:L,group:{name:"Components"}}),N=ue({type:A,group:{name:"Components"}}),I=ue({type:S,group:{name:"Components"}}),W=ue({type:u,group:"Runtime"}),V=ue({type:E,group:"Runtime"}),F=ue({type:a,group:"Runtime"}),z((X=t((J=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,i(t,"isEditingMode",X,o(t)),i(t,"currentLevel",Y,o(t)),i(t,"overrideLevel",Z,o(t)),i(t,"level",q,o(t)),i(t,"loadedLevels",Q,o(t)),i(t,"currentLevelAsset",$,o(t)),i(t,"gameplayController",ee,o(t)),i(t,"rulesController",te,o(t)),i(t,"stackController",re,o(t)),i(t,"objectivesController",ie,o(t)),i(t,"previewTray",oe,o(t)),i(t,"camera",le,o(t)),i(t,"hexGridController",ne,o(t)),i(t,"uiParent",se,o(t)),t}r(t,e);var n=t.prototype;return n.onLoad=function(){k.set(this)},n.start=function(){if(this.findComponents(),this.overrideLevel?this.currentLevelAsset=this.level:(this.currentLevel>this.loadedLevels.length&&console.error("Current Level ["+this.currentLevel+"] is greater than level count ["+this.loadedLevels.length+"], make sure to add all levels to the list"),this.currentLevel=c.clamp(this.currentLevel,1,this.loadedLevels.length),this.currentLevelAsset=this.loadedLevels[this.currentLevel-1]),!this.isEditingMode)return this.isEditingMode=!1,void(this.start_level=!0);k.get(T).currentLevelAsset=this.currentLevelAsset,this.uiParent.active=!1,this.hexGridController.setLevelAsset(this.currentLevelAsset),this.hexGridController.loadGridData(!0),this.refreshGridVisuals(),this.objectivesController.initialize(this.currentLevelAsset.objectives),this.rulesController.initialize(this.currentLevelAsset.optionTrayRules),this.stackController.initialize(this.currentLevelAsset),v.on(d.EventType.MOUSE_DOWN,this.mouseClick,this),v.on(d.EventType.KEY_DOWN,this.onKeyDown,this)},n.onKeyDown=function(e){this.isEditingMode&&e.keyCode===p.SPACE&&(this.isEditingMode=!1,this.start_level=!0)},n.findComponents=function(){this.camera||(this.camera=k.get(w).getCamera()),this.hexGridController=k.get(E),this.uiParent=k.get(G).node.parent,this.loadedLevels=k.get(T).loadedLevels},n.saveLevelConfigs=function(e){void 0===e&&(e=!1),this.currentLevelAsset&&(console.log("<SAVE> LevelEditorController.saveLevelConfigs()"),e&&k.get(E).saveGridData(),this.currentLevelAsset.saveAsset(),this.refreshGridVisuals())},n.refreshGridVisuals=function(){for(var e=0;e<this.hexGridController.gridHeight;e++)for(var t=0;t<this.hexGridController.gridWidth;t++){var r=this.hexGridController.grid[e][t];if(r.data.isActiveSlot)if(null!==r.data)if(r.data.piecesStack.length>0)if(!r.data.piecesStack[0].isColor&&r.data.piecesStack[0].obstacleType==m.Wood)r.getComponent(R).editor_RefreshVisual(r.data.piecesStack[0].amount)}},n.updateRuleset=function(e){void 0===e&&(e=[]),this.currentLevelAsset.optionTrayRules=e,this.saveLevelConfigs()},n.updateObjectives=function(e){this.currentLevelAsset.objectives=e,this.saveLevelConfigs()},n.getListOfObjectives=function(){for(var e=[],t=0;t<this.currentLevelAsset.objectives.length;t++)e.push(this.currentLevelAsset.objectives[t].type);return e},n.mouseClick=function(e){if(this.isEditingMode)if(e.getButton()===h.BUTTON_LEFT){console.log("LevelEditorController.mouseClick(BUTTON_LEFT)");var t=this.performRaycastExternal(e);if(null!==t){if(t.getData().piecesStack.length>0)return;t.setSlotActive(!t.data.isActiveSlot),this.saveLevelConfigs(!0)}}else if(e.getButton()===h.BUTTON_RIGHT){console.log("LevelEditorController.mouseClick(BUTTON_RIGHT)");var r=this.performRaycastExternal(e);null!==r?(this.hexGridController.debug_DeselectAll=!0,this.stackController.selectSlot(r)):this.hexGridController.debug_DeselectAll=!0}else if(e.getButton()===h.BUTTON_MIDDLE){var i=this.performRaycastExternal(e);null!==i&&(i.debug_RandomizePieces=!0)}},n.performRaycastExternal=function(e){if(this.camera){var t={result:null},r=f.Enum.ALL;return x.mousePositionRaycast3D(e,this.camera,t,500,r)&&t.result?t.result.collider.node.parent.getComponent(b):null}console.error("Camera is not assigned.")},l(t,[{key:"start_level",get:function(){return!1},set:function(e){this.rulesController.node.active=!1,this.stackController.node.active=!1,this.previewTray.node.active=!1,this.objectivesController.node.active=!1,this.isEditingMode||(k.get(T).loadedLevels[this.currentLevel-1]=this.level,this.gameplayController.active=!0),this.uiParent.active=!0}}]),t}(g)).prototype,"isEditingMode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=t(J.prototype,"currentLevel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=t(J.prototype,"overrideLevel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=t(J.prototype,"level",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(J.prototype,"loadedLevels",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(J.prototype,"currentLevelAsset",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(J.prototype,"gameplayController",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(J.prototype,"rulesController",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(J.prototype,"stackController",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(J.prototype,"objectivesController",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(J.prototype,"previewTray",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(J.prototype,"camera",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(J.prototype,"hexGridController",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(J.prototype,"uiParent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=J))||K));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingSceneController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Wait.ts"],(function(e){var n,t,r,o,i,a,c,l,u,s,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,u=e.director,s=e.Component},null,function(e){p=e.Wait}],execute:function(){var d,f,y,g,h;c._RF.push({},"6fb73zioqFOZrF/jEyDS0a4","LoadingSceneController",void 0);var m=l.ccclass,v=l.property;e("LoadingSceneController",(d=m("LoadingSceneController"),f=v({type:Number}),d((h=n((g=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(n,"count",h,o(n)),n}t(n,e);var c=n.prototype;return c.onLoad=function(){u.resume(),this.loadGame()},c.loadGame=function(){var e=i(a().mark((function e(){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.count++,e.next=3,p.seconds(.25);case 3:u.loadScene("gameplay",(function(){console.log("loading -> gameplay scene loaded! "+n.count)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n}(s)).prototype,"count",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=g))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationExtensions.ts",["cc"],(function(o){var e,n,a,l;return{setters:[function(o){e=o.cclegacy,n=o._decorator,a=o.assetManager,l=o.JsonAsset}],execute:function(){var t,d;e._RF.push({},"e8a0dW9iulH17or5AxbdUPh","LocalizationExtensions",void 0);var s=n.ccclass;n.property,o("LanguageFunctionType",function(o){return o[o.None=0]="None",o[o.Save=1]="Save",o[o.Load=2]="Load",o[o.CreateNewRandomKey=3]="CreateNewRandomKey",o}({})),o("LocalizationExtensions",s("LocalizationExtensions")(((d=function(){function o(){}return o.getLanguageJson=function(e,n){if(void 0===n&&(n="en"),null!==o.loadedLanguage)return console.log("Already Loaded stuff:",o.loadedLanguage),void(e&&e());var t="resources";a.loadBundle(t,(function(a,d){a?console.error("Failed to load bundle:",a):(console.log("Bundle loaded successfully:",t),d.load("language",l,(function(a,l){if(a)console.error("Failed to load JSON file:",a);else{var t=l.json;o.loadedJson=l,o.loadedLanguage=t[n],console.log("Loaded language data:",t),e&&e()}})))}))},o.localizeText=function(e){if(console.log("LocalizationExtensions.localizeText() key "+e),null===o.loadedLanguage)return o.getLanguageJson((function(){return o.localizeText(e)})),"TNF "+e;var n="TNF "+e;return o.loadedLanguage&&o.loadedLanguage[e]&&(n=o.loadedLanguage[e]),console.log("LocalizationExtensions.localizeText() text content: "+n),n},o.editorSaveToLanguageJson=function(e,n,a){void 0===a&&(a="en"),o.getLanguageJson((function(){var l=o.loadedJson.json,t=l[a];t[e]=n,console.log("<color=cyan>File language.json was updated</color>: <color=white>["+e+"]: "+t[e]+"</color>"),o.loadedJson.json=l}),a)},o}()).loadedJson=null,d.loadedLanguage=null,t=d))||t);e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./LocalizationExtensions.ts"],(function(e){var t,o,n,a,i,r,c,l,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,c=e._decorator,l=e.Enum,s=e.Label},null,function(e){u=e.LanguageFunctionType,p=e.LocalizationExtensions}],execute:function(){var g,y,d,L,f,h;r._RF.push({},"9d0eamA2tdEYoRyhY5Gyo6x","LocalizedLabel",void 0);var b=c.ccclass,z=c.property;e("LocalizedLabel",(g=b("LocalizedLabel"),y=z({group:"Localization",tooltip:"The key to use for localization"}),d=z({type:l(u),group:"Localization",tooltip:"Localization and language functions"}),g((h=t((f=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"key",h,a(t)),t}o(t,e);var r=t.prototype;return r.onEnable=function(){var t=this;e.prototype.onEnable.call(this),p.getLanguageJson((function(){t.updateText()}))},r.updateText=function(){this.string=p.localizeText(this.key)},r.setKey=function(e){this.key=e,this.updateText()},i(t,[{key:"runLanguageFunction",get:function(){return u.None},set:function(e){switch(e){case u.Save:p.editorSaveToLanguageJson(this.key,this.string),console.log("Saved text!");break;case u.Load:this.updateText(),console.log("Load text!");break;case u.CreateNewRandomKey:console.log("Random Key Created!")}}}]),t}(s)).prototype,"key",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(f.prototype,"runLanguageFunction",[d],Object.getOwnPropertyDescriptor(f.prototype,"runLanguageFunction"),f.prototype),L=f))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedRichText.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./LocalizationExtensions.ts"],(function(e){var t,o,n,i,a,r,c,s,u,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,c=e._decorator,s=e.Enum,u=e.RichText},null,function(e){l=e.LanguageFunctionType,p=e.LocalizationExtensions}],execute:function(){var g,y,h,d,f,L;r._RF.push({},"2cb59hISJtPCYbmFKDID13+","LocalizedRichText",void 0);var x=c.ccclass,z=c.property;e("LocalizedRichText",(g=x("LocalizedRichText"),y=z({group:"Localization",tooltip:"The key to use for localization"}),h=z({type:s(l),group:"Localization",tooltip:"Localization and language functions"}),g((L=t((f=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"key",L,i(t)),t}o(t,e);var r=t.prototype;return r.onEnable=function(){var t=this;e.prototype.onEnable.call(this),p.getLanguageJson((function(){t.updateText()}))},r.updateText=function(){this.string=p.localizeText(this.key)},r.setKey=function(e){this.key=e,this.updateText()},a(t,[{key:"runLanguageFunction",get:function(){return l.None},set:function(e){switch(e){case l.Save:p.editorSaveToLanguageJson(this.key,this.string),console.log("Saved text!");break;case l.Load:this.updateText(),console.log("Load text!");break;case l.CreateNewRandomKey:console.log("Random Key Created!")}}}]),t}(u)).prototype,"key",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(f.prototype,"runLanguageFunction",[h],Object.getOwnPropertyDescriptor(f.prototype,"runLanguageFunction"),f.prototype),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/LockObstacleSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexSlot.ts","./index2.ts","./Action.ts"],(function(t){var e,n,o,r,i,u,a,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,a=t.Component},function(t){l=t.HexSlot},null,function(t){c=t.Action}],execute:function(){var s,m,p,A,g,f,h,b,d,y,S;i._RF.push({},"6203ajoAVpOw5Xt+Z+JKYUN","LockObstacleSlot",void 0);var x=u.ccclass,v=u.property;t("LockObstacleSlot",(s=x("LockObstacleSlot"),m=v(),p=v(),A=v(),g=v({type:l}),s((b=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,o(e,"currentAmount",b,r(e)),o(e,"mergedAmount",d,r(e)),o(e,"maxAmount",y,r(e)),o(e,"targetSlot",S,r(e)),e.onCurrentAmountUpdate=new c,e}n(e,t);var i=e.prototype;return i.initialize=function(t){this.maxAmount=t,this.currentAmount=t,this.mergedAmount=0,this.targetSlot=this.node.getComponent(l)},i.updateCurrentMergedAmount=function(t){this.mergedAmount=t,this.currentAmount=Math.max(0,this.maxAmount-this.mergedAmount),console.log("LockObstacleSlot.updateCurrentMergedAmount: "+t),this.onCurrentAmountUpdate.invoke(this.currentAmount)},e}(a)).prototype,"currentAmount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=e(h.prototype,"mergedAmount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=e(h.prototype,"maxAmount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=e(h.prototype,"targetSlot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/log.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){u=t.slot}],execute:function(){var i;n._RF.push({},"40ca6yOjaJE8J+qRdu62/Jd","log",void 0);t("default",r({menu:"Math/Advanced/Log",title:"Log"})(i=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[u("In",o.ZERO,"vec4","vector")],outputs:[u("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = log("+t+");\n        "},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioController.ts","./SfxPlayer.ts","./CommandSequence.ts","./InvokeEventCommand.ts","./SetActiveCommand.ts","./TweenPositionCommand.ts","./TweenRotationCommand.ts","./TweenScaleCommand.ts","./TweenTransformCommand.ts","./WaitCommand.ts","./AsyncCommand.ts","./Command.ts","./ClassScanner.ts","./CommandDecorator.ts","./EventOnDelay.ts","./EventOnNodeState.ts","./EventOnProgress.ts","./DummyReferenceScript.ts","./Game.ts","./GameStartup.ts","./Tag.ts","./TagController.ts","./index2.ts","./InputKey.ts","./LocalizationExtensions.ts","./LocalizedLabel.ts","./LocalizedRichText.ts","./UI_DynamicTextLocalized.ts","./UI_Metagame.ts","./Polymorphism.ts","./PolymorphismDemo.ts","./ObjectPool.ts","./SimplePool.ts","./GameProgress.ts","./ProgressController.ts","./Singleton.ts","./TweenSequence.ts","./UI_AnimatedNumber.ts","./UI_AudioButton.ts","./UI_FollowWorldComponent.ts","./Action.ts","./ArrayUtils.ts","./CameraUtils.ts","./EventHandlerUtils.ts","./JsonUtils.ts","./MathUtils.ts","./NodeUtils.ts","./RaycastUtils.ts","./VectorUtils.ts","./Wait.ts","./NodeEmpty.ts","./DemoScript.ts","./HexGridController.ts","./HexPiece.ts","./HexSlot.ts","./NeighborController.ts","./OptionsTray.ts","./APIController.ts","./BoostersController.ts","./CameraController.ts","./ComboController.ts","./GameplayController.ts","./LevelController.ts","./MetagameController.ts","./ObjectivesController.ts","./ObstaclesController.ts","./TurnController.ts","./HexVisual.ts","./LockObstacleSlot.ts","./WoodObstacleSlot.ts","./WoodObstacleVisual.ts","./TutorialBoosterHelper.ts","./TutorialController.ts","./TutorialLevel1Helper.ts","./TutorialPathDrawer.ts","./TutorialVisualFader.ts","./BoosterInputModule.ts","./DragDropComponent.ts","./DragInputModule.ts","./InputManager.ts","./RotationInputModule.ts","./LevelAsset.ts","./LevelEditorController.ts","./EditorObjectivesController.ts","./EditorObjectivesDisplay.ts","./EditorColorButton.ts","./EditorColorSelector.ts","./EditorDropdownOption.ts","./EditorExpirationDisplay.ts","./EditorPreviewTray.ts","./EditorRangeSelector.ts","./EditorRuleButton.ts","./EditorRulesController.ts","./EditorSingleRuleDisplay.ts","./SimpleEditorDropdown.ts","./EditorExpirationAmount.ts","./EditorExpirationId.ts","./EditorExpirationPercent.ts","./EditorSingleStack.ts","./EditorSliderControl.ts","./EditorStackColorBlock.ts","./EditorStackController.ts","./EditorStackObstacleBlock.ts","./EditorButtonSequence.ts","./EditorSequenceButton.ts","./EditorRangeEditbox.ts","./ItemType.ts","./UniqueHashGenerator.ts","./CollectMultiplierButton.ts","./SliderMultiplierBox.ts","./UI_MultiplierSlider.ts","./MetagameBalance.ts","./RewardAfterAd.ts","./RewardGifter.ts","./LoadingSceneController.ts","./TrayGenerationUtils.ts","./UI_GameplayHUD.ts","./UI_GenericData.ts","./UI_LayoutCentralizer.ts","./UI_PopupVictoryScreen.ts","./UI_BoostersDisplay.ts","./UI_BoostersPopup.ts","./UI_PopupBoosterAD.ts","./UI_SingleBooster.ts","./UI_IntroObjectiveDisplay.ts","./UI_LevelIntro.ts","./UI_ObjectivesDisplay.ts","./UI_SingleObjective.ts","./UI_LockDisplay.ts","./PopupFader.ts","./UI_GoldDisplay.ts","./UI_SettingsPopup.ts","./UI_StreakBar.ts","./UI_StreakDisplay.ts","./UI_WatchAdPopup.ts","./UI_BonusRoulette.ts","./UI_CollectMultiplierButton.ts","./UI_PopupVictoryScreenBase.ts","./UI_PopupVictoryScreenGemSort.ts","./UI_RouletteMultiplierBox.ts","./UI_SingleCompletedObjective.ts","./UI_VictoryRewardsDisplay.ts","./PokiPlatform.ts","./BundleLoad2.ts","./BundleLoadTest.ts","./eventTestTrigger.ts","./DragModuleTest.ts","./InputManagerTest.ts","./DraggableItem.ts","./DraggableSlot.ts","./DraggableComponent.ts","./FilteredRaycastTest.ts","./LayerCheckerTest.ts","./PlaneIntersectionExample.ts","./RaycastTests.ts","./SelectNode.ts","./SimpleDragTest.ts","./SimpleMouseTest.ts","./SimpleRaycastTest.ts","./UnscaledOpacityTween.ts","./pauseAnimationTester.ts","./NumberAnimator.ts","./tweenMovementTests.ts","./FollowWorldTests.ts","./WorldToUIPosition.ts","./index3.ts","./index4.ts","./register.ts","./base.ts","./context.ts","./boolean.ts","./float.ts","./slider.ts","./vector2.ts","./vector3.ts","./vector4.ts","./absolute.ts","./exponential.ts","./length.ts","./log.ts","./modulo.ts","./negate.ts","./normalize.ts","./posterize.ts","./reciprocal-square.ts","./reciprocal.ts","./add.ts","./divide.ts","./multiply.ts","./power.ts","./square.ts","./substract.ts","./ddx.ts","./ddxy.ts","./ddy.ts","./inverse-lerp.ts","./lerp.ts","./smoothstep.ts","./clamp.ts","./fraction.ts","./max.ts","./min.ts","./one-minus.ts","./random-range.ts","./remap.ts","./saturate.ts","./ceil.ts","./floor.ts","./round.ts","./sign.ts","./step.ts","./truncate.ts","./arccosine.ts","./arcsine.ts","./arctangent.ts","./arctangent2.ts","./cosine.ts","./degrees-to-radians.ts","./hyperbolic-cosine.ts","./hyperbolic-sine.ts","./hyperbolic.ts","./radians-to-degrees.ts","./sine.ts","./tangent.ts","./cross-product.ts","./distance.ts","./dot-product.ts","./fresnel.ts","./projection.ts","./reflection.ts","./rejection.ts","./sphere-mask.ts","./noise-sine-wave.ts","./sawtooth-wave.ts","./square-wave.ts","./triangle-wave.ts","./gradient-noise.ts","./simple-noise.ts","./ellipse.ts","./rectangle.ts","./round-rectangle.ts","./polar-coordinates.ts","./rotate-coordinates.ts","./tilling-and-offset.ts","./index.ts","./combine.ts","./split.ts","./index5.ts","./color.ts","./time.ts","./normal-vector.ts","./position.ts","./uv.ts","./vertex-color.ts","./view-direction.ts","./input-node.ts","./property-node.ts","./cubemap-asset.ts","./sample-cubemap.ts","./sample-texture2d.ts","./texture-asset.ts","./texture2d-asset.ts","./get-local-var.ts","./register-local-var.ts","./all.ts","./and.ts","./any.ts","./branch.ts","./comparison.ts","./is-nan.ts","./not.ts","./or.ts","./MasterNode.ts","./SurfaceMasterNode.ts","./UnlitMasterNode.ts","./SubGraphNode.ts","./SubGraphOutputNode.ts","./PreviewNode.ts","./property.ts","./shadergraph.ts","./slot.ts","./type.ts","./utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MasterNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts","./utils.ts","./property.ts","./context.ts"],(function(e){var r,n,t,o,a,i,c,s,u,p,f,l,h,d,v,m,g;return{setters:[function(e){r=e.inheritsLoose,n=e.createClass,t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e.assetManager,c=e.Material},function(e){s=e.ShaderNode},function(e){u=e.NormalSpace,p=e.PositionSpace,f=e.ViewDirSpace,l=e.ConcretePrecisionType},function(e){h=e.path,d=e.fs,v=e.ensureEnumDefines},function(e){m=e.ShaderPropertyType},function(e){g=e.shaderContext}],execute:function(){a._RF.push({},"1eab7ptCA1KiK+C6tmMVON/","MasterNode",void 0);e("MasterSlotType",function(e){return e[e.Vertex=0]="Vertex",e[e.Fragment=1]="Fragment",e}({}));function y(e,r){if(e.connectSlot){var n=e.connectNode;if(n){if(r.includes(n))return;n.inputs.forEach((function(e){y(e,r)})),r.push(n)}}}e("default",function(e){function a(){for(var r,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(r=e.call.apply(e,[this].concat(t))||this).isMasterNode=!0,r.concretePrecisionType=l.Fixed,r.properties=[],r.data={inputs:[]},r}r(a,e);var s=a.prototype;return s.getConnectNodes=function(e){var r=[];return e.forEach((function(e){y(e,r)})),r.sort((function(e,r){return r.priority-e.priority})),r},s.generatePropertiesCode=function(){var e="\n",r="\n",n="",t=g.properties;t.sort((function(e,r){return r.concretePrecision-e.concretePrecision}));var o=0;return t.forEach((function(t){var a="",i="",c=t.value,s=t.type===m.Color,u=c.x,p=c.y,f=c.z,l=c.w;if(t.type===m.Texture2D)a="sampler2D",i="white";else if(t.type===m.TextureCube)a="samplerCube",i="white";else{var h=t.concretePrecision;1===h?(a="float",i=""+c):2===h?(a="vec2",i="["+u+", "+p+"]"):3===h?(a="vec4",i="["+u+", "+p+", "+f+", 0]"):4===h&&(a="vec4",i="["+u+", "+p+", "+f+",  "+l+"]")}var d=s?", editor: { type: color }":"";t.isTexture()?n+="  uniform "+a+" "+t.name+";\n":(e+="    "+a+" "+t.name+";\n",o++),r+="        "+t.name+": { value: "+i+" "+d+"}\n"})),0===o&&(e+="    vec4 empty_value;\n"),{uniform:e,uniformSampler:n,mtl:r}},s.replaceChunks=function(e){var r=["common"];g.allNodes.forEach((function(e){for(var n=0;n<e.depChunks.length;n++)r.includes(e.depChunks[n])||r.push(e.depChunks[n])}));var n="\n",t="\n";return r.forEach((function(e){var r=h.join(g.shaderTemplatesDir,"chunks/"+e+".chunk"),o=d.readFileSync(r,"utf-8");o?(t+=o+"\n",n+="  #include <shader_graph_"+e+">\n"):console.error("Can not find chunk with path ["+r+"]")})),e=(e=(e=e.replace("{{chunks}}",t)).replace("{{vs_chunks}}",n)).replace("{{fs_chunks}}",n)},s.generateDefines=function(e){var r=[];g.allNodes.forEach((function(e){e.defines.forEach((function(e){r.includes(e)||r.push(e)}))}));var n="";r.forEach((function(e){n+=e+"\n"})),n=v(u,n),n=v(p,n);var t=(n=v(f,n)).split("\n");return t=t.map((function(e){return"  "+e})),n=t.join("\n"),e.replace(/{{defines}}/g,n)},s.generateSlotsCode=function(e){var r=["\n"];return this.getConnectNodes(e).forEach((function(e){e.calcConcretePrecision(),e.generateCode().split("\n").forEach((function(n){n&&(n+=" // "+e.constructor.name,r.push("    "+n))}))})),r.join("\n")},s.generateCodeChunk=function(e){var r=this,n=[];return this.inputs.forEach((function(e){var r=e.data;n[r.codeChunk]||(n[r.codeChunk]=[]),n[r.codeChunk].push(e)})),n.forEach((function(n,t){var o=r.generateSlotsCode(n);e=e.replace("{{code_chunk_"+t+"}}",o)})),e},s.generateCode=function(){var e=d.readFileSync(this.templatePath,"utf-8");e=this.generateCodeChunk(e),e=this.generateDefines(e),e=this.replaceChunks(e),g.properties&&0!==g.properties.length||(e=(e=e.replace(/properties: &props/g,"")).replace(/properties: \*props/g,""));var r=this.generatePropertiesCode();e=(e=(e=e.replace("{{properties}}",r.uniform)).replace("{{properties_sampler}}",r.uniformSampler)).replace("{{properties_mtl}}",r.mtl);var n=["Vertex Position","Vertex Normal","Vertex Tangent","Position"];return this.inputs.forEach((function(r){var t,o="slot_"+r.displayName.replace(/ /g,"_");n.includes(r.displayName)||"Normal"===r.displayName?r.connectSlot&&(t=r.slotValue):t=r.slotValue;var a=new RegExp("{{"+o+" *= *(.*)}}","g");if(void 0===t){var i=a.exec(e);i&&(t=i[1])}e=e.replace(a,t)})),e},s.createMaterial=function(){var e=t(o().mark((function e(r){var n,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.generateCode(),a=new c,"shader-graph-preview.effect",e.next=5,r("shader-graph-preview.effect",n);case 5:return s=e.sent,u=new cc.EffectAsset,Object.assign(u,s),u.onLoaded(),a.initialize({effectAsset:s}),e.next=12,Promise.all(g.properties.map(t(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.type!==m.Texture2D&&r.type!==m.TextureCube){e.next=3;break}return n=r.value.uuid,e.abrupt("return",new Promise((function(e){i.loadAny(n,(function(n,t){if(n)return console.error(n),e(null);a.setProperty(r.name,t),e(null)}))})));case 3:case"end":return e.stop()}}),e)})))));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),n(a,[{key:"templatePath",get:function(){return""}}]),a}(s));a._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtils.ts",["cc"],(function(t){var r,c,e;return{setters:[function(t){r=t.cclegacy,c=t._decorator,e=t.math}],execute:function(){var n;r._RF.push({},"844bdn2wwBPlYSgFyvFq2qK","MathUtils",void 0);var a=c.ccclass;c.property,t("MathUtils",a("MathUtils")(n=function(){function t(){}return t.lerpClamped=function(t,r,c){return e.lerp(t,r,e.clamp01(c))},t}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/max.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){u=t.slot}],execute:function(){var a;n._RF.push({},"6e8a0vJMJZHLaTkO3zIBxfl","max",void 0);t("default",c({menu:"Math/Range/Max",title:"Max"})(a=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[u("A",r.ZERO,"vec4","vector"),u("B",r.ZERO,"vec4","vector")],outputs:[u("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = max("+t+", "+e+");\n        "},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/MetagameBalance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts"],(function(e){var t,r,i,a,n,o,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Enum},function(e){u=e.bh}],execute:function(){var c,s,p,b,f,m,y,d,g,h,B,M,w,z,v,G,S,H,L,N,x;n._RF.push({},"08ac70XuBBLLr/8V2O1FIuS","MetagameBalance",void 0);var C=o.ccclass,T=o.property,_=e("BoosterType",function(e){return e[e.Hammer=0]="Hammer",e[e.Hand=1]="Hand",e[e.Shuffle=2]="Shuffle",e}({})),k=e("BoosterGoldCost",(c=C("BoosterGoldCost"),s=T({type:l(_)}),p=T({type:Number}),c((m=t((f=function(){i(this,"boosterType",m,this),i(this,"cost",y,this)}).prototype,"boosterType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.Hammer}}),y=t(f.prototype,"cost",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),b=f))||b));e("MetagameBalance",(d=u.createAssetMenu("MetagameBalance","Game/MetagameBalance"),g=u.scriptable("MetagameBalance"),h=T({type:Number}),B=T({type:Number}),M=T({type:[k]}),w=T({type:[Number]}),z=T({type:Number}),d(v=g((G=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"baseLevelGold",S,a(t)),i(t,"adGold",H,a(t)),i(t,"boosterCosts",L,a(t)),i(t,"sliderMultipliers",N,a(t)),i(t,"maxStreak",x,a(t)),t}return r(t,e),t}(u.ScriptableAsset),S=t(G.prototype,"baseLevelGold",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),H=t(G.prototype,"adGold",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),L=t(G.prototype,"boosterCosts",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new k]}}),N=t(G.prototype,"sliderMultipliers",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(G.prototype,"maxStreak",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=G))||v)||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/MetagameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./MetagameBalance.ts","./BoostersController.ts","./ItemType.ts","./Action.ts","./Singleton.ts","./ProgressController.ts"],(function(e){var t,o,n,r,l,i,a,u,s,d,g,c,p,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){i=e.cclegacy,a=e._decorator,u=e.Component},null,function(e){s=e.MetagameBalance},function(e){d=e.InventoryItem,g=e.BoostersController},function(e){c=e.ItemType},function(e){p=e.Action},function(e){m=e.Singleton},function(e){h=e.ProgressController}],execute:function(){var G,y,f,b,v,I,C,_,w,P,M,R;i._RF.push({},"8b434NNxl5KYYAC6zk1/ep0","MetagameController",void 0);var D=a.ccclass,T=a.property;e("MetagameController",(G=D("MetagameController"),y=T({type:s,group:"Components"}),f=T({type:d,group:"Components"}),b=T({type:c,group:"Components"}),v=T({group:"Debug"}),I=T({group:"Debug"}),C=T({group:"Debug"}),G((P=t((w=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,n(t,"data",P,r(t)),n(t,"currentGold",M,r(t)),n(t,"goldItem",R,r(t)),t.onGoldChanged=new p,t}o(t,e);var i=t.prototype;return i.onLoad=function(){m.set(this),this.currentGold=this.getGoldItem()},i.getLevelGold=function(){return this.data.baseLevelGold},i.getAdRewardGold=function(){return this.data.adGold},i.getBoosterCost=function(e){return this.data.boosterCosts[e].cost},i.getSliderMultipliers=function(){return this.data.sliderMultipliers},i.getMaxStreak=function(){return 0},i.getCurrentGold=function(){return this.currentGold.amount},i.getGoldItem=function(){var e=h.gameProgress.getItemById(this.goldItem.hashId),t=e[0];return e[1]?t:new d(this.goldItem.hashId,0,this.goldItem.name)},i.giftReward=function(e){if(e)if(e.itemType===this.goldItem)h.Metagame_GainGold(e.amount);else{var t=new d(e.itemType.hashId,e.amount,e.itemType.name);h.gameProgress.addItemToInventory(t),m.get(g).refreshBoosterDisplay()}},i.metagame_GainGold=function(e){var t;this.currentGold.amount+=e,h.gameProgress.addItemToInventory(this.currentGold,!0),null==(t=this.onGoldChanged)||t.invoke(this.currentGold.amount)},i.metagame_SpendGold=function(e){var t;return!(e>this.currentGold.amount)&&(this.currentGold.amount-=e,h.gameProgress.addItemToInventory(this.currentGold,!0),null==(t=this.onGoldChanged)||t.invoke(this.currentGold.amount),!0)},l(t,[{key:"debug_AddGold",get:function(){return!1},set:function(e){console.log("AddGold "),this.metagame_GainGold(200)}},{key:"debug_RemoveGold",get:function(){return!1},set:function(e){console.log("RemoveGold "),this.metagame_SpendGold(200)}},{key:"debug_ResetGold",get:function(){return!1},set:function(e){var t;this.currentGold.amount=0,h.gameProgress.addItemToInventory(this.currentGold,!0),null==(t=this.onGoldChanged)||t.invoke(this.currentGold.amount)}}]),t}(u)).prototype,"data",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(w.prototype,"currentGold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(w.prototype,"goldItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t(w.prototype,"debug_AddGold",[v],Object.getOwnPropertyDescriptor(w.prototype,"debug_AddGold"),w.prototype),t(w.prototype,"debug_RemoveGold",[I],Object.getOwnPropertyDescriptor(w.prototype,"debug_RemoveGold"),w.prototype),t(w.prototype,"debug_ResetGold",[C],Object.getOwnPropertyDescriptor(w.prototype,"debug_ResetGold"),w.prototype),_=w))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/min.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,i,c,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){i=t.register},function(t){c=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;n._RF.push({},"65629wgX7ZFlosarXfPMufw","min",void 0);t("default",i({menu:"Math/Range/Min",title:"Min"})(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))||this).data={inputs:[o("A",r.ZERO,"vec4","vector"),o("B",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var i=n.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = min("+t+", "+e+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/modulo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){u=t.slot}],execute:function(){var i;n._RF.push({},"20807G1bipGRriFOGyGJxbW","modulo",void 0);t("default",r({menu:"Math/Advanced/Modulo",title:"Modulo"})(i=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[u("A",o.ZERO,"vec4","vector"),u("B",o.ZERO,"vec4","vector")],outputs:[u("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = mod("+t+", "+e+");\n        "},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/multiply.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,c,i,r,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){i=t.register},function(t){r=t.ShaderNode},function(t){o=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"eb609R33glDfpL2KytmHUQe","multiply",void 0);t("default",i({menu:"Math/Basic/Multiply",title:"Multiply"})(s=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).concretePrecisionType=o.Max,e.data={inputs:[u("A",c.ZERO,"vec4","vector"),u("B",c.ZERO,"vec4","vector")],outputs:[u("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var i=n.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = "+t+" * "+e+";\n        "},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/negate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"1b741yPEQlEVL911xSY0qGi","negate",void 0);t("default",c({menu:"Math/Advanced/Negate",title:"Negate"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = -"+t+";\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/NeighborController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexSlot.ts"],(function(e){var t,o,r,n,i,l,a,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,a=e._decorator,c=e.MeshRenderer,s=e.Component},function(e){u=e.HexSlot}],execute:function(){var p,f,h,g,v;l._RF.push({},"00372GRf3hAIo0/UDf/Oc7f","NeighborController",void 0);var d=a.ccclass,b=a.property,A=a.executeInEditMode;e("NeighborController",(p=d("NeighborController"),f=b({type:[u]}),p(h=A((v=t((g=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"allActive",v,n(t)),t.topLeft=null,t.top=null,t.topRight=null,t.botLeft=null,t.bot=null,t.botRight=null,t}o(t,e);var l=t.prototype;return l.assignAllNeighborsList=function(e){this.allActive=e},l.getAllContainingStacks=function(){for(var e,t=[],o=i(this.allActive);!(e=o()).done;){var r=e.value;r.getData().piecesStack.length>0&&t.push(r)}return t},l.towerExploded=function(){for(var e,t=i(this.allActive);!(e=t()).done;){e.value.onAdjacentTowerExploded.invoke()}},l.debugNeighbors=function(e){this.allActive.forEach((function(t){if(t){var o=t.getComponentInChildren(c);if(o){var r=o.material.passes[0],n=r.getHandle("albedo");r.setUniform(n,e)}}}))},t}(s)).prototype,"allActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g))||h)||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/NodeEmpty.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.Component}],execute:function(){var c;o._RF.push({},"659d7BXDGRA37l7JbxQTGAu","NodeEmpty",void 0);var u=n.ccclass;n.property,t("NodeEmpty",u("NodeEmpty")(c=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeUtils.ts",["cc"],(function(){var t,e,o,i;return{setters:[function(n){t=n.cclegacy,e=n.Node,o=n.Vec3,i=n.Component}],execute:function(){t._RF.push({},"68bf2ZTUhVCAbkagNMvGu1q","NodeUtils",void 0),e.prototype.move=function(t,e){var i=(new o).set(t.x,t.y,t.z);i.multiplyScalar(e);var n=this.position.clone().add(i);this.setPosition(n)},i.prototype.setActiveFalse=function(){this.node&&(this.node.active=!1)},i.prototype.setActiveTrue=function(){this.node&&(this.node.active=!0)},t._RF.pop()}}}));

System.register("chunks:///_virtual/noise-sine-wave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var n,t,i,o,s,r,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e.Vec4,o=e.Vec2},function(e){s=e.register},function(e){r=e.ShaderNode},function(e){a=e.slot}],execute:function(){var c;t._RF.push({},"fdd3afGjspKIb7t04FDpYVl","noise-sine-wave",void 0);e("default",s({menu:"Math/Wave/NoiseSineWave",title:"NoiseSineWave"})(c=function(e){function t(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(n=e.call.apply(e,[this].concat(s))||this).data={inputs:[a("In",i.ZERO,"vec4","vector"),a("MinMax",o.ZERO,"vec2","vector")],outputs:[a("Out",i.ZERO,"vec4","vector")]},n}n(t,e);var s=t.prototype;return s.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},s.generateCode=function(){var e=this.getInputValue(0),n=this.getInputValue(1);return"\n            float sinIn = sin("+e+");\n            float sinInOffset = sin("+e+" + 1.0);\n            float randomno =  frac(sin((sinIn - sinInOffset) * (12.9898 + 78.233))*43758.5453);\n            float noise = lerp("+n+".x, "+n+".y, randomno);\n            "+this.getOutputVarDefine(0)+" = sinIn + noise;\n        "},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/normal-vector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,r,o,n,i,c,a,u,l,s;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,o=e.Vec3},function(e){n=e.ShaderNode},function(e){i=e.NormalSpace,c=e.ConcretePrecisionType},function(e){a=e.getEnumDefine,u=e.prop,l=e.slot},null,function(e){s=e.register}],execute:function(){var p;r._RF.push({},"f4d52tjGCZK1JsKsZ4QUDNC","normal-vector",void 0);e("default",s({menu:"Input/Geometry/NormalVector",title:"NormalVector"})(p=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).concretePrecisionType=c.Fixed,t.fixedConcretePrecision=3,t.data={props:[u("Space",i.World,"enum",{enum:i})],outputs:[l("Normal",o.ZERO,"vec3","vector")]},t}return t(r,e),r.prototype.generateCode=function(){var e=this.getPropWithName("Space"),t="normal";return e.value===i.Local?t="normal":e.value===i.View?t="viewNormal":e.value===i.World&&(t="worldNormal"),this.defines=[a(i,e.value)],this.getOutputVarDefine(0)+" = "+t+";"},r}(n))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/normalize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,o,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){o=t.register},function(t){i=t.ShaderNode},function(t){c=t.slot}],execute:function(){var u;n._RF.push({},"00775HyBCRKYqjtgTFMEtIo","normalize",void 0);t("default",o({menu:"Math/Advanced/Normalize",title:"Normalize"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).data={inputs:[c("In",r.ZERO,"vec4","vector")],outputs:[c("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = normalize("+t+");\n        "},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/not.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){c=t.slot}],execute:function(){var u;n._RF.push({},"aad29jVDvZJX7eHgVCkzuSx","not",void 0);t("default",o({menu:"Logic/Not",title:"Not"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).concretePrecisionType=i.Max,e.data={inputs:[c("In",!1,"boolean","boolean")],outputs:[c("Out",!1,"boolean","boolean")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = (!"+t+");\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/NumberAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,t,e,a,r,s,o,u,l;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,r=n.createClass},function(n){s=n.cclegacy,o=n._decorator,u=n.tween,l=n.Component}],execute:function(){var c,h,m,p,g;s._RF.push({},"6b24dbttF1ASKoXRDoYULwp","NumberAnimator",void 0);var y=o.ccclass,_=o.property;n("NumberAnimator",(c=y("NumberAnimator"),h=_({type:Number}),c((g=i((p=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=n.call.apply(n,[this].concat(r))||this,e(i,"currentValue",g,a(i)),i._animationTween=null,i._isPlaying=!1,i.onProgress=null,i}t(i,n);var s=i.prototype;return s.start=function(){this.startAnimation(1)},s.startAnimation=function(n,i){var t=this;void 0===n&&(n=1),this._isPlaying||(this._isPlaying=!0,this.currentValue=0,this._animationTween=u({value:0}).to(n,{value:1},{easing:"linear",onUpdate:function(n){t.handleProgress(n.value)}}).to(n,{value:0},{easing:"linear",onUpdate:function(n){t.handleProgress(n.value)}}).union().repeatForever().start())},s.stopAnimation=function(n){void 0===n&&(n=!1),this._isPlaying&&(this._animationTween&&(this._animationTween.stop(),this._animationTween=null),n&&(this.currentValue=0,this.handleProgress(0)),this._isPlaying=!1)},s.pauseAnimation=function(){this._animationTween&&(this._animationTween.pause(),this._isPlaying=!1)},s.resumeAnimation=function(){this._animationTween&&!this._isPlaying&&(this._animationTween.resume(),this._isPlaying=!0)},s.handleProgress=function(n){this.currentValue=n,this.onProgress&&this.onProgress(n)},s.onDestroy=function(){this.stopAnimation()},r(i,[{key:"isPlaying",get:function(){return this._isPlaying}}]),i}(l)).prototype,"currentValue",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=p))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectivesController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./index2.ts","./GameplayController.ts","./ItemType.ts","./UI_Metagame.ts","./UI_SingleObjective.ts","./Singleton.ts","./Action.ts"],(function(e){var t,i,n,r,o,s,c,a,l,u,b,d,v,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.Component},function(e){a=e.ObjectiveData,l=e.ObjectiveType},null,function(e){u=e.GameplayController},function(e){b=e.ItemType},function(e){d=e.UI_Metagame},function(e){v=e.UI_SingleObjective},function(e){p=e.Singleton},function(e){h=e.Action}],execute:function(){var m,j,O,f,g,y,C,A,k,T,w,I,P,z,x,L,S,_,D,B,F,M,U;o._RF.push({},"7928bDu5TxFBor4qqVHxMy7","ObjectivesController",void 0);var q=s.ccclass,E=s.property,G=e("ActiveObjectiveTracker",(m=q("ActiveObjectiveTracker"),j=E({type:a}),m((g=t((f=function(){function e(e){n(this,"loadedObjectives",g,this),n(this,"currentAmount",y,this),n(this,"objetiveId",C,this),n(this,"isCompleted",A,this),this.onAmountChanged=new h,this.onPercentChanged=new h,this.onObjectiveCompleted=new h,this.loadedObjectives=e,this.currentAmount=0}return e.prototype.updateCurrentAmount=function(e){this.isCompleted||(console.log("ActiveObjectiveTracker["+l[this.loadedObjectives.type]+"].updateCurrentAmount ("+e+")"),this.currentAmount=e,this.currentAmount>=this.loadedObjectives.amount&&(console.log("ActiveObjectiveTracker.Completed Objetive "+l[this.loadedObjectives.type]),this.currentAmount=this.loadedObjectives.amount,this.isCompleted=!0),this.onAmountChanged.invoke(this.currentAmount),this.onPercentChanged.invoke(this.currentAmount/this.loadedObjectives.amount),this.isCompleted&&this.onObjectiveCompleted.invoke(this.loadedObjectives.type))},e}()).prototype,"loadedObjectives",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(f.prototype,"currentAmount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=t(f.prototype,"objetiveId",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(f.prototype,"isCompleted",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=f))||O));e("ObjectivesController",(k=q("ObjectivesController"),T=E(),w=E(),I=E({type:[b]}),P=E({type:[a]}),z=E({type:[G]}),x=E({type:[v]}),k((_=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"currentProgress",_,r(t)),n(t,"maxObjetiveCount",D,r(t)),n(t,"objectiveItems",B,r(t)),n(t,"loadedObjectives",F,r(t)),n(t,"trackedObjectives",M,r(t)),n(t,"displayTargets",U,r(t)),t.onSpecificObjetiveCompletedLambda=void 0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){p.set(this)},o.setLevelData=function(e){this.loadedObjectives=e,this.trackedObjectives.clear();for(var t=0;t<e.length;t++)this.trackedObjectives.push(new G(e[t]));this.currentProgress=0,this.maxObjetiveCount=this.trackedObjectives.length,this.setEvents()},o.setEvents=function(){var e=this;this.onSpecificObjetiveCompletedLambda=function(t){e.handleOnObjectiveCompleted(t)};for(var t=0;t<this.trackedObjectives.length;t++)this.trackedObjectives[t].onObjectiveCompleted.addListener(this.onSpecificObjetiveCompletedLambda)},o.setDisplayTargets=function(e){this.displayTargets=e},o.addObjectiveProgress=function(e,t,i){var n=this;console.log("ObjectivesController.addObjectiveProgress("+l[e]+" , "+t+")");var r=this.getIdByObjective(e),o=i,s=t/100,c=this.trackedObjectives[r].currentAmount+t;p.get(d).sendItemTypeToTargetFromWorld(this.objectiveItems[e],s,o,this.displayTargets[r].node.worldPosition,(function(){return n.postAddProgressAnimation(r,c)}))},o.postAddProgressAnimation=function(e,t){this.trackedObjectives[e].updateCurrentAmount(t)},o.getIdByObjective=function(e){for(var t=0;t<this.loadedObjectives.length;t++){if(this.loadedObjectives[t].type===e)return t}return-1},o.handleOnObjectiveCompleted=function(e){var t=e;this.currentProgress++,console.log("ObjectivesController.handleOnObjectiveCompleted "+e+" = "+l[t]+" ["+this.currentProgress+"/"+this.maxObjetiveCount+"]"),this.currentProgress==this.maxObjetiveCount&&p.get(u).levelVictory()},t}(c)).prototype,"currentProgress",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(S.prototype,"maxObjetiveCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(S.prototype,"objectiveItems",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(S.prototype,"loadedObjectives",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(S.prototype,"trackedObjectives",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(S.prototype,"displayTargets",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=S))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.instantiate}],execute:function(){n._RF.push({},"f60bawcN1pBYpA6OoWoUPNh","ObjectPool",void 0);t("ObjectPool",function(){function t(t,e,n,o){this.prefab=void 0,this.parent=void 0,this.pooledObjects=[],this.componentType=void 0,console.log("Component Type:",o),this.prefab=t,this.parent=e,this.componentType=o;for(var i=0;i<n;i++)this.createNew()}var e=t.prototype;return e.spawn=function(){var t=this.pooledObjects.find((function(t){return!t.IsSpawned}));return null!=t?t.spawn():this.createNew().spawn()},e.despawn=function(t){var e=this.pooledObjects.find((function(e){return e.Equals(t)}));if(null==e)throw new Error("Object "+this.prefab.name+" is not a member of the pool");e.despawn()},e.createNew=function(){var t=new i(this.prefab,this.parent,this.componentType);return this.pooledObjects.push(t),t.instancedNode.name=this.prefab.name+" (Pooled "+this.pooledObjects.length+")",t},t}());var i=function(){function t(t,e,n){this.isSpawned=!1,this.defaultParent=void 0,this.instancedNode=void 0,this.instancedComponent=void 0,this.defaultParent=e,this.instancedNode=o(t),this.instancedComponent=this.instancedNode.getComponent(n),this.instancedComponent||console.error("Object "+t.name+" does not have component "+n.name),this.clear()}var n=t.prototype;return n.Equals=function(t){return this.instancedComponent==t},n.spawn=function(){return this.isSpawned=!0,this.instancedNode.active=!0,this.instancedComponent},n.despawn=function(){this.clear()},n.clear=function(){this.instancedNode.active=!1,this.instancedNode.parent=this.defaultParent,this.isSpawned=!1},e(t,[{key:"IsSpawned",get:function(){return this.isSpawned}}]),t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/ObstaclesController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LockObstacleSlot.ts","./HexGridController.ts","./Singleton.ts","./LevelAsset.ts","./ObjectivesController.ts","./WoodObstacleSlot.ts"],(function(e){var t,o,n,i,r,l,s,a,c,d,u,h,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Component},function(e){a=e.LockObstacleSlot},function(e){c=e.HexGridController},function(e){d=e.Singleton},function(e){u=e.ObjectiveType,h=e.ObstacleType},function(e){p=e.ObjectivesController},function(e){b=e.WoodObstacleSlot}],execute:function(){var v,g,f,m,O,y,k,C,L,w,z;r._RF.push({},"e94eerds6ZJ+aE8UM6gcrSZ","ObstaclesController",void 0);var S=l.ccclass,M=l.property;e("ObstaclesController",(v=S("ObstaclesController"),g=M({type:[a]}),f=M({type:[b]}),m=M({type:c,group:"Runtime"}),O=M({type:p,group:"Runtime"}),v((C=t((k=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"locks",C,i(t)),n(t,"woods",L,i(t)),n(t,"hexGrid",w,i(t)),n(t,"objectivesControl",z,i(t)),t.onMergeUpdateLambda=void 0,t.onWoodObstacleRemovedLambda=void 0,t}o(t,e);var r=t.prototype;return r.initialize=function(){console.log("ObstaclesController.initialize()"),this.hexGrid=d.get(c),this.setEvents()},r.setLevelData=function(e){this.objectivesControl=e,this.initializeObstacles();var t=d.get(p),o=t.getIdByObjective(u.MergePieces);t.trackedObjectives[o].onAmountChanged.addListener(this.onMergeUpdateLambda)},r.endLevel=function(){for(var e=0;e<this.woods.length;e++){this.woods[e].destroy()}for(var t=0;t<this.locks.length;t++){this.locks[t].destroy()}this.locks.clear(),this.woods.clear()},r.initializeObstacles=function(){this.locks.clear(),this.woods.clear();for(var e=0;e<this.hexGrid.gridHeight;e++)for(var t=0;t<this.hexGrid.gridWidth;t++){var o=this.hexGrid.grid[e][t];if(o.data.isActiveSlot){var n=o.getTopStack();if(null!=n&&!n.isColor)if(n.obstacleType===h.Lock){var i=o.getComponent(a);i.initialize(n.amount),this.locks.push(i)}else if(n.obstacleType===h.Wood){var r=o.getComponent(b);r.initialize(n.amount),this.woods.push(r)}}}},r.setEvents=function(){var e=this;this.onMergeUpdateLambda=function(t){e.handleOnMergedPiecesAmountUpdate(t)},this.onWoodObstacleRemovedLambda=function(){e.handleOnWoodObstacleRemoved()}},r.handleOnMergedPiecesAmountUpdate=function(e){for(var t=[],o=0;o<this.locks.length;o++){var n=this.locks[o];n.updateCurrentMergedAmount(e),console.log("["+n.node.name+"] LockObstacleSlot.updateCurrentMergedAmount: "+e),0===n.currentAmount&&t.push(n)}console.log("ObstaclesController.handleOnMergedPiecesAmountUpdate() removeList: "+t.length);for(var i=0,r=t;i<r.length;i++){var l=r[i],s=l.targetSlot,a=l;this.locks.remove(l),a.destroy(),s.removeLock()}},r.handleOnWoodObstacleRemoved=function(){},r.getLocks=function(){return this.locks},t}(s)).prototype,"locks",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(k.prototype,"woods",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(k.prototype,"hexGrid",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"objectivesControl",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/one-minus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){i=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;n._RF.push({},"cd61fVd7UJBB6ngXO+30nVS","one-minus",void 0);t("default",c({menu:"Math/Range/OneMinus",title:"OneMinus"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = 1. - "+t+";\n        "},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/OptionsTray.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexSlot.ts","./LevelAsset.ts","./DragDropComponent.ts","./index2.ts","./TrayGenerationUtils.ts","./CameraController.ts","./Action.ts","./Singleton.ts"],(function(t){var e,n,r,o,i,a,s,l,u,c,p,h,f,g,y,m,b,v,d,T,w,C,O,k,P,x,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,r=t.inheritsLoose,o=t.assertThisInitialized,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Vec2,c=t.Prefab,p=t.Node,h=t.Vec3,f=t.math,g=t.tween,y=t.instantiate,m=t.randomRangeInt,b=t.Component},function(t){v=t.PieceStack,d=t.HexSlot},function(t){T=t.LevelRuleSet,w=t.PieceColor},function(t){C=t.DragDropComponent,O=t.DragDropMode},null,function(t){k=t.TrayGenerationUtils},function(t){P=t.CameraController},function(t){x=t.Action},function(t){S=t.Singleton}],execute:function(){var A,R,D,I,z,L,M,N,B,G,_,E,j,q,H,F,U,V,J,K,Z,Q,W,X,Y,$,tt,et,nt,rt,ot,it,at,st,lt,ut,ct,pt,ht,ft,gt,yt,mt;s._RF.push({},"a29787S+uJCfZTj7+SlDqoK","OptionsTray",void 0);var bt=l.ccclass,vt=l.property,dt=(A=bt("SingleStackData"),R=vt(),D=vt({type:[v]}),A((L=e((z=function(t){n(this,"name",L,this),n(this,"stack",M,this),this.stack=t}).prototype,"name",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(z.prototype,"stack",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=z))||I),Tt=(N=bt("TrayData"),B=vt({type:[dt]}),N((E=e((_=function(){function t(){n(this,"stacks",E,this),this.stacks=[]}return t.prototype.addStack=function(t){this.stacks.push(new dt(t))},t}()).prototype,"stacks",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=_))||G);t("OptionsTray",(j=bt("OptionsTray"),q=vt({type:u}),H=vt({type:Number}),F=vt({type:Number}),U=vt({type:Number}),V=vt({type:Number,group:{name:"Runtime"}}),J=vt({type:Number,group:{name:"Runtime"}}),K=vt({type:Tt,group:{name:"Runtime"}}),Z=vt({type:[T]}),Q=vt({type:[d],group:{name:"Runtime"}}),W=vt({type:[C],group:{name:"Runtime"}}),X=vt({type:Boolean,group:{name:"Runtime"}}),Y=vt({type:c,group:{name:"Components"}}),$=vt({type:[p],group:{name:"Components"}}),tt=vt(),j((rt=e((nt=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"zDistanceRange",rt,o(e)),n(e,"animateOutDistance",ot,o(e)),n(e,"animateOutDuration",it,o(e)),n(e,"animateInDuration",at,o(e)),n(e,"traysCount",st,o(e)),n(e,"remainingSlots",lt,o(e)),n(e,"currentTray",ut,o(e)),n(e,"currentRuleset",ct,o(e)),n(e,"hexOptions",pt,o(e)),n(e,"dragOptions",ht,o(e)),n(e,"hasBaseSlots",ft,o(e)),n(e,"slotPrefab",gt,o(e)),n(e,"optionsPositions",yt,o(e)),e.onNewTrayGenerated=new x,e.onTrayEmptied=new x,n(e,"originalTrayPos",mt,o(e)),e.originalTrayPositions=void 0,e}r(e,t);var s=e.prototype;return s.onLoad=function(){console.log("OptionsTray.onLoad")},s.initializeTray=function(){S.set(this),console.log("OptionsTray.initializeTray"),this.generateEmptySlots(),this.originalTrayPos=new h(this.node.worldPosition.x,this.node.worldPosition.y,this.node.worldPosition.z),this.originalTrayPositions=h[0]=[];for(var t=0;t<this.optionsPositions.length;t++)this.originalTrayPositions.push(new h(this.optionsPositions[t].position.x,this.optionsPositions[t].position.y,this.optionsPositions[t].position.z))},s.endLevel=function(){this.hasBaseSlots=!1},s.setLevelData=function(t){var e=f.lerp(this.zDistanceRange.x,this.zDistanceRange.y,t);this.node.position=new h(0,0,e)},s.startLevel=function(){console.log("OptionsTray.startLevel"),this.traysCount=0,this.node.active=!0,this.toggleInteractability(!0)},s.startLevelInstant=function(){console.log("OptionsTray.startLevelInstant"),this.traysCount=0,this.node.active=!0},s.postLevelIntro=function(){this.toggleInteractability(!0)},s.updateRuleSet=function(t){console.log("OptionsTray.updateRuleSet()"),this.currentRuleset=t},s.updateTrayRotation=function(t){this.hexOptions.forEach((function(e){e.visualControl.updatePiecesRotation(t)}))},s.generateNewOptionsTray=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.toggleInteractability(!1),t.next=3,this.animateTrayOut();case 3:return this.traysCount++,this.onNewTrayGenerated.invoke(this.traysCount),this.refreshOptionsTray(),this.updateTrayRotation(S.get(P).getCurrentAngle()),t.next=9,this.animateTrayIn();case 9:this.toggleInteractability(!0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.animateTrayOut=function(){var t=i(a().mark((function t(){var e,n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.animateOutDuration,n=this.animateOutDistance,r=this.optionsPositions.map((function(t){var r=t.position.clone();return r.z+=n,new Promise((function(n){g(t).to(e,{position:r},{easing:"quadIn"}).call((function(){n()})).start()}))})),t.next=5,Promise.all(r);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.animateTrayIn=function(){var t=i(a().mark((function t(){var e,n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.optionsPositions.length)){t.next=9;break}return n=this.optionsPositions[e],r=this.originalTrayPositions[e].clone(),t.next=6,this.animateInObj(n,r,this.animateInDuration/3);case 6:e++,t.next=1;break;case 9:return t.abrupt("return",new Promise((function(t){t()})));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.animateInObj=function(t,e,n){return new Promise((function(r){var o=e;g(t).to(n,{position:o},{easing:"quadOut"}).call((function(){r()})).start()}))},s.shuffleBooster=function(){var t=i(a().mark((function t(){var e,n,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("OptionsTray.shuffleBooster()"),this.toggleInteractability(!1),t.next=4,this.animateTrayOut();case 4:for(e=new Tt,n=0;n<3;n++)r=this.currentTray.stacks[n].stack,o=this.generateDifferentOption(r),e.addStack(o),this.hexOptions[n].setPiecesStack(o),this.hexOptions[n].canMovePieceStack=!0,this.hexOptions[n].setCurrentInteractionMode(O.Drag);return this.currentTray=e,t.next=9,this.animateTrayIn();case 9:this.toggleInteractability(!0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.generateDifferentOption=function(t){var e={result:null},n={result:null},r={result:null};e.result=t.slice(),r.result=Number[0]=[];for(var o=0,i=0;i<t.length;i++)o+=t[i].amount;if(k.generateTotalAmount(this.currentRuleset.stackAmountAllowed,o,n)){var a=k.generateColorCombinationAmount(n.result,this.currentRuleset,t.length);if(-1!=a)if(k.generateColorOptions(a,this.currentRuleset,r)){for(var s=0;s<r.result.length;s++)"["+w[r.result[s]]+"] ";return k.generatePieceStacks(r.result.length,n.result,r.result)}}else{var l=k.generateColorCombinationAmount(o,this.currentRuleset,t.length);if(-1!=l){if(k.generateColorOptions(l,this.currentRuleset,r)){for(var u=0;u<r.result.length;u++)"["+w[r.result[u]]+"] ";return k.generatePieceStacks(r.result.length,o,r.result)}}else{var c=[];if(c.push(t[0].pieceColor),k.generateColorOptions(1,this.currentRuleset,r,c))return k.generatePieceStacks(1,o,r.result)}}return e.result},s.shuffleOptionColors=function(t,e){for(var n=!1,r=[],o=0;o<t.length;o++){console.log("OptionsTray.shuffleOptionColors: "+o+" | oldColor: "+w[t[o].pieceColor]);var i=t[o],a={result:null};a.result=new v,a.result.amount=i.amount,a.result.obstacleType=i.obstacleType,a.result.isColor=i.isColor,a.result.pieceColor=i.pieceColor,this.shuffleStackcolors(i,r,a)&&(n=!0,e.result[o]=a.result,r.push(a.result.pieceColor));for(var s="",l=0;l<r.length;l++){var u=r[l];s+="["+w[u]+"] "}console.log("OptionsTray.shuffleOptionColors: "+o+" | ["+r.length+"] colorsToRemove: "+s)}return n},s.shuffleStackcolors=function(t,e,n){var r=this.currentRuleset.colorsAllowed.slice();r.remove(t.pieceColor);for(var o=0;o<e.length;o++)r.remove(e[o]);return 0!=r.length&&(this.shuffleArray(r),n.result=new v,n.result.isColor=t.isColor,n.result.obstacleType=t.obstacleType,n.result.pieceColor=r[0],n.result.amount=t.amount,!0)},s.shuffleOptionAmount=function(t,e){for(var n=!1,r=0;r<t.length;r++){console.log("OptionsTray.shuffleOptionAmount: "+r+" | oldColor: "+w[t[r].pieceColor]);var o=t[r],i={result:null};i.result=new v,i.result.amount=o.amount,i.result.obstacleType=o.obstacleType,i.result.isColor=o.isColor,i.result.pieceColor=o.pieceColor;this.currentRuleset.stackAmountAllowed.x;var a=this.currentRuleset.stackAmountAllowed.y;1,this.shuffleStackAmount(o,1,a,i)&&(n=!0,e.result[r]=i.result)}return n},s.shuffleStackAmount=function(t,e,n,r){for(var o=[],i=this.currentRuleset.stackAmountAllowed.x;i<=this.currentRuleset.stackAmountAllowed.y;i++)o.push(i);return o.remove(t.amount),0!=o.length&&(this.shuffleArray(o),r.result=new v,r.result.isColor=t.isColor,r.result.obstacleType=t.obstacleType,r.result.pieceColor=t.pieceColor,r.result.amount=o[0],!0)},s.toggleInteractability=function(t){for(var e=0;e<this.hexOptions.length;e++)t?this.hexOptions[e].setCurrentInteractionMode(O.Drag):this.hexOptions[e].setCurrentInteractionMode(O.Disabled)},s.enableInteractability=function(){this.toggleInteractability(!0)},s.disableInteractability=function(){this.toggleInteractability(!1)},s.refreshOptionsTray=function(){this.generateTrayData(),this.remainingSlots=3;for(var t=0;t<this.hexOptions.length;t++)this.hexOptions[t].setPiecesStack(this.currentTray.stacks[t].stack),this.hexOptions[t].canMovePieceStack=!0,this.hexOptions[t].setCurrentInteractionMode(O.Drag)},s.PlaceSlotOnGrid=function(){this.remainingSlots--,0==this.remainingSlots&&this.onTrayEmptied.invoke()},s.generateEmptySlots=function(){if(!this.hasBaseSlots){console.log("OptionsTray.initializeTray"),this.hexOptions=[],this.dragOptions=[];for(var t=0;t<this.optionsPositions.length;t++){var e=y(this.slotPrefab);e.parent=this.optionsPositions[t],e.position=new h(0,0,0),e.getComponent(d).isOptionsTray=!0,this.hexOptions.push(e.getComponent(d)),this.dragOptions.push(e.getComponent(C))}this.hasBaseSlots=!0}},s.generateTrayData=function(){this.currentTray=new Tt;for(var t=0;t<this.hexOptions.length;t++)this.currentTray.addStack(this.generatePiecesStack(this.currentRuleset))},s.generatePiecesStack=function(t){for(var e=[],n=m(t.stackAmountAllowed.x,t.stackAmountAllowed.y+1),r=Math.min(t.colorCombinationsAllowed.x,n,t.colorsAllowed.length),o=Math.min(t.colorCombinationsAllowed.y,n,t.colorsAllowed.length),i=m(r,o+1),a=this.generateColorOptions(i,t.colorsAllowed),s=n,l=i,u=0;u<i;u++){var c=new v;c.pieceColor=a[u];var p=1;if(i!=n)p=m(1,s-l+1+1),u==i-1&&(p=s);c.amount=p,s-=p,l--,e.push(c)}return e},s.generateColorOptions=function(t,e){var n=[];e=this.shuffleArray(e);for(var r=0;r<t;r++)n.push(e[r]);return n},s.shuffleArray=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t},s.debug_PrintPiecesArray=function(t){for(var e="",n=0;n<t.length;n++)e+=w[t[n].pieceColor]+" - "+t[n].amount+" |";return e},s.cheat_RefreshTray=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.animateTrayOut();case 2:return this.refreshOptionsTray(),this.updateTrayRotation(S.get(P).getCurrentAngle()),t.next=6,this.animateTrayIn();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(b)).prototype,"zDistanceRange",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(3,4.5)}}),ot=e(nt.prototype,"animateOutDistance",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),it=e(nt.prototype,"animateOutDuration",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),at=e(nt.prototype,"animateInDuration",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.75}}),st=e(nt.prototype,"traysCount",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lt=e(nt.prototype,"remainingSlots",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ut=e(nt.prototype,"currentTray",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(nt.prototype,"currentRuleset",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(nt.prototype,"hexOptions",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=e(nt.prototype,"dragOptions",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=e(nt.prototype,"hasBaseSlots",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gt=e(nt.prototype,"slotPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(nt.prototype,"optionsPositions",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(nt.prototype,"originalTrayPos",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=nt))||et));s._RF.pop()}}}));

System.register("chunks:///_virtual/or.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){c=t.slot}],execute:function(){var u;n._RF.push({},"a2b3fR0/g9EC7haT+6NqTEL","or",void 0);t("default",o({menu:"Logic/Or",title:"Or"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).concretePrecisionType=i.Max,e.data={inputs:[c("A",!1,"boolean","boolean"),c("B",!1,"boolean","boolean")],outputs:[c("Out",!1,"boolean","boolean")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = ("+t+" || "+e+");\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/pauseAnimationTester.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Wait.ts"],(function(e){var t,n,i,r,a,o,s,u,c,p,l,f,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.UIOpacity,p=e.EventHandler,l=e.director,f=e.game,g=e.Component},null,function(e){m=e.Wait}],execute:function(){var y,h,v,d,b,A,T,k,w;s._RF.push({},"4a346SyK8JMw6uhA+p2/TDO","pauseAnimationTester",void 0);var x=u.ccclass,E=u.property;e("pauseAnimationTester",(y=x("pauseAnimationTester"),h=E({type:c,group:{name:"Runtime"}}),v=E(),d=E({type:[p],displayName:"Events"}),y((T=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"targetOpacity",T,r(t)),i(t,"isAnimating",k,r(t)),i(t,"events",w,r(t)),t}n(t,e);var s=t.prototype;return s.onEnable=function(){l.pause(),console.log("pauseAnimationTester.onEnable()"),this.isAnimating=!0,this.callEvents()},s.update=function(e){if(this.isAnimating){console.log("update is happening");var t=f.deltaTime;this.targetOpacity.opacity-=50*t}},s.callEvents=function(){this.events.forEach((function(e){e.emit([])}))},s.fakeUpdate=function(){var e=a(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.isPaused){e.next=2;break}return e.abrupt("return");case 2:t=0;case 3:if(!(t<50)){e.next=10;break}return console.log("fakeUpdate is happening"),e.next=7,m.seconds(.01);case 7:t++,e.next=3;break;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(g)).prototype,"targetOpacity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(A.prototype,"isAnimating",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=t(A.prototype,"events",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=A))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/PlaneIntersectionExample.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a,l,s,c,u,p,f,h,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.Camera,c=e.input,u=e.Input,p=e.EventMouse,f=e.Vec3,h=e.geometry,m=e.instantiate,d=e.Component}],execute:function(){var y,g,b,v,P,I,w,E,C;i._RF.push({},"338d7JC1A1OE4d0513IM3rf","PlaneIntersectionExample",void 0);var x=a.ccclass,N=a.property;e("PlaneIntersectionExample",(y=x("PlaneIntersectionExample"),g=N({type:l,group:{name:"Components"}}),b=N({type:s,group:{name:"Components"}}),v=N(Number),y((w=t((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"simpleNodePrefab",w,o(t)),r(t,"camera",E,o(t)),r(t,"planeHeight",C,o(t)),t}n(t,e);var i=t.prototype;return i.start=function(){console.log("start() is the last one before update."),c.on(u.EventType.MOUSE_DOWN,this.mouseClick,this)},i.mouseClick=function(e){e.getButton()===p.BUTTON_LEFT&&this.checkIntersction(e)},i.checkIntersction=function(e){var t=new f(0,1,0),n=new f(0,this.planeHeight,0),r=new h.Ray,o=new f(e.getLocationX(),e.getLocationY(),0);this.camera.screenPointToRay(o.x,o.y,r);var i=r.o,a=r.d,l=this.rayPlaneIntersection(i,a,n,t);if(l){console.log("Intersection point:",l);var s=m(this.simpleNodePrefab);s.setPosition(l),this.node.scene.addChild(s)}else console.log("Ray does not intersect the plane.")},i.rayPlaneIntersection=function(e,t,n,r){var o=f.dot(t,r);if(Math.abs(o)<1e-6)return null;var i=f.dot(f.subtract(new f,n,e),r)/o;if(i>=0){var a=new f;return f.scaleAndAdd(a,e,t,i),a}return null},t}(d)).prototype,"simpleNodePrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(I.prototype,"camera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(I.prototype,"planeHeight",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=I))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/PokiPlatform.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.game}],execute:function(){t._RF.push({},"5a510DDQhJLeKan+foOx3ch","PokiPlatform",void 0);var r=window.PokiSDK,a=e("CCPokiSDK",function(){function e(){}return e.rewardBreak=function(){try{var t=n;r.rewardedBreak().then((function(n){t.emit(e.EVENT_REWARD_BREAK_DONE,n)}))}catch(e){console.log(e)}},e.commercialBreak=function(){var t=n;r.commercialBreak().then((function(){t.emit(e.EVENT_COMMERCIAL_BREAK_DONE)}))},e.gameplayStop=function(){r.gameplayStop()},e.gameplayStart=function(){r.gameplayStart()},e.shareableURL=function(t){var a=n;r.shareableURL(t).then((function(t){console.log(t),a.emit(e.EVENT_SHRABLE_URL_READY,t)}))},e.isAdBlocked=function(){return r.isAdBlocked()},e.getURLParam=function(e){return r.getURLParam(e)},e}());a.EVENT_REWARD_BREAK_DONE="prbr",a.EVENT_COMMERCIAL_BREAK_DONE="pcvr",a.EVENT_SHRABLE_URL_READY="psur",t._RF.pop()}}}));

System.register("chunks:///_virtual/polar-coordinates.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,c,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec2},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"db427Xs0q5CMbRASs8quHqY","polar-coordinates",void 0);t("default",r({menu:"Uv/PolarCoordinates",title:"PolarCoordinates"})(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Fixed,e.depChunks=["uv"],e.data={inputs:[u("uv",o.ZERO,"vec2","vector"),u("center",o.ZERO,"vec2","vector"),u("radialScale",0,"float","vector"),u("lengthScale",0,"float","vector")],outputs:[u("Out",o.ZERO,"vec2","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);this.inputs[0].connectSlot||(t="v_uv.xy");var e=this.getInputValue(1),n=this.getInputValue(2),o=this.getInputValue(3);return this.getOutputVarDefine(0)+" = PolarCoordinates("+t+", "+e+", "+n+", "+o+");"},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Polymorphism.ts",["cc"],(function(e){var r,n,t,o;return{setters:[function(e){r=e.cclegacy,n=e.js,t=e.ccenum,o=e._decorator}],execute:function(){e("polymorphism",(function(e){var r=e.types,i=e.displayName,s=e.baseClass;return function(e,u){if("string"!=typeof u)throw new Error("Only string named fields are supported.");var a=r.map((function(e){return"string"==typeof e?n.getClassByName(e):Array.isArray(e)?null:e})).filter((function(e){return e&&"function"==typeof e}));if(a.length){var c=u+"__type",l={get:function(){var e=this[u],r=a.findIndex((function(r){return e.constructor===r}));if(r<0)throw new Error(e+" is not a registered type.");return r},set:function(e){var r=a[e];if(this[u].constructor!==r){var n=new r;this[u]=n}}},f=a.reduce((function(e,r,n){return e[function(e){var r;if(!e)return console.warn("Received undefined class name"),"Unknown";var n=null!=(r=null==s?void 0:s.name)?r:"";return e.replace(n,"").replace(/([A-Z])/g," $1").trim()}(null==r?void 0:r.name)]=n,e}),{});t(f),o.property({displayName:null!=i?i:"Type",type:f})(e,c,l),Object.defineProperty(e,c,l)}else console.warn("No valid types resolved")}})),r._RF.push({},"edea7gkzGRDIrybnBCAOHFw","Polymorphism",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/PolymorphismDemo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Component}],execute:function(){var c,p,s,h,f,y,b,m,w,d,g,A,v,z,C,D,P,j;a._RF.push({},"9eb74BGnaJGaJeqAC5j57Bx","PolymorphismDemo",void 0);var S=l.ccclass,_=l.property,B=function(){},N=S("Circle")((s=r((p=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"radius",s,n(r)),r}return t(r,e),r}(B)).prototype,"radius",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=p))||c,R=(S("Rectangle")((y=r((f=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"width",y,n(r)),i(r,"height",b,n(r)),r}return t(r,e),r}(B)).prototype,"width",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=r(f.prototype,"height",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=f)),S("CustomCollider")((d=r((w=function(){i(this,"shape",d,this)}).prototype,"shape",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),m=w))||m);e("PolymorphismDemo",(g=S("PolymorphismDemo"),A=_({type:R}),v=_({type:[R]}),g((D=r((C=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"shape",D,n(r)),i(r,"customCollider",P,n(r)),i(r,"shapesArray",j,n(r)),r}return t(r,e),o(r,[{key:"AddNewShape",get:function(){return!1},set:function(e){var r=new R;r.shape=new B,this.shapesArray.push(r),console.log("adsajidsjhai")}}]),r}(u)).prototype,"shape",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),P=r(C.prototype,"customCollider",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new R}}),j=r(C.prototype,"shapesArray",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new R]}}),r(C.prototype,"AddNewShape",[_],Object.getOwnPropertyDescriptor(C.prototype,"AddNewShape"),C.prototype),z=C))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupFader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Wait.ts"],(function(t){var e,n,i,r,a,c,o,s,u,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,u=t.UIOpacity,p=t.Component},null,function(t){l=t.Wait}],execute:function(){var h,f,y,d,g,m,b,k,v;o._RF.push({},"b57b8mFhANOp5tL5M9OHwp9","PopupFader",void 0);var F=s.ccclass,O=s.property;t("PopupFader",(h=F("PopupFader"),f=O(),y=O(),d=O({type:u,group:{name:"Runtime"}}),h((b=e((m=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,i(e,"duration",b,r(e)),i(e,"tickFrequency",k,r(e)),i(e,"targetOpacity",v,r(e)),e.tickAmount=1,e.percentage=0,e.increment=0,e.hasSetValues=!1,e}n(e,t);var o=e.prototype;return o.onEnable=function(){this.open()},o.setData=function(){this.hasSetValues||(this.targetOpacity=this.node.getComponent(u),this.tickAmount=Math.ceil(this.duration/this.tickFrequency),this.increment=1/this.tickAmount,this.hasSetValues=!0)},o.open=function(){this.setData(),this.fadeIn(255)},o.close=function(){this.node.active=!1},o.fadeIn=function(){var t=a(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.targetOpacity.opacity=0,this.percentage=0,n=0;case 3:if(!(n<this.tickAmount)){t.next=11;break}return t.next=6,l.seconds(this.tickFrequency);case 6:this.percentage+=this.increment,this.targetOpacity.opacity=e*this.percentage;case 8:n++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(p)).prototype,"duration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=e(m.prototype,"tickFrequency",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),v=e(m.prototype,"targetOpacity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/position.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,o,n,i,r,s,u,c,l,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.Vec3},function(e){i=e.ShaderNode},function(e){r=e.PositionSpace,s=e.ConcretePrecisionType},function(e){u=e.getEnumDefine,c=e.prop,l=e.slot},null,function(e){a=e.register}],execute:function(){var p;o._RF.push({},"c4117F5YClIWKQl+GltCNqQ","position",void 0);e("default",a({menu:"Input/Geometry/Position",title:"Position"})(p=function(e){function o(){for(var t,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(t=e.call.apply(e,[this].concat(i))||this).concretePrecisionType=s.Fixed,t.fixedConcretePrecision=3,t.data={props:[c("Space",r.World,"enum",{enum:r})],outputs:[l("Position",new n,"vec3","vector")]},t}return t(o,e),o.prototype.generateCode=function(){var e=this.getPropWithName("Space"),t="position";return e.value===r.Local?t="position":e.value===r.View?t="viewPos":e.value===r.World&&(t="worldPos"),this.defines=[u(r,e.value)],this.getOutputVarDefine(0)+" = "+t+".xyz;"},o}(i))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/posterize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,o,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){o=t.register},function(t){c=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"83ac4Oj/INHY7tCCfwuaa6d","posterize",void 0);t("default",o({menu:"Math/Advanced/Posterize",title:"Posterize"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).data={inputs:[i("In",r.ZERO,"vec4","vector"),i("Steps",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = floor("+t+" / (1. / "+e+")) * (1. / "+e+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/power.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,r,o,c,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){o=e.register},function(e){c=e.ShaderNode},function(e){i=e.ConcretePrecisionType},function(e){u=e.slot}],execute:function(){var s;n._RF.push({},"94eaaC4omdHcaTHrDX60+tq","power",void 0);e("default",o({menu:"Math/Basic/Power",title:"Power"})(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=i.Fixed,t.data={inputs:[u("A",r.ZERO,"vec4","vector"),u("B",r.ZERO,"vec4","vector")],outputs:[u("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = pow("+e+", "+t+");\n        "},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/PreviewNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts"],(function(e){var t,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.ShaderNode}],execute:function(){n._RF.push({},"f8b0fdliVNBereLRNhLivTf","PreviewNode",void 0);e("default",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.generateCode=function(){return this.getOutputVarDefine(0)+" = "+this.getInputValue(0)+";"},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./GameProgress.ts"],(function(e){var r,t,s,o,a,n;return{setters:[function(e){r=e.createClass},function(e){t=e.cclegacy,s=e.director,o=e.Director,a=e.sys},null,function(e){n=e.GameProgress}],execute:function(){t._RF.push({},"feea3k1EkROS71fhwvMoaiH","ProgressController",void 0);var i=e("ProgressController",function(){function e(){}return e.initialize=function(){console.log(">>> ProgressController: initialized!"),this.gameProgress||(this.gameProgress=this.load()||new n(e.totalLevels),s.on(o.EVENT_AFTER_SCENE_LAUNCH,this.onSceneChanged,this))},e.onSceneChanged=function(){console.log(">>> ProgressController: Scene was changed!")},e.save=function(){this.gameProgress&&(a.localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.gameProgress)),console.log(">>> ProgressController: SAVE!"))},e.load=function(){var r=a.localStorage.getItem(this.STORAGE_KEY);if(console.log(">>> ProgressController: LOAD!"),r){var t=Object.assign(new n(e.totalLevels),JSON.parse(r));return t.initializeActions(),t}return null},e.editor_reset=function(){},e.editor_finishLevelOverride=function(e,r){},e.finishLevel=function(){this.gameProgress.finishLevel(),s.loadScene("loading",(function(){console.log("gameplay scene reloaded!")}))},e.Metagame_IncreaseVictoryStreak=function(){this.gameProgress.metagameData.victoryStreak++,this.gameProgress.onStreakChanged.invoke(this.gameProgress.metagameData.victoryStreak),this.save()},e.Metagame_ResetVictoryStreak=function(){this.gameProgress.metagameData.victoryStreak=0,this.gameProgress.onStreakChanged.invoke(this.gameProgress.metagameData.victoryStreak),this.save()},e.Metagame_GainGold=function(e){this.gameProgress.metagameData.currentGold+=e,this.gameProgress.onGoldChanged.invoke(this.gameProgress.metagameData.currentGold),this.save()},e.Metagame_SpendGold=function(e){return!(e>this.gameProgress.metagameData.currentGold)&&(this.gameProgress.metagameData.currentGold-=e,this.gameProgress.onGoldChanged.invoke(this.gameProgress.metagameData.currentGold),this.save(),!0)},r(e,null,[{key:"currentGold",get:function(){return this.gameProgress?this.gameProgress.metagameData.currentGold:0}},{key:"currentLevel",get:function(){return this.gameProgress?this.gameProgress.reachedLevel:0}},{key:"currentStreak",get:function(){return this.gameProgress?this.gameProgress.metagameData.victoryStreak:0}}]),e}());i.STORAGE_KEY="gameProgress",i.gameProgress=void 0,i.totalLevels=50,s.once(o.EVENT_BEFORE_SCENE_LAUNCH,(function(){i.initialize()})),t._RF.pop()}}}));

System.register("chunks:///_virtual/projection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"76ce8feSIBML7x6UxKZ/iDJ","projection",void 0);t("default",r({menu:"Math/Vector/Projection",title:"Projection"})(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[i("A",o.ZERO,"vec4","vector"),i("B",o.ZERO,"vec4","vector")],outputs:[i("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = "+e+" * dot("+t+", "+e+") / dot("+e+", "+e+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/property-node.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./context.ts","./property.ts","./type.ts","./utils.ts","./register.ts"],(function(e){var t,r,n,o,c,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.ShaderNode},function(e){o=e.shaderContext},function(e){c=e.ShaderPropertyType},function(e){s=e.ConcretePrecisionType},function(e){i=e.slot},function(e){a=e.register}],execute:function(){var u;r._RF.push({},"93194csMENJ+oWCPxFCx+9c","property-node",void 0);e("default",a({style:{headerColor:"#ec7063"}})(u=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).concretePrecisionType=s.Fixed,t.property=null,t.name="",t.data={outputs:[i("Out",{},"any","any")]},t.isPropertyNode=!0,t}t(r,e);var n=r.prototype;return n.calcConcretePrecision=function(){var e=this,t=0;switch(o.properties.find((function(t){return t.name===e.name})).type){case c.Float:case c.Boolean:t=1;break;case c.Vector2:t=2;break;case c.Vector3:t=4;break;case c.Vector4:case c.Color:t=4}this.slots[0]._concretePrecision=t},n.generateCode=function(){return""},r}(n))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/property.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts"],(function(e){var t,u,s,r,o,a,i,c,l,n,h;return{setters:[function(e){t=e.createClass},function(e){u=e.cclegacy,s=e.ValueType,r=e.TextureCube,o=e.Texture2D,a=e.Color,i=e.Vec4,c=e.Vec3,l=e.Vec2},function(e){n=e.slot,h=e.getValueConcretePrecision}],execute:function(){u._RF.push({},"b05a8ea74hDTb7wArT51Kxn","property",void 0);var v=e("ShaderPropertyType",function(e){return e.Float="Float",e.Boolean="Boolean",e.Vector2="Vector2",e.Vector3="Vector3",e.Vector4="Vector4",e.Color="Color",e.Texture2D="Texture2D",e.TextureCube="TextureCube",e}({}));e("ShaderProperty",function(){function e(e){this.details={menu:"",style:{headerColor:"#ec7063"}},this.name="",this.type=v.Float,this.value=0,this.outputs=[],this.type="string"==typeof e?v[e]:e,this.name=v[e],this.details.menu=this.name,this.updateDefaultValue()}var u=e.prototype;return u.setValue=function(e){this.value instanceof s?this.value.set(e):this.type===v.Texture2D||this.type===v.TextureCube?this.value._uuid=e.uuid:this.value=e},u.updateDefaultValue=function(){switch(this.type){case v.Float:this.value=0,this.outputs=[n("Out",this.value,"float","vector")];break;case v.Boolean:this.value=!1,this.outputs=[n("Out",this.value,"boolean","boolean")];break;case v.Vector2:this.value=new l,this.outputs=[n("Out",this.value,"vec2","vector")];break;case v.Vector3:this.value=new c,this.outputs=[n("Out",this.value,"vec3","vector")];break;case v.Vector4:this.value=new i,this.outputs=[n("Out",this.value,"vec4","vector")];break;case v.Color:this.value=new a,this.outputs=[n("Out",this.value,"color","vector")];break;case v.Texture2D:this.value=new o,this.outputs=[n("Out",this.value,"texture2D","texture2D")];break;case v.TextureCube:this.value=new r,this.outputs=[n("Out",this.value,"textureCube","textureCube")]}},u.isTexture=function(){switch(this.type){case v.Texture2D:case v.TextureCube:return!0}return!1},t(e,[{key:"concretePrecision",get:function(){return h(this.value)}}]),e}());u._RF.pop()}}}));

System.register("chunks:///_virtual/radians-to-degrees.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,r,o,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){o=e.register},function(e){s=e.ShaderNode},function(e){i=e.slot}],execute:function(){var c;n._RF.push({},"122290sL5ZBopCyAP2bpg8T","radians-to-degrees",void 0);e("default",o({menu:"Math/Trigonometry/RadiansToDegrees",title:"RadiansToDegrees"})(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = degrees("+e+");\n        "},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/random-range.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,o,r,a,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.Vec2},function(e){r=e.register},function(e){a=e.ShaderNode},function(e){c=e.ConcretePrecisionType},function(e){i=e.slot}],execute:function(){var u;n._RF.push({},"33710RUTT1JXZDzqyhgRRxS","random-range",void 0);e("default",r({menu:"Math/Range/RandomRange",title:"RandomRange"})(u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).concretePrecisionType=c.Fixed,t.depChunks=["range"],t.data={inputs:[i("seed",o.ZERO,"vec2","vector"),i("minv",0,"float","vector"),i("maxv",0,"float","vector")],outputs:[i("Out",0,"float","vector")]},t}t(n,e);var r=n.prototype;return r.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1),n=this.getInputValue(2);return this.getOutputVarDefine(0)+" = RandomRange("+e+", "+t+", "+n+");"},n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/RaycastTests.ts",["cc"],(function(e){var t,n,a,r,s,c;return{setters:[function(e){t=e.cclegacy,n=e._decorator,a=e.geometry,r=e.Vec3,s=e.PhysicsSystem,c=e.Layers}],execute:function(){var o;t._RF.push({},"47e71aRxcVBnbEi1zuSHG+G","RaycastTests",void 0);var u=n.ccclass;n.property,e("RaycastTests",u("RaycastTests")(o=function(){function e(){}return e.screenRaycast3D=function(e,t,n,c,o){var u=new a.Ray,i=new r(e.getLocationX(),e.getLocationY(),0);t.screenPointToRay(i.x,i.y,u);var y=s.instance.raycastClosest(u,o,c);if(console.log("Layer mask: "+o+" | Layer name: "+this.getLayerName(o)),y){var l=s.instance.raycastClosestResult;return n.result=l,!0}return console.log("RaycastClosest: No object detected."),n.result=null,!1},e.rayPlaneIntersection=function(e,t,n,a){var s=r.dot(t,a);if(Math.abs(s)<1e-6)return null;var c=r.dot(r.subtract(new r,n,e),a)/s;if(c>=0){var o=new r;return r.scaleAndAdd(o,e,t,c),o}return null},e.getLayerName=function(e){for(var t in c.Enum)if(c.Enum[t]===e)return t;return"Unknown"},e}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/RaycastUtils.ts",["cc","./DragDropComponent.ts"],(function(t){var n,e,r,a,s,u,o;return{setters:[function(t){n=t.cclegacy,e=t._decorator,r=t.geometry,a=t.Vec3,s=t.PhysicsSystem,u=t.Layers},function(t){o=t.DragDropComponent}],execute:function(){var c;n._RF.push({},"80cc4YjvXlJ8aVCZZiZBFqm","RaycastUtils",void 0);var i=e.ccclass;e.property,t("RaycastUtils",i("RaycastUtils")(c=function(){function t(){}return t.mousePositionRaycast3D=function(t,n,e,s,u){var o=new r.Ray,c=new a(t.getLocationX(),t.getLocationY(),0);return n.screenPointToRay(c.x,c.y,o),this.filteredRaycast3D(o,e,s,u)},t.screenRaycast3D=function(t,n,e,a,s){var u=new r.Ray;return n.screenPointToRay(t.x,t.y,u),this.filteredRaycast3D(u,e,a,s)},t.findDragDropComponent=function(t,n,e,r,a){var s={result:null},u=this.screenRaycast3D(t,n,s,r,a);if(!u)return!1;var c=s.result.collider.node;return!!c&&(e.result=c.getComponent(o),null===e.result&&null!==c.parent&&(e.result=c.parent.getComponent(o)),null!==e&&u)},t.raycast3D=function(t,n,e,r){if(s.instance.raycastClosest(t,r,e,!0)){var a=s.instance.raycastClosestResult;return n.result=a,!0}return n.result=null,!1},t.filteredRaycast3D=function(t,n,e,r){if(s.instance.raycast(t,1<<u.Enum.DEFAULT,e,!0)){for(var o=s.instance.raycastResults,c=[],i=0;i<o.length;i++){var l=o[i].collider;this.getLayerIndices(l.node.layer)[0];l.node.layer!=r&&r!=u.Enum.ALL||(n.result=o[i],c.push(o[i])),n.result=o[i]}if(0==c.length)return n.result=null,!1;if(1==c.length){n.result.collider.node.name,n.result.collider.node.parent.name;return n.result=c[0],!0}return c.sort((function(n,e){return a.distance(t.o,n.hitPoint)-a.distance(t.o,e.hitPoint)})),n.result=c[0],!0}return n.result=null,!1},t.rayPlaneIntersection=function(t,n,e,r){var s=a.dot(n,r);if(Math.abs(s)<1e-6)return null;var u=a.dot(a.subtract(new a,e,t),r)/s;if(u>=0){var o=new a;return a.scaleAndAdd(o,t,n,u),o}return null},t.getLayerName=function(t){for(var n in u.Enum)if(u.Enum[n]===t)return n;return"Unknown"},t.getLayerIndices=function(t){for(var n=[],e=0;e<32;e++)t&1<<e&&n.push(e);return n},t}())||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/reciprocal-square.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,r,n,c,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e.Vec4},function(e){c=e.register},function(e){o=e.ShaderNode},function(e){i=e.slot}],execute:function(){var u;r._RF.push({},"eae1erXirxEXq46sl0FpxV0","reciprocal-square",void 0);e("default",c({menu:"Math/Advanced/ReciprocalSquare",title:"ReciprocalSquare"})(u=function(e){function r(){for(var t,r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))||this).data={inputs:[i("In",n.ZERO,"vec4","vector")],outputs:[i("Out",n.ZERO,"vec4","vector")]},t}t(r,e);var c=r.prototype;return c.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = 1. / ("+e+" * "+e+");\n        "},r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/reciprocal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"5e330r2wGBAfouLL0jpsqul","reciprocal",void 0);t("default",c({menu:"Math/Advanced/Reciprocal",title:"Reciprocal"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = 1. / "+t+";\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/rectangle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,c,r,o,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,c=e.Vec2},function(e){r=e.register},function(e){o=e.ShaderNode},function(e){i=e.ConcretePrecisionType},function(e){u=e.slot}],execute:function(){var a;n._RF.push({},"c5bfexyH39Fw4zoC+a2iqVE","rectangle",void 0);e("default",r({menu:"Procedural/Shape/Rectangle",title:"Rectangle"})(a=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).concretePrecisionType=i.Fixed,t.depChunks=["shape"],t.data={inputs:[u("uv",c.ZERO,"vec2","vector"),u("width",.5,"float","vector")],outputs:[u("Out",0,"float","vector")]},t}t(n,e);var r=n.prototype;return r.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var e=this.getInputValue(0);this.inputs[0].connectSlot||(e="v_uv.xy");var t=this.getInputValue(1);return this.getOutputVarDefine(0)+" = Rectangle("+e+", "+t+");"},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/reflection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"83264s8H2BKlb81PIs6fbLm","reflection",void 0);t("default",c({menu:"Math/Vector/Reflection",title:"Reflection"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[i("In",r.ZERO,"vec4","vector"),i("Normal",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = reflect("+t+", "+e+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/register-local-var.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,r,n,a,i,o,s,c;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy,a=e.Vec4},function(e){i=e.ShaderNode},function(e){o=e.prop,s=e.slot},null,function(e){c=e.register}],execute:function(){var u;n._RF.push({},"b61a9DvFcxESK2/fNFtqY0h","register-local-var",void 0);e("default",c({menu:"Input/Variable/RegisterLocalVar",title:"RegisterLocalVar"})(u=function(e){function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).isRegisterLocalVar=!0,t.data={props:[o("Name","local_var","string",{registerEnumType:"RegisterLocalVarName"})],inputs:[s("In",a.ZERO,"vec4","vector")]},t}return t(n,e),n.prototype.generateCode=function(){return""},r(n,[{key:"name",get:function(){return this.getPropWithName("Name").value},set:function(e){this.getPropWithName("Name").value=e}}]),n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/register.ts",["cc","./property.ts"],(function(e){var t,r,a;return{setters:[function(e){t=e.cclegacy},function(e){r=e.ShaderPropertyType,a=e.ShaderProperty}],execute:function(){e("register",(function(e){return function(t){var s=new t,c=Object.getPrototypeOf(s.constructor).name,i={type:s.type,extend:c,details:e,node:s.data};"PropertyNode"===s.type&&function(e){for(var t in p.clear(),r){var n=r[t];if("string"==typeof n){var o=new a(n);o.type=n,p.set(n,{type:n,declareType:e,name:o.name,outputs:o.outputs,default:o.value,details:o.details})}}}(s.type),o.set(s.type,t),n.set(s.type,i)}})),t._RF.push({},"663baRF6QZFi6zhc8Qt66NF","register",void 0);var n=e("shaderNodeMap",new Map),p=e("shaderPropertyMap",new Map),o=e("shaderNodeClassMap",new Map);t._RF.pop()}}}));

System.register("chunks:///_virtual/rejection.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,c,o,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){o=t.register},function(t){r=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"36176dcQhhIm7tg8pihGhm0","rejection",void 0);t("default",o({menu:"Math/Vector/Rejection",title:"Rejection"})(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).data={inputs:[i("A",c.ZERO,"vec4","vector"),i("B",c.ZERO,"vec4","vector")],outputs:[i("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var o=n.prototype;return o.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = "+t+" - ("+e+" * dot("+t+", "+e+") / dot("+e+", "+e+"))\n        "},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/remap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,c,r,i,o,u,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,c=e.Vec4,r=e.Vec2},function(e){i=e.register},function(e){o=e.ShaderNode},function(e){u=e.ConcretePrecisionType},function(e){a=e.slot}],execute:function(){var s;n._RF.push({},"c8987U3zUlCXZn8OW+mTz8j","remap",void 0);e("default",i({menu:"Math/Range/Remap",title:"Remap"})(s=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).concretePrecisionType=u.Max,t.data={inputs:[a("In",c.ZERO,"vec4","vector"),a("InMinMax",r.ZERO,"vec2","vector"),a("OutMinMax",r.ZERO,"vec2","vector")],outputs:[a("Out",c.ZERO,"vec4","vector")]},t}t(n,e);var i=n.prototype;return i.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var e=this.getInputValue(0),t=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = "+n+".x + ("+e+" - "+t+".x) * ("+n+".y - "+n+".x) / ("+t+".y - "+t+".x);\n        "},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/RewardAfterAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoostersController.ts"],(function(e){var t,r,n,o,i,a,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Button,l=e.Component},function(e){s=e.Reward}],execute:function(){var d,u,p,f,h,w;i._RF.push({},"bdba7+kcT1DhKbc2LSf3dfs","RewardAfterAd",void 0);var R=a.ccclass,y=a.property;e("RewardAfterAd",(d=R("RewardAfterAd"),u=y({type:s}),d(((w=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"thisReward",h,o(t)),t}return r(t,e),t.prototype.selectThisReward=function(){t.selectedReward=this.thisReward,t.buttonClickedToGetTheReward=this.getComponent(c)},t}(l)).selectedReward=null,w.buttonClickedToGetTheReward=null,h=t((f=w).prototype,"thisReward",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/RewardGifter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoostersController.ts","./index2.ts","./MetagameController.ts","./Singleton.ts"],(function(e){var t,r,n,i,o,a,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Component},function(e){c=e.Reward},null,function(e){s=e.MetagameController},function(e){u=e.Singleton}],execute:function(){var f,p,d,g,w,h,R;o._RF.push({},"1d50bcSPABN3Ym6rOVkzK53","RewardGifter",void 0);var b=a.ccclass,y=a.property;e("RewardGifter",(f=b("RewardGifter"),p=y({type:Boolean}),d=y({type:c}),f((h=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"giftOnEnable",h,i(t)),n(t,"thisReward",R,i(t)),t}r(t,e);var o=t.prototype;return o.onEnable=function(){this.giftOnEnable&&this.giftReward()},o.giftReward=function(){u.get(s).giftReward(this.thisReward)},t}(l)).prototype,"giftOnEnable",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(w.prototype,"thisReward",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/rotate-coordinates.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,o,n,r,c,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.Vec2},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;o._RF.push({},"d6912eLcHVBjrq4U/b1qppk","rotate-coordinates",void 0);t("default",r({menu:"Uv/RotateCoordinates",title:"RotateCoordinates"})(s=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Fixed,e.depChunks=["uv"],e.data={inputs:[u("uv",n.ZERO,"vec2","vector"),u("center",n.ZERO,"vec2","vector"),u("rotation",0,"float","vector")],outputs:[u("Out",n.ZERO,"vec2","vector")]},e}e(o,t);var r=o.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);this.inputs[0].connectSlot||(t="v_uv.xy");var e=this.getInputValue(1),o=this.getInputValue(2);return this.getOutputVarDefine(0)+" = RotateCoordinates("+t+", "+e+", "+o+");"},o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/RotationInputModule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./CameraController.ts","./InputManager.ts","./Singleton.ts"],(function(t){var n,o,a,i,e,r,u,l,s,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,u=t.Component},null,function(t){l=t.CameraController},function(t){s=t.InputManager},function(t){c=t.Singleton}],execute:function(){var d,h,p,m,f,R,v,g,b;e._RF.push({},"a5172142xBGoI1XCHowibTz","RotationInputModule",void 0);var M=r.ccclass,L=r.property;t("RotationInputModule",(d=M("RotationInputModule"),h=L(),p=L(),m=L(),d((v=n((R=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return n=t.call.apply(t,[this].concat(e))||this,a(n,"isActive",v,i(n)),a(n,"cameraControl",g,i(n)),a(n,"inputManager",b,i(n)),n.onRotationStartLambda=void 0,n.onRotationMovementLambda=void 0,n.onRotationEndLambda=void 0,n}o(n,t);var e=n.prototype;return e.start=function(){this.inputManager=c.get(s),this.cameraControl=c.get(l),this.setEvents()},e.setEvents=function(){var t=this;this.onRotationStartLambda=function(n){t.handleRotationStart(n)},this.onRotationMovementLambda=function(n){t.handleRotationMovement(n)},this.onRotationEndLambda=function(n){t.handleRotationEnded(n)},this.inputManager.onDragStart.addListener(this.onRotationStartLambda),this.inputManager.onDragMovement.addListener(this.onRotationMovementLambda),this.inputManager.onDragEnd.addListener(this.onRotationEndLambda)},e.checkForValidRotation=function(t){return this.cameraControl.checkForValidRotation(t)},e.handleRotationStart=function(t){this.isActive&&this.cameraControl.startRotation(t)},e.handleRotationMovement=function(t){this.isActive&&this.cameraControl.rotateGrid(t)},e.handleRotationEnded=function(t){this.isActive&&this.cameraControl.endRotation()},n}(u)).prototype,"isActive",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=n(R.prototype,"cameraControl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(R.prototype,"inputManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=R))||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/round-rectangle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,r,c,u,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec2},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){u=t.ConcretePrecisionType},function(t){i=t.slot}],execute:function(){var a;n._RF.push({},"ce89b57LA5CTpEIa3CV7imi","round-rectangle",void 0);t("default",r({menu:"Procedural/Shape/RoundRectangle",title:"RoundRectangle"})(a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=u.Fixed,e.depChunks=["shape"],e.data={inputs:[i("uv",o.ZERO,"vec2","vector"),i("width",.5,"float","vector"),i("radius",.1,"float","vector")],outputs:[i("Out",0,"float","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);this.inputs[0].connectSlot||(t="v_uv.xy");var e=this.getInputValue(1),n=this.getInputValue(2);return this.getOutputVarDefine(0)+" = RoundRectangle("+t+", "+e+", "+n+");"},n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/round.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){u=t.ShaderNode},function(t){c=t.slot}],execute:function(){var i;n._RF.push({},"62b43+zJdRCqaCEyKSYFKtF","round",void 0);t("default",r({menu:"Math/Round/Round",title:"Round"})(i=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[c("In",o.ZERO,"vec4","vector")],outputs:[c("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = floor("+t+" + 0.5);\n        "},n}(u))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/sample-cubemap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./input-node.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.default}],execute:function(){n._RF.push({},"6f28a7ED/hGlLSDg1Rd/nOf","sample-cubemap",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.generateCode=function(){var t,e=this.getSlotWithSlotName("Cube"),n=(null==e?void 0:e.connectSlot)&&(null==e?void 0:e.connectSlot.node);if(!n)return"";var o="view",l="normal",u=this.getSlotWithSlotName("ViewDir");null!=u&&u.connectSlot&&(o=null==u?void 0:u.connectSlot.varName);var i=this.getSlotWithSlotName("Normal");null!=i&&i.connectSlot&&(l=null==i?void 0:i.connectSlot.varName);var r=this.getOutputVarName(0)+"_R",a="";return a+="vec3 "+r+" = reflect( -normalize( "+o+" ), "+l+" );\n",a+=this.getOutputVarDefine(0)+" = texture("+(null==(t=n.property)?void 0:t.name)+", "+r+");\n"},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/sample-texture2d.ts",["./rollupPluginModLoBabelHelpers.js","cc","./input-node.ts","./utils.ts","./index4.ts","./register.ts"],(function(t){var e,n,o,r,a,l,u,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Texture2D,r=t.Vec2,a=t.Vec4},function(t){l=t.default},function(t){u=t.prop,c=t.slot},null,function(t){i=t.register}],execute:function(){var s;n._RF.push({},"5895aMpjJJED5bYGNm0JmUq","sample-texture2d",void 0);var m=function(t){return t[t.Default=0]="Default",t[t.Normal=1]="Normal",t}(m||{}),v=function(t){return t[t.Tangent=0]="Tangent",t[t.Object=1]="Object",t}(v||{});t("default",i({menu:"Input/Texture/SampleTexture2D",title:"SampleTexture2D"})(s=function(t){function n(){for(var e,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))||this).data={props:[u("TextureType",m.Default,"enum",{enum:m}),u("NormalSpace",v.Tangent,"enum",{enum:v})],inputs:[c("Texture",new o,"texture2D","texture2D"),c("UV",r.ZERO,"vec2","vector")],outputs:[c("RGBA",a.ZERO,"vec4","vector"),c("R",0,"float","vector"),c("G",0,"float","vector"),c("B",0,"float","vector"),c("A",0,"float","vector")]},e}return e(n,t),n.prototype.generateCode=function(){var t,e,n=this.getSlotWithSlotName("Texture"),o=this.getSlotWithSlotName("UV"),r=this.getSlotWithSlotName("RGBA"),a=null==r?void 0:r.varName;null!=n&&n.connectSlot?(e=o.connectSlot?o.slotValue:"v_uv",t="vec4 "+a+" = texture("+(null==n?void 0:n.connectSlot.varName)+", "+e+");\n"):t="vec4 "+a+" = vec4(1.);\n";var l=this.getPropWithName("TextureType"),u=this.getPropWithName("NormalSpace");l.value===m.Normal&&u.value===v.Tangent&&(t+=a+".xyz -= vec3(0.5);\n",t+=a+".xyz = \n",t+="  "+a+".x * normalize(worldTangent) +\n",t+="  "+a+".y * normalize(worldBinormal) +\n",t+="  "+a+".z * normalize(worldNormal);\n",this.defines.push("CC_SURFACES_USE_TANGENT_SPACE"));var c=this.getSlotWithSlotName("R");c&&c.connectSlot&&(t+="float "+c.varName+" = "+a+".r;\n");var i=this.getSlotWithSlotName("G");i&&i.connectSlot&&(t+="float "+i.varName+" = "+a+".g;\n");var s=this.getSlotWithSlotName("B");s&&s.connectSlot&&(t+="float "+s.varName+" = "+a+".b;\n");var S=this.getSlotWithSlotName("A");return S&&S.connectSlot&&(t+="float "+S.varName+" = "+a+".a;\n"),t},n}(l))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/saturate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,u,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){u=t.register},function(t){a=t.ShaderNode},function(t){c=t.slot}],execute:function(){var o;n._RF.push({},"28c0baw9D1DwrDezfnwuGKN","saturate",void 0);t("default",u({menu:"Math/Range/Saturate",title:"Saturate"})(o=function(t){function n(){for(var e,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return(e=t.call.apply(t,[this].concat(u))||this).data={inputs:[c("In",r.ZERO,"vec4","vector")],outputs:[c("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var u=n.prototype;return u.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},u.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = saturate("+t+");\n        "},n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/sawtooth-wave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){a=t.slot}],execute:function(){var i;n._RF.push({},"00c7bwAaf9HZYpgf9WzhbZa","sawtooth-wave",void 0);t("default",r({menu:"Math/Wave/SawtoothWave",title:"SawtoothWave"})(i=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[a("In",o.ZERO,"vec4","vector")],outputs:[a("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = 2 * ("+t+" - floor(0.5 + "+t+"));\n        "},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/SelectNode.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"df9bai2V+9PPYqVVifFgn2X","SelectNode",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/SetActiveCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Command.ts","./CommandDecorator.ts"],(function(e){var t,n,i,o,r,c,a,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node},function(e){u=e.Command},function(e){l=e.commandclass}],execute:function(){var s,p,m,d,f,v;r._RF.push({},"1237eLIpBhHm7yfbUWqsJ6N","SetActiveCommand",void 0);c.ccclass;var y=c.property;e("SetActiveCommand",(s=l("SetActiveCommand"),p=y({type:a}),s((f=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"node",f,o(t)),i(t,"active",v,o(t)),t}return n(t,e),t.prototype.execute=function(){this.node.active=this.active},t}(u)).prototype,"node",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(d.prototype,"active",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=d))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/SfxPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Singleton.ts","./AudioController.ts"],(function(e){var i,t,l,o,n,r,a,u,s,c,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.AudioClip,u=e.randomRangeInt,s=e.Component},null,function(e){c=e.Singleton},function(e){p=e.AudioController}],execute:function(){var f,y,d,h,C,g,b,S;n._RF.push({},"f16c9qsoehL5Zf/CNMW5XkA","SfxPlayer",void 0);var m=r.ccclass,v=r.property;e("SfxPlayer",(f=m("SfxPlayer"),y=v({type:[a],tooltip:"Play() function will choose a random Sfx from this list."}),d=v({type:Number,range:[0,1]}),f((g=i((C=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,l(i,"playOnEnable",g,o(i)),l(i,"audioClips",b,o(i)),l(i,"volumeScale",S,o(i)),i.audioController=void 0,i}t(i,e);var n=i.prototype;return n.onEnable=function(){null!=this.audioController||(this.audioController=c.get(p)),this.playOnEnable&&this.play()},n.play=function(){if(this.audioClips.length>0){var e=this.audioClips[u(0,this.audioClips.length)];console.log("Play "+e.name),this.audioController.playSFX(e,this.volumeScale)}},n.playSelectedIndex=function(e){if(this.audioClips.length>e){var i=this.audioClips[e];this.audioController.playSFX(i,this.volumeScale)}},i}(s)).prototype,"playOnEnable",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=i(C.prototype,"audioClips",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(C.prototype,"volumeScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),h=C))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/shadergraph.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c03d0yZbI5CPJyIvpnia5dO","shadergraph",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/sign.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,i,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){i=t.register},function(t){o=t.ShaderNode},function(t){c=t.slot}],execute:function(){var u;n._RF.push({},"48af6KxjgJDrLG+h1577MoC","sign",void 0);t("default",i({menu:"Math/Round/Sign",title:"Sign"})(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).data={inputs:[c("In",r.ZERO,"vec4","vector")],outputs:[c("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var i=n.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = sign("+t+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/simple-noise.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(e){var t,n,i,o,r,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Vec2},function(e){o=e.register},function(e){r=e.ShaderNode},function(e){c=e.ConcretePrecisionType},function(e){s=e.slot}],execute:function(){var u;n._RF.push({},"35746vutFFE/Y01CS8ARMHq","simple-noise",void 0);e("default",o({menu:"Procedural/Noise/SimpleNoise",title:"SimpleNoise"})(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=c.Fixed,t.depChunks=["noise"],t.data={inputs:[s("uv",i.ZERO,"vec2","vector"),s("scale",0,"float","vector")],outputs:[s("Out",0,"float","vector")]},t}t(n,e);var o=n.prototype;return o.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},o.generateCode=function(){var e=this.getInputValue(0);this.inputs[0].connectSlot||(e="v_uv.xy");var t=this.getInputValue(1);return this.getOutputVarDefine(0)+" = SimpleNoise("+e+", "+t+");"},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleDragTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./RaycastUtils.ts"],(function(e){var t,o,n,a,r,i,s,l,c,u,y,m,d,g,p,f,h,b,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,s=e.Layers,l=e.Camera,c=e.Prefab,u=e.Node,y=e.Vec3,m=e.input,d=e.Input,g=e.EventMouse,p=e.geometry,f=e.PhysicsSystem,h=e.instantiate,b=e.Component},null,function(e){L=e.RaycastUtils}],execute:function(){var v,P,R,w,E,N,T,C,j,D,M,U,x,F,z,S,Y;r._RF.push({},"757eef5KHpIm4Y4R5msoAQs","SimpleDragTest",void 0);var A=i.ccclass,O=i.property;e("SimpleDragTest",(v=A("SimpleDragTest"),P=O({type:s.Enum,group:{name:"Layers"},tooltip:"Layer for raycasting"}),R=O({type:Number,group:{name:"Layers"}}),w=O({type:s.Enum,group:{name:"Layers"},tooltip:"Layer for instantiated objects"}),E=O({type:l,group:{name:"Components"}}),N=O({type:c,group:{name:"Components"}}),T=O({type:u,group:{name:"Components"}}),C=O(u),v((M=t((D=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,n(t,"raycastLayer",M,a(t)),n(t,"layerNumber",U,a(t)),n(t,"instantiateLayer",x,a(t)),n(t,"camera",F,a(t)),n(t,"objectPrefab",z,a(t)),n(t,"heightPlane",S,a(t)),n(t,"selectedNode",Y,a(t)),t.originalY=null,t.currentMousePos=new y,t}o(t,e);var r=t.prototype;return r.start=function(){console.log("start() is the last one before update."),m.on(d.EventType.MOUSE_DOWN,this.mouseClick,this),m.on(d.EventType.MOUSE_MOVE,this.mouseMove,this)},r.mouseClick=function(e){e.getButton()===g.BUTTON_LEFT?this.performRaycastExternal(e):e.getButton()===g.BUTTON_RIGHT&&(this.selectedNode=null)},r.mouseMove=function(e){this.currentMousePos.set(e.getLocationX(),e.getLocationY(),0)},r.performRaycastExternal=function(e){if(this.camera){var t={result:null},o=1<<s.Enum.DEFAULT;if(L.mousePositionRaycast3D(e,this.camera,t,500,o)&&t.result){var n=t.result.collider;console.log("RaycastExternal - Found obj: "+n.node.name+" in layer "+this.getLayerName(n.node.layer)),this.originalY=n.node.worldPosition.y,this.selectedNode=n.node}else console.log("RaycastExternal: No object detected."),this.selectedNode=null}else console.error("Camera is not assigned.")},r.performRaycastClosest=function(e){if(this.camera){var t=new p.Ray,o=new y(e.getLocationX(),e.getLocationY(),0);this.camera.screenPointToRay(o.x,o.y,t);console.log("Layer mask: 1 | Layer name: "+this.getLayerName(1));var n=f.instance;if(n.raycastClosest(t,1,500)){var a=n.raycastClosestResult,r=(a.hitPoint,a.collider);console.log("RaycastClosest - Found obj: "+r.node.name+" in layer "+this.getLayerName(r.node.layer)),this.originalY=r.node.worldPosition.y,this.selectedNode=r.node}else console.log("RaycastClosest: No object detected.")}else console.error("Camera is not assigned.")},r.performLayerRaycast=function(e){if(this.camera){var t=1<<s.Enum.DEFAULT,o=new p.Ray,n=new y(e.getLocationX(),e.getLocationY(),0);this.camera.screenPointToRay(n.x,n.y,o);var a=f.instance.raycast(o,t,500);if(console.log("Layer mask: "+t+" | Layer name: "+this.getLayerName(t)),a){console.log("Found objs.");for(var r=f.instance.raycastResults,i=0;i<r.length;i++){var l=r[i];l.collider.node.layer==t&&console.log("Hit object:",l.collider.node.name)}}else console.log("RaycastAll: No objects detected.")}else console.error("Camera is not assigned.")},r.instantiateObjectAtScreenPosition=function(e){if(this.camera)if(this.objectPrefab){var t=new y(e.getLocationX(),e.getLocationY(),0),o=new y;this.camera.screenToWorld(t,o);o.y=-2.5;var n=h(this.objectPrefab);n.setPosition(o),this.node.scene.addChild(n),console.log("Instantiated object at world position:",o)}else console.error("Object prefab is not assigned.");else console.error("Camera is not assigned.")},r.update=function(){if(this.selectedNode){var e=this.getDragPosition();e&&this.selectedNode.setWorldPosition(e)}},r.getDragPosition=function(){if(this.camera){var e=new p.Ray,t=new y(this.currentMousePos.x,this.currentMousePos.y,0);this.camera.screenPointToRay(t.x,t.y,e);var o=e.o,n=e.d,a=new y(0,1,0),r=new y(0,this.originalY,0),i=L.rayPlaneIntersection(o,n,r,a);return i||(console.log("Ray does not intersect the plane."),null)}console.error("Camera is not assigned.")},r.getLayerName=function(e){for(var t in s.Enum)if(s.Enum[t]===e)return t;return"Unknown"},t}(b)).prototype,"raycastLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.Enum.DEFAULT}}),U=t(D.prototype,"layerNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=t(D.prototype,"instantiateLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.Enum.DEFAULT}}),F=t(D.prototype,"camera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"objectPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(D.prototype,"heightPlane",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(D.prototype,"selectedNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=D))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleEditorDropdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EditorDropdownOption.ts","./index2.ts","./Action.ts"],(function(e){var n,t,o,i,r,p,a,d,l,u,s,c,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){p=e.cclegacy,a=e._decorator,d=e.Node,l=e.Label,u=e.Component,s=e.Button},function(e){c=e.EditorDropdownOption},null,function(e){g=e.Action}],execute:function(){var f,b,h,y,x,w,m,D,E,v,k,B,C,O,z,L,S,_,I,T;p._RF.push({},"a465etGkWdMmYX9dp5ECSGu","SimpleEditorDropdown",void 0);var A=a.ccclass,P=a.property;e("SimpleEditorDropdown",(f=A("SimpleEditorDropdown"),b=P({type:Boolean,group:{name:"Runtime"}}),h=P({type:Number,group:{name:"Runtime"}}),y=P({type:Boolean,group:{name:"Configs"}}),x=P({type:d,visible:function(){return this.canExpandLayout},group:{name:"Configs"}}),w=P({type:d,visible:function(){return this.canExpandLayout},group:{name:"Configs"}}),m=P({type:d,group:{name:"Components"}}),D=P({type:l,group:{name:"Components"}}),E=P({type:[c],group:{name:"Components"}}),v=P({group:"Debug"}),f((C=n((B=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),p=0;p<t;p++)r[p]=arguments[p];return n=e.call.apply(e,[this].concat(r))||this,o(n,"isExpanded",C,i(n)),o(n,"selectedId",O,i(n)),o(n,"canExpandLayout",z,i(n)),o(n,"expandedParent",L,i(n)),o(n,"expandAfterNode",S,i(n)),o(n,"expandedBlock",_,i(n)),o(n,"defaultLabel",I,i(n)),o(n,"dropdownOption",T,i(n)),n.onOptionSelected=new g,n}t(n,e);var p=n.prototype;return p.initialize=function(e){for(var n=this,t=function(){n.dropdownOption[o].initialize(o);var e=n.dropdownOption[o].id;n.dropdownOption[o].button.node.on(s.EventType.CLICK,(function(){return n.selectOption(e)}),n)},o=0;o<this.dropdownOption.length;o++)t();this.updateDisplay(e),this.isExpanded=!0,this.toggleDropdownBlock()},p.selectOption=function(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=!0),this.updateDisplay(e),n&&this.toggleDropdownBlock(),t&&this.onOptionSelected.invoke(e)},p.updateDisplay=function(e){this.selectedId=e,this.defaultLabel.string=this.dropdownOption[e].getText()},p.toggleDropdownBlock=function(){this.isExpanded=!this.isExpanded,this.expandedBlock&&(this.expandedBlock.active=this.isExpanded,this.canExpandLayout&&(this.isExpanded?(this.expandedBlock.parent=this.expandedParent,this.expandedBlock.setSiblingIndex(this.expandAfterNode.getSiblingIndex()+1)):this.expandedBlock.parent=this.node))},r(n,[{key:"debug_ToggleCollapseDropdown",get:function(){return!1},set:function(e){console.log("debug_ToggleCollapseDropdown"),this.expandedBlock.active?this.isExpanded=!0:this.isExpanded=!1,this.toggleDropdownBlock()}}]),n}(u)).prototype,"isExpanded",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=n(B.prototype,"selectedId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=n(B.prototype,"canExpandLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=n(B.prototype,"expandedParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(B.prototype,"expandAfterNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(B.prototype,"expandedBlock",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(B.prototype,"defaultLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(B.prototype,"dropdownOption",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n(B.prototype,"debug_ToggleCollapseDropdown",[v],Object.getOwnPropertyDescriptor(B.prototype,"debug_ToggleCollapseDropdown"),B.prototype),k=B))||k));p._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleMouseTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,s,n,a,i,r,l,c,d,u,y,p,h,f,m,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,r=e.Camera,l=e.Prefab,c=e.input,d=e.Input,u=e.KeyCode,y=e.EventMouse,p=e.geometry,h=e.Vec3,f=e.Layers,m=e.PhysicsSystem,g=e.instantiate,b=e.Component}],execute:function(){var R,v,T,N,A,P,C;a._RF.push({},"e8f80ZNyVtHBLOhzwTem47V","SimpleMouseTest",void 0);var E=i.ccclass,w=i.property;e("SimpleMouseTest",(R=E("SimpleMouseTest"),v=w(r),T=w(l),R((P=t((A=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,s(t,"camera",P,n(t)),s(t,"simpleNodePrefab",C,n(t)),t.rayStart=null,t.rayEnd=null,t}o(t,e);var a=t.prototype;return a.start=function(){console.log("start() is the last one before update."),c.on(d.EventType.KEY_UP,this.keyUp,this),c.on(d.EventType.MOUSE_DOWN,this.mouseClick,this)},a.keyUp=function(e){e.keyCode==u.ARROW_UP&&console.log("Up arrow key is pressed.")},a.mouseClick=function(e){e.getButton()===y.BUTTON_LEFT?(console.log("Left mouse button clicked."),this.performRaycastClosest(e)):e.getButton()===y.BUTTON_RIGHT&&(console.log("Right Mouse button clicked."),this.performRaycastAll(e))},a.performRaycastAll=function(e){if(this.camera){var t=new p.Ray,o=new h(e.getLocationX(),e.getLocationY(),0);this.camera.screenPointToRay(o.x,o.y,t),this.rayStart=t.o.clone(),this.rayEnd=new h;var s=1<<f.Enum.DEFAULT;if(h.scaleAndAdd(this.rayEnd,t.o,t.d,500),m.instance.raycast(t,s,500,!0)){console.log("Found objs.");for(var n=m.instance.raycastResults,a=0;a<n.length;a++){var i=n[a];console.log("Hit object:",i.collider.node.name)}}else console.log("RaycastAll: No objects detected."),this.instantiateNodeAtRayTip(t),this.instantiateNodesAlongRay(t,.5)}else console.error("Camera is not assigned.")},a.performRaycastClosest=function(e){if(this.camera){var t=new p.Ray,o=new h(e.getLocationX(),e.getLocationY(),0);this.camera.screenPointToRay(o.x,o.y,t),this.rayStart=t.o.clone(),this.rayEnd=new h;var s=1<<f.Enum.DEFAULT;if(h.scaleAndAdd(this.rayEnd,t.o,t.d,500),m.instance.raycastClosest(t,s,500,!0)){var n=m.instance.raycastClosestResult,a=(n.hitPoint,n.hitNormal,n.collider);n.distance;console.log("RaycastClosest - Found obj: ",a.node.name)}else console.log("RaycastClosest: No object detected."),this.instantiateNodeAtRayTip(t),this.instantiateNodesAlongRay(t,.5)}else console.error("Camera is not assigned.")},a.instantiateNodeAtRayTip=function(e){if(this.simpleNodePrefab){var t=g(this.simpleNodePrefab),o=g(this.simpleNodePrefab);o.setPosition(e.o),t.setPosition(this.rayEnd),this.node.scene.addChild(t),this.node.scene.addChild(o)}else console.error("Simple node prefab is not assigned.")},a.instantiateNodesAlongRay=function(e,t){if(this.simpleNodePrefab)for(var o=e.d.clone().normalize(),s=Math.floor(1e3/t),n=0;n<=s;n++){var a=new h;h.scaleAndAdd(a,e.o,o,n*t);var i=g(this.simpleNodePrefab);i.setPosition(a),this.node.scene.addChild(i)}else console.error("Simple node prefab is not assigned.")},t}(b)).prototype,"camera",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(A.prototype,"simpleNodePrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/SimplePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,i,r;return{setters:[function(o){e=o.createForOfIteratorHelperLoose},function(o){t=o.cclegacy,n=o.Pool,i=o.instantiate,r=o.director}],execute:function(){t._RF.push({},"f8854BpXKRD+JooN98gGgkj","SimplePool",void 0);var a=o("SimplePool",function(){function o(){}return o.init=function(e,t){void 0===t&&(t=o.DEFAULT_POOL_SIZE);var r=e.data.uuid;if(!this._pools.has(r)){var a={pool:null,memberIds:new Set,counter:0};a.pool=new n((function(){var o=i(e);return o.name=e.name+" (Pooled "+(a.counter+1)+")",a.counter++,o}),t),this._pools.set(r,a)}},o.preload=function(o,e){void 0===e&&(e=1),this.init(o,e);for(var t=[],n=0;n<e;n++)t.push(this.spawn(o));for(var i=0;i<e;i++)this.despawn(t[i])},o.spawn=function(o,e,t,n){this.init(o);var i=this._pools.get(o.data.uuid),a=i.pool.alloc();return i.memberIds.add(a.uuid),n||(n=r.getScene()),a.parent=n,e&&(a.position=e),t&&(a.rotation=t),a.active=!0,a},o.despawn=function(o){if(o&&o.isValid){for(var t,n=!1,i=e(this._pools);!(t=i()).done;){var r=t.value,a=(r[0],r[1]);if(a.memberIds.has(o.uuid)){o.active=!1,a.pool.free(o),a.memberIds.delete(o.uuid),n=!0;break}}n||(console.warn("Object '"+o.name+"' wasn't spawned from a pool. Destroying it instead."),o.destroy())}},o}());a.DEFAULT_POOL_SIZE=3,a._pools=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/SimpleRaycastTest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.Node,c=t.Component}],execute:function(){var i;o._RF.push({},"c2d20ydHtVM2atsCS9URq9P","SimpleRaycastTest",void 0);var r=n.ccclass;n.property,t("SimpleRaycastTest",r("SimpleRaycastTest")(i=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.start=function(){this.node.on(s.EventType.MOUSE_DOWN,(function(t){console.log("Mouse down")}),this)},o}(c))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/sine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,i,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){i=t.register},function(t){o=t.ShaderNode},function(t){c=t.slot}],execute:function(){var u;n._RF.push({},"203ea3iMklAUK9FzJeavWJF","sine",void 0);t("default",i({menu:"Math/Trigonometry/Sine",title:"Sine"})(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).data={inputs:[c("In",r.ZERO,"vec4","vector")],outputs:[c("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var i=n.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = sin("+t+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){var t,e,i;return{setters:[function(n){t=n.cclegacy,e=n.director,i=n.Node}],execute:function(){t._RF.push({},"803d1pv0ZdLsJdTra2OKgEv","Singleton",void 0),n("Singleton",function(){function n(){}return n.get=function(n){var t,i=this.instances.get(n);if(i&&!i.isValid)return this.instances.delete(n),null;if(i)return i;var s=null==(t=e.getScene())?void 0:t.getComponentInChildren(n);return s?(this.instances.set(n,s),s):null},n.set=function(n){var t=this,e=n.constructor,s=this.instances.get(e);s&&s.isValid||(this.instances.set(e,n),n.node.once(i.EventType.NODE_DESTROYED,(function(){t.instances.delete(e)})))},n}()).instances=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/slider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,r,i,o,c,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.register},function(t){o=t.ShaderNode},function(t){c=t.ConcretePrecisionType},function(t){s=t.slot}],execute:function(){var u;r._RF.push({},"263a8VilSVCp4Eyo8YtLJnX","slider",void 0);t("default",i({menu:"Input/Basic/Slider",title:"Slider"})(u=function(t){function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=c.Fixed,e.data={inputs:[s("In",0,"float","vector")],outputs:[s("Out",0,"float","vector")]},e}e(r,t);var i=r.prototype;return i.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = "+t+";\n        "},n(r,[{key:"type",get:function(){return"Slider"}}]),r}(o))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/SliderMultiplierBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,r,l,n,o,a,p,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){n=i.cclegacy,o=i._decorator,a=i.UIOpacity,p=i.Node,c=i.Component}],execute:function(){var u,s,h,y,g,d,f,b,v;n._RF.push({},"fbeaaAGz1RLrp/ByxreSey+","SliderMultiplierBox",void 0);var m=o.ccclass,x=o.property;i("SliderMultiplierBox",(u=m("SliderMultiplierBox"),s=x({type:Number}),h=x({type:a}),y=x({type:p}),u((f=e((d=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n))||this,r(e,"disabledAlpha",f,l(e)),r(e,"opacity",b,l(e)),r(e,"highlight",v,l(e)),e}return t(e,i),e.prototype.toggleHighlight=function(i){var e=i?255:255*this.disabledAlpha;this.opacity.opacity=e,this.highlight.active=i},e}(c)).prototype,"disabledAlpha",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 125}}),b=e(d.prototype,"opacity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"highlight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/slot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts","./context.ts"],(function(t){var e,n,i,o,c,s,r,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.ValueType},function(t){o=t.getPrecisionName,c=t.getValueElementStr,s=t.getFloatString,r=t.getValueConcretePrecision},function(t){a=t.shaderContext}],execute:function(){t("resetGlobalShaderSlotID",(function(){u=0})),n._RF.push({},"37bc8lcJkpAuZFrukwcAg+H","slot",void 0);var u=0;var l=t("ShaderSlotType",function(t){return t[t.Input=0]="Input",t[t.Output=1]="Output",t}({}));t("ShaderSlot",function(){function t(t,e){this.data=void 0,this.globalID=0,this.id=0,this.displayName="",this.type=l.Input,this.defaultValue=void 0,this.value=void 0,this.connectSlots=[],this.node=void 0,this._concretePrecision=-1,this.displayName=t.display,this.defaultValue=t.default,t.default instanceof i?this.value=t.default.clone():this.value=t.default,this.data=t,this.node=e,this.globalID=u++}return e(t,[{key:"connectSlot",get:function(){var t=this.connectSlots[0];return t&&a.getLocalVars.includes(t.node)?a.localVars.find((function(e){return e.name===t.node.name})).inputs[0].connectSlot:this.connectSlots[0]},set:function(t){this.connectSlots.length=0,t&&(this.connectSlots[0]=t)}},{key:"connectNode",get:function(){return this.connectSlot&&this.connectSlot.node}},{key:"varName",get:function(){var t;return null!=(t=this.node)&&t.isPropertyNode?this.node.name:"var_"+this.globalID}},{key:"varDefine",get:function(){var t=o(this.concretePrecision,this.data.type);return t&&(t+=" "),t+this.varName}},{key:"precisionName",get:function(){return o(this.concretePrecision,this.data.type)}},{key:"isVector",get:function(){return"vector"===this.data.connectType}},{key:"slotValue",get:function(){var t=this.defaultConcretePrecision,e=this.concretePrecision,n="";if(this.connectSlot){if(t=this.connectSlot.concretePrecision,n=this.connectSlot.varName,this.isVector&&e!==t)if(e<t)1===e?n+=".x":2===e?n+=".xy":3===e&&(n+=".xyz");else if(1!==t){for(var i=e-t,o=[],a=0;a<i;a++)o.push("0.");n+=", "+o.join(", ")}}else{var u=this.value;if(this.isVector){var l=c(u,0),h=c(u,1),d=c(u,2),f=c(u,3);"object"!=typeof u&&(l=s(u)),t=r(u);for(var v=[l,h,d,f],p=[],y=0;y<e;y++)p.push(void 0===v[y]?0:v[y]);n=p.join(", ")}else n=u}var g=""+n;return this.isVector&&(2===e?g="vec2("+n+")":3===e?g="vec3("+n+")":4===e&&(g="vec4("+n+")")),g}},{key:"defaultConcretePrecision",get:function(){var t=1,e=this.defaultValue;return"object"==typeof e&&(void 0!==e.w?t=4:void 0!==e.z?t=3:void 0!==e.y&&(t=2)),t}},{key:"concretePrecision",get:function(){if(-1===this._concretePrecision){var t,e=this.defaultValue;if(void 0===e)null!=(t=this.node)&&t.isPropertyNode&&(e=this.node.property.value);void 0===e&&console.error("Slot Value is undefined, concrete precision maybe wrong."),this._concretePrecision=r(e)}return this._concretePrecision}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/smoothstep.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,o,r,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){r=t.register},function(t){c=t.ShaderNode},function(t){s=t.slot}],execute:function(){var u;n._RF.push({},"d4d9cMuNpBHKICVJVXTyXRO","smoothstep",void 0);t("default",r({menu:"Math/Interpolation/Smoothstep",title:"Smoothstep"})(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).data={inputs:[s("Edge1",o.ZERO,"vec4","vector"),s("Edge2",o.ZERO,"vec4","vector"),s("In",o.ZERO,"vec4","vector")],outputs:[s("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = smoothstep("+t+", "+e+", "+n+");\n        "},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/sphere-mask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,r,n,s,c,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t.Vec4},function(t){s=t.register},function(t){c=t.ShaderNode},function(t){o=t.slot}],execute:function(){var u;r._RF.push({},"2fd4cAU0iRIFbD4p8meWHjx","sphere-mask",void 0);t("default",s({menu:"Math/Vector/SphereMask",title:"SphereMask"})(u=function(t){function r(){for(var e,r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))||this).data={inputs:[o("Coords",n.ZERO,"vec4","vector"),o("Center",n.ZERO,"vec4","vector"),o("Radius",0,"float","vector"),o("Hardness",0,"float","vector")],outputs:[o("Out",n.ZERO,"vec4","vector")]},e}e(r,t);var s=r.prototype;return s.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},s.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1),r=this.getInputValue(2),n=this.getInputValue(3);return"\n            "+this.getOutputVarDefine(0)+" = 1 - saturate((distance("+t+", "+e+") - "+r+") / (1 - "+n+"));\n        "},r}(c))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/split.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index4.ts","./base.ts","./type.ts","./utils.ts","./register.ts"],(function(t){var e,n,o,i,r,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},null,function(t){i=t.ShaderNode},function(t){r=t.ConcretePrecisionType},function(t){c=t.slot},function(t){u=t.register}],execute:function(){var s;n._RF.push({},"3da06y4hU1Ow4fHMuaVh9Ox","split",void 0);t("default",u({menu:"Channel/Split",title:"Split"})(s=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))||this).concretePrecisionType=r.Fixed,e.data={inputs:[c("Vector",new o,"vec4","vector")],outputs:[c("R",0,"float","vector"),c("G",0,"float","vector"),c("B",0,"float","vector"),c("A",0,"float","vector")]},e}return e(n,t),n.prototype.generateCode=function(){var t=this,e=this.getInputValue(0),n=[];return this.data.outputs.forEach((function(o){var i=t.getOutputSlotWithSlotName(o.display);i&&i.connectSlot&&n.push("float "+(null==i?void 0:i.varName)+" = "+e+"."+o.display.toLowerCase()+";")})),n.join("\n")},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/square-wave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,r,u,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){u=e.register},function(e){c=e.ShaderNode},function(e){o=e.slot}],execute:function(){var a;n._RF.push({},"d9905hEvfVIh6Iwo+//rZfV","square-wave",void 0);e("default",u({menu:"Math/Wave/SquareWave",title:"SquareWave"})(a=function(e){function n(){for(var t,n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];return(t=e.call.apply(e,[this].concat(u))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var u=n.prototype;return u.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},u.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = 1.0 - 2.0 * round(frac("+e+"));\n        "},n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/square.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,u,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){u=t.ShaderNode},function(t){o=t.slot}],execute:function(){var i;n._RF.push({},"861eejAxE9Kk5MHkzbOdXlI","square",void 0);t("default",c({menu:"Math/Basic/Square",title:"Square"})(i=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("A",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = sqrt("+t+");\n        "},n}(u))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/step.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){u=t.slot}],execute:function(){var i;n._RF.push({},"2b4cb9lBRBMqrQTPqc1e+XN","step",void 0);t("default",c({menu:"Math/Round/Step",title:"Step"})(i=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[u("Edge",r.ZERO,"vec4","vector"),u("In",r.ZERO,"vec4","vector")],outputs:[u("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = step("+t+", "+e+");\n        "},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGraphNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./index4.ts","./utils.ts","./register.ts"],(function(t){var n,e,r,u,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.ShaderNode},null,function(t){u=t.slot},function(t){o=t.register}],execute:function(){var s;e._RF.push({},"159abqfjclCYp0gqjzKIy69","SubGraphNode",void 0);t("default",o({style:{headerColor:"#757575"}})(s=function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).data={inputs:[u("In",0,"any","any")],outputs:[u("Out",0,"any","any")]},n}return n(e,t),e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/SubGraphOutputNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./index4.ts","./utils.ts","./register.ts"],(function(t){var e,n,u,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.ShaderNode},null,function(t){r=t.slot},function(t){s=t.register}],execute:function(){var o;n._RF.push({},"a7a1dWl92NFI7N6B5WUHBcO","SubGraphOutputNode",void 0);t("default",s({title:"Output",master:!0,style:{headerColor:"#81ff2f"}})(o=function(t){function n(){for(var e,n=arguments.length,u=new Array(n),s=0;s<n;s++)u[s]=arguments[s];return(e=t.call.apply(t,[this].concat(u))||this).data={inputs:[r("Out",0,"any","any")]},e}return e(n,t),n}(u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/substract.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,c,r,o,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec4},function(t){r=t.register},function(t){o=t.ShaderNode},function(t){s=t.ConcretePrecisionType},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"5fbb9DNFjJODZFHdbDe+csv","substract",void 0);t("default",r({menu:"Math/Basic/Substract",title:"Substract"})(u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=s.Max,e.data={inputs:[i("A",c.ZERO,"vec4","vector"),i("B",c.ZERO,"vec4","vector")],outputs:[i("Out",c.ZERO,"vec4","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = "+t+" - "+e+";\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/SurfaceMasterNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MasterNode.ts","./utils.ts","./index4.ts","./context.ts","./register.ts"],(function(e){var t,o,n,r,c,l,a,s,u,i,p;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,r=e.Vec3,c=e.Vec4},function(e){l=e.default,a=e.MasterSlotType},function(e){s=e.slot,u=e.path},null,function(e){i=e.shaderContext},function(e){p=e.register}],execute:function(){var h;n._RF.push({},"3dc0bllbkxAsKzvUgvzcrgb","SurfaceMasterNode",void 0);e("default",p({title:"Surface",master:!0})(h=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))||this).data={inputs:[s("Vertex Position",r.ZERO,"vec3","vector",{slotType:a.Vertex,codeChunk:0}),s("Vertex Normal",r.ZERO,"vec3","vector",{slotType:a.Vertex,codeChunk:0}),s("Vertex Tangent",r.ZERO,"vec3","vector",{slotType:a.Vertex,codeChunk:0}),s("Albedo",new c(.5,.5,.5,.5),"color","vector",{slotType:a.Fragment,codeChunk:3}),s("Normal",r.ZERO,"vec3","vector",{slotType:a.Fragment,codeChunk:3}),s("Emission",r.ZERO,"vec3","vector",{slotType:a.Fragment,codeChunk:3}),s("Metallic",.6,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("Roughness",.5,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("Occlusion",1,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("SpecularIntensity",.5,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("Alpha",1,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("AlphaClipThreshold",.5,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("AnisotropyRotation",0,"float","vector",{slotType:a.Fragment,codeChunk:3}),s("AnisotropyShape",1,"float","vector",{slotType:a.Fragment,codeChunk:3})]},t}return t(n,e),n.prototype.generateCode=function(){var t,o;null==(t=this.getSlotWithSlotName("AnisotropyRotation"))||t.connectSlot,null==(o=this.getSlotWithSlotName("AnisotropyShape"))||o.connectSlot;return e.prototype.generateCode.call(this)},o(n,[{key:"templatePath",get:function(){return u.join(i.shaderTemplatesDir,"master/SurfaceMasterNode.effect")}}]),n}(l))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Tag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index3.ts"],(function(e){var t,n,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator},function(e){c=e.bh}],execute:function(){var s;n._RF.push({},"f2e03FNzDlN5Y0IuKnee6fW","Tag",void 0);r.ccclass,r.property,e("Tag",c.createAssetMenu("tag-001","Game/Tag")(s=c.scriptable("Tag")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(c.ScriptableAsset))||s)||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/TagController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tag.ts"],(function(r){var e,t,n,o,i,a,l,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,n=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){i=r.cclegacy,a=r._decorator,l=r.Component},function(r){c=r.Tag}],execute:function(){var s,u,p,g,f;i._RF.push({},"2e6b8Sz3+BEDpn13cpTy3ha","TagController",void 0);var y=a.ccclass,h=a.property;r("TagController",(s=y("TagController"),u=h({type:[c]}),s((f=e((g=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i))||this,n(e,"tags",f,o(e)),e}return t(e,r),e}(l)).prototype,"tags",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=g))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/tangent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){i=t.slot}],execute:function(){var u;n._RF.push({},"adcb4trf/1C6627yz7YeTXn","tangent",void 0);t("default",c({menu:"Math/Trigonometry/Tangent",title:"Tangent"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[i("In",r.ZERO,"vec4","vector")],outputs:[i("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = tan("+t+");\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/texture-asset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts"],(function(e){var t,n,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.ShaderNode},function(e){c=e.ConcretePrecisionType}],execute:function(){n._RF.push({},"ae6c5dYR/dM3qMNrhlBY9Hs","texture-asset",void 0);e("default",function(e){function n(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).concretePrecisionType=c.Texture,t}return t(n,e),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/texture2d-asset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./texture-asset.ts"],(function(t){var e,u,n;return{setters:[function(t){e=t.inheritsLoose},function(t){u=t.cclegacy},function(t){n=t.default}],execute:function(){u._RF.push({},"1e7d5h/dpNKOKPycPdVfiDZ","texture2d-asset",void 0);t("default",function(t){function u(){return t.apply(this,arguments)||this}return e(u,t),u.prototype.generateCode=function(){return"sampler2D "+this.getOutputVarName(0)+" = "+this.getInputValue(0)+";"},u}(n));u._RF.pop()}}}));

System.register("chunks:///_virtual/tilling-and-offset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,i,c,o,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Vec2},function(t){c=t.register},function(t){o=t.ShaderNode},function(t){r=t.ConcretePrecisionType},function(t){s=t.slot}],execute:function(){var u;n._RF.push({},"5f40e+RWa9OQYJs/kAgd0eT","tilling-and-offset",void 0);t("default",c({menu:"Uv/TillingAndOffset",title:"TillingAndOffset"})(u=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this).concretePrecisionType=r.Fixed,e.depChunks=["uv"],e.data={inputs:[s("uv",i.ZERO,"vec2","vector"),s("tilling",i.ZERO,"vec2","vector"),s("offset",i.ZERO,"vec2","vector")],outputs:[s("Out",i.ZERO,"vec2","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);this.inputs[0].connectSlot||(t="v_uv.xy");var e=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = "+t+" * "+e+" + "+n+";\n        "},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/time.ts",["./rollupPluginModLoBabelHelpers.js","cc","./utils.ts","./input-node.ts","./index4.ts","./register.ts"],(function(t){var e,o,i,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){i=t.slot},function(t){l=t.default},null,function(t){n=t.register}],execute:function(){var a;o._RF.push({},"d78e7iowiJHXbVo2J+jhSXo","time",void 0);t("default",n({menu:"Input/Basic/Time",title:"Time"})(a=function(t){function o(){for(var e,o=arguments.length,l=new Array(o),n=0;n<o;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))||this).data={outputs:[i("Time",0,"float","vector"),i("Sine Time",0,"float","vector"),i("Cosine Time",0,"float","vector"),i("Delta Time",0,"float","vector"),i("Smooth Delta",0,"float","vector")]},e}return e(o,t),o.prototype.generateCode=function(){var t=this.getOutputSlotWithSlotName("Time"),e=this.getOutputSlotWithSlotName("Sine Time"),o=this.getOutputSlotWithSlotName("Cosine Time"),i=this.getOutputSlotWithSlotName("Delta Time"),l=this.getOutputSlotWithSlotName("Smooth Delta"),n="";return null!=t&&t.connectSlot&&(n+="float "+t.varName+" = cc_time.x;"),null!=e&&e.connectSlot&&(n+="float "+e.varName+" = sin(cc_time.x);"),null!=o&&o.connectSlot&&(n+="float "+o.varName+" = cos(cc_time.x);"),null!=i&&i.connectSlot&&(n+="float "+i.varName+" = cc_time.y;"),null!=l&&l.connectSlot&&(console.warn("Not support smooth delta time"),n+="float "+l.varName+" = cc_time.y;"),n},o}(l))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/TrayGenerationUtils.ts",["cc","./HexSlot.ts","./LevelAsset.ts"],(function(r){var e,o,t,n,l;return{setters:[function(r){e=r.cclegacy,o=r._decorator,t=r.randomRangeInt},function(r){n=r.PieceStack},function(r){l=r.PieceColor}],execute:function(){var a;e._RF.push({},"c24e8N7s+xI86qxC5ydRseG","TrayGenerationUtils",void 0);var i=o.ccclass;o.property,r("TrayGenerationUtils",i("TrayGenerationUtils")(a=function(){function r(){}return r.shuffleArray=function(r){for(var e=r.length-1;e>0;e--){var o=Math.floor(Math.random()*(e+1)),t=[r[o],r[e]];r[e]=t[0],r[o]=t[1]}return r},r.generateTotalAmount=function(r,e,o){for(var t=[],n=r.x;n<=r.y;n++)t.push(n);return t.remove(e),0!=t.length&&(this.shuffleArray(t),o.result=t[0],!0)},r.generateColorCombinationAmount=function(r,e,o){void 0===o&&(o=0);var t=[],n=Math.min(e.colorCombinationsAllowed.x,r,e.colorsAllowed.length),l=Math.min(e.colorCombinationsAllowed.y,r,e.colorsAllowed.length);if(n==l)t.push(n);else for(var a=n;a<=l;a++)t.push(a);return t.remove(o),0==t.length?-1:(this.shuffleArray(t),t[0])},r.generateColorOptions=function(r,e,o,t){void 0===t&&(t=null);for(var n=t?t.length:0,l=e.colorsAllowed.slice(),a=this.shuffleArray(l),i=0;i<n;i++)a.remove(t[i]);if(0==a.length)return!1;for(var s=0;s<r;s++)o.result.push(a[s]);return!0},r.generatePieceStacks=function(r,e,o){for(var l=[],a=e,i=r,s=0;s<r;s++){var u=new n;u.pieceColor=o[s];var c=1;if(r!=e)c=t(1,a-i+1+1),s==r-1&&(c=a);u.amount=c,a-=c,i--,l.push(u)}return l},r.convertColorsToString=function(r){for(var e="",o=0;o<r.length;o++)e+="["+l[r[o]]+"] ";return e},r}())||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/triangle-wave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(e){var t,n,r,i,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){i=e.register},function(e){o=e.ShaderNode},function(e){a=e.slot}],execute:function(){var c;n._RF.push({},"92a3eZPGhZGbpxgWBNEKAGs","triangle-wave",void 0);e("default",i({menu:"Math/Wave/TriangleWave",title:"TriangleWave"})(c=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).data={inputs:[a("In",r.ZERO,"vec4","vector")],outputs:[a("Out",r.ZERO,"vec4","vector")]},t}t(n,e);var i=n.prototype;return i.calcConcretePrecision=function(){e.prototype.calcConcretePrecision.call(this)},i.generateCode=function(){var e=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = 2.0 * abs( 2 * ("+e+" - floor(0.5 + "+e+")) ) - 1.0;\n        "},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/truncate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./utils.ts"],(function(t){var e,n,r,c,u,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Vec4},function(t){c=t.register},function(t){u=t.ShaderNode},function(t){o=t.slot}],execute:function(){var i;n._RF.push({},"96ddfY+NwRNKa+F0/nHJXIw","truncate",void 0);t("default",c({menu:"Math/Round/Truncate",title:"Truncate"})(i=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))||this).data={inputs:[o("In",r.ZERO,"vec4","vector")],outputs:[o("Out",r.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0);return"\n            "+this.getOutputVarDefine(0)+" = trunc("+t+");\n        "},n}(u))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexSlot.ts","./index2.ts","./HexGridController.ts","./ComboController.ts","./GameplayController.ts","./Singleton.ts"],(function(t){var e,i,n,o,r,l,s,a,u,c,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Component},function(t){a=t.HexSlot},null,function(t){u=t.HexGridController},function(t){c=t.ComboController},function(t){h=t.GameplayController},function(t){p=t.Singleton}],execute:function(){var g,f,d,v,S,m,b,x,M,y,w,T,C,k,A,E,H,P,z,G,O,D,L,Q,W,F,R,_,N,j,B,I,V;r._RF.push({},"0e97bYuTPhAk7jPaXZr/V6i","TurnController",void 0);var X=l.ccclass,Y=l.property,Z=t("SingleMovementData",(g=X("SingleMovementData"),f=Y({type:a}),d=Y({type:a}),g((m=e((S=function(t,e){i(this,"initialHex",m,this),i(this,"targetHex",b,this),this.initialHex=t,this.targetHex=e}).prototype,"initialHex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(S.prototype,"targetHex",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v)),q=function(t,e,i){this.origin=void 0,this.target=void 0,this.contition=function(){return!0},this.origin=e,this.target=i,this.contition=t},J=t("TurnSortingData",(x=X("TurnSortingData"),M=Y({type:a}),y=Y(),w=Y(),x((k=e((C=function(){i(this,"slot",k,this),i(this,"connections",A,this),i(this,"colorAmount",E,this)}).prototype,"slot",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(C.prototype,"connections",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(C.prototype,"colorAmount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=C))||T));t("TurnController",(H=X("TurnController"),P=Y({type:u,group:"Runtime"}),z=Y({type:Boolean}),G=Y({type:[a]}),O=Y({type:[J]}),D=Y({type:[Z]}),L=Y({type:[a]}),Q=Y({type:[a]}),H((R=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"hexGrid",R,o(e)),i(e,"isWaiting",_,o(e)),i(e,"listOfSlotsExpectedToMove",N,o(e)),i(e,"turnSorting",j,o(e)),i(e,"currentMovement",B,o(e)),i(e,"towers",I,o(e)),i(e,"placedSlotQueue",V,o(e)),e.lastPlacedSlot=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){p.set(this)},r.start=function(){this.hexGrid=p.get(u)},r.endLevel=function(){this.currentMovement=null,this.listOfSlotsExpectedToMove.clear(),this.turnSorting.clear(),this.towers.clear(),this.isWaiting=!1},r.startPlayerMovement=function(t){this.isWaiting||this.turnSorting.length>0?this.placedSlotQueue.push(t):(this.lastPlacedSlot=t,this.checkMovementAroundSlot(this.lastPlacedSlot))},r.checkMovementAroundSlot=function(t){t.getData();this.updateListOfSlotsExpectedToMove();var e=this.decideNextStackToMove(t);null!==e&&this.executeMovement(e)},r.executeMovement=function(t){var e=this;this.currentMovement=t,p.get(u).moveTopPiecesToSlot(this.currentMovement.initialHex,this.currentMovement.targetHex,(function(){return e.movementFinishedCallback(e.currentMovement)})),p.get(c).cancelTowerExplosion()},r.runRules=function(t,e){for(var i=null,n=null,o=this.defineRules(t,e),r=0;r<o.length;r++){var l=o[r];if(l.contition()){i=l.origin,n=l.target;break}}return new Z(i,n)},r.defineRules=function(t,e){var i=[],n=new q((function(){return t.isMultiColor()&&e.isSingleColor()}),t,e);i.push(n);var o=new q((function(){return!0}),e,t);return i.push(o),i},r.updateListOfSlotsExpectedToMove=function(){this.listOfSlotsExpectedToMove=[];for(var t=0;t<this.hexGrid.gridHeight;t++)for(var e=0;e<this.hexGrid.gridWidth;e++){var i=this.hexGrid.grid[t][e];i.data.isActiveSlot&&(i.updatePossibleNeighborMatches(),i.hasPossibleMatches&&this.listOfSlotsExpectedToMove.push(i))}this.createTurnSortingList(),this.turnSorting.sort((function(t,e){return e.colorAmount-t.colorAmount})),this.turnSorting.sort((function(t,e){return t.connections-e.connections}))},r.createTurnSortingList=function(){var t=p.get(e).turnSorting;t.clear();for(var i=p.get(e).listOfSlotsExpectedToMove,n=0;n<i.length;n++){for(var o=i[n],r=o.possibleMatches[0],l=!0,s=0;s<o.possibleMatches.length;s++){var a=o.possibleMatches[s];if(!a.possibleMatches.contains(r)&&a!=r){l=!1;break}}if(l){var u=new J;u.slot=o,u.connections=o.possibleMatches.length,u.colorAmount=o.getColorAmount(),t.push(u)}}t.length>1&&p.get(c).cancelTowerExplosion()},r.decideNextStackToMove=function(t){if(this.listOfSlotsExpectedToMove.length<=1)return this.movementFinishedCallback(null),null;if(2==this.listOfSlotsExpectedToMove.length){var e=this.turnSorting[0].slot,i=this.turnSorting[1].slot;this.lastPlacedSlot===this.turnSorting[1].slot&&(e=this.turnSorting[1].slot,i=this.turnSorting[0].slot);var n=this.runRules(e,i);this.executeMovement(n)}else if(1==this.turnSorting[0].connections){var o=this.turnSorting[0].slot,r=o.possibleMatches[0],l=new Z(o,r);this.executeMovement(l)}else{var s=this.turnSorting[0].slot,a=s.possibleMatches[0],u=new Z(s,a);this.executeMovement(u)}return null},r.movementFinishedCallback=function(t){this.lastPlacedSlot=this.placedSlotQueue.pop(),this.placedSlotQueue.clear(),this.turnSorting.length>0?this.checkMovementAroundSlot(this.turnSorting[0].slot):this.checkForTowers()},r.checkForTowers=function(){this.towers.clear();for(var t=!1,e=0;e<this.hexGrid.gridHeight;e++)for(var i=0;i<this.hexGrid.gridWidth;i++){var n=this.hexGrid.grid[e][i];n.data.isActiveSlot&&(n.isEmpty()?t=!0:null!=n.getTopStack()&&n.getTopStack().isColor&&n.getTopStack().amount>=10&&!n.isAnimationLocked&&this.towers.push(n))}t||0!=this.towers.length?p.get(c).updateTowers(this.towers):p.get(h).levelDefeat()},r.explodeAnimationStarted=function(){this.isWaiting=!0;for(var t=0;t<this.towers.length;t++)this.listOfSlotsExpectedToMove.remove(this.towers[t])},r.explodeAnimationEnded=function(t){var e;this.placedSlotQueue,length>0?(this.lastPlacedSlot=this.placedSlotQueue.pop(),this.placedSlotQueue.clear(),e=this.lastPlacedSlot):t.length>0&&(e=t[0]),null!=e&&this.checkMovementAroundSlot(e),this.isWaiting=!1},e}(s)).prototype,"hexGrid",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(F.prototype,"isWaiting",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=e(F.prototype,"listOfSlotsExpectedToMove",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(F.prototype,"turnSorting",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(F.prototype,"currentMovement",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(F.prototype,"towers",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(F.prototype,"placedSlotQueue",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=F))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialBoosterHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TutorialVisualFader.ts","./CommandSequence.ts","./MetagameBalance.ts"],(function(e){var t,i,n,o,r,a,s,l,u,p,c,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Enum,l=e.Node,u=e.Component},function(e){p=e.TutorialVisualFader},function(e){c=e.CommandSequence},function(e){d=e.BoosterType}],execute:function(){var h,m,g,f,y,b,v,C,H,T,F,z,q;r._RF.push({},"a17aawU499DmJEt9vLC0A1M","TutorialBoosterHelper",void 0);var w=a.ccclass,B=a.property;e("TutorialBoosterHelper",(h=w("TutorialBoosterHelper"),m=B({type:s(d)}),g=B({type:l,group:"Components"}),f=B({type:l,group:"Components"}),y=B({type:p,group:"Components"}),b=B({type:c,group:"Components"}),h((H=t((C=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"boosterType",H,o(t)),n(t,"target",T,o(t)),n(t,"currentHand",F,o(t)),n(t,"visualFader",z,o(t)),n(t,"sequence",q,o(t)),t.isInitialized=!1,t}i(t,e);var r=t.prototype;return r.start=function(){this.getComponentsStart()},r.getComponentsStart=function(){this.isInitialized||(this.currentHand||(this.currentHand=this.node),this.visualFader||(this.visualFader=this.getComponent(p)),this.sequence||(this.sequence=this.getComponent(c)),this.visualFader.initialize(),this.isInitialized=!0)},r.disableAnimation=function(){this.getComponentsStart(),console.log("TutorialBoosterHelper.disableAnimation: "+this.node.name),this.visualFader.fadeOutNode(),this.sequence.stopSequence()},r.enableAnimation=function(){this.getComponentsStart(),this.visualFader.fadeInNode(),this.sequence.playSequence()},r.hasTarget=function(){return this.target.active},r.updateHandPosition=function(){this.currentHand.worldPosition=this.target.worldPosition,console.log("TutorialBoosterHelper.TutorialVisualFader.fadeInNode() 3")},t}(u)).prototype,"boosterType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Hammer}}),T=t(C.prototype,"target",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(C.prototype,"currentHand",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"visualFader",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(C.prototype,"sequence",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./LevelController.ts","./BoostersController.ts","./UI_BoostersDisplay.ts","./env","./MetagameBalance.ts","./UI_PopupBoosterAD.ts","./Singleton.ts","./Wait.ts"],(function(t){var e,o,n,i,r,a,s,l,u,p,d,c,h,y,b,f,T,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.EventHandler,p=t.Enum,d=t.Component},null,function(t){c=t.LevelController},function(t){h=t.BoostersController},function(t){y=t.UI_BoostersDisplay},function(t){b=t.EDITOR_NOT_IN_PREVIEW},function(t){f=t.BoosterType},function(t){T=t.UI_PopupBoosterAD},function(t){m=t.Singleton},function(t){v=t.Wait}],execute:function(){var O,L,C,E,B,g,D,z,w,A,R,P,k,S,N,I,U,F,_,H,x,K,W,Y,M,j,G,V,q,J,Q,X,Z,$,tt,et,ot,nt,it,rt,at,st,lt,ut,pt,dt,ct,ht,yt,bt,ft,Tt,mt,vt,Ot,Lt,Ct,Et,Bt,gt,Dt,zt,wt,At,Rt,Pt,kt,St,Nt,It,Ut,Ft,_t,Ht,xt,Kt,Wt,Yt,Mt,jt,Gt,Vt,qt,Jt,Qt;s._RF.push({},"f3094KRcYlHSpK0oPvfKhBa","TutorialController",void 0);var Xt=l.ccclass,Zt=l.property,$t=(O=Xt("StartEvents"),L=Zt({type:[u],displayName:"On Level Started"}),C=Zt(),E=Zt({type:[u],displayName:"On Delayed Event"}),O((D=e((g=function(){function t(){n(this,"onLevelStarted",D,this),n(this,"delay",z,this),n(this,"onDelayedEvent",w,this)}var e=t.prototype;return e.levelLoadedEvents=function(){this.onLevelStarted.forEach((function(t){t.emit([])}))},e.delayedEvent=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.seconds(this.delay);case 2:this.onDelayedEvent.forEach((function(t){t.emit([])}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t}()).prototype,"onLevelStarted",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(g.prototype,"delay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=e(g.prototype,"onDelayedEvent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=g))||B),te=(A=Xt("OptionTrayEvents"),R=Zt(),P=Zt({type:[u],displayName:"On Tray Option 1 Clicked"}),k=Zt({type:[u],displayName:"On Tray Option 2 Clicked"}),S=Zt({type:[u],displayName:"On Tray Option 3 Clicked"}),N=Zt({type:[u],displayName:"On Tray Option 1 RESET"}),I=Zt({type:[u],displayName:"On Tray Option 2 RESET"}),U=Zt({type:[u],displayName:"On Tray Option 3 RESET"}),F=Zt({type:[u],displayName:"On Tray Option 1 PLACED"}),_=Zt({type:[u],displayName:"On Tray Option 2 PLACED"}),H=Zt({type:[u],displayName:"On Tray Option 3 PLACED"}),A((W=e((K=function(){function t(){n(this,"placedOptionsCount",W,this),n(this,"onTrayOptionA",Y,this),n(this,"onTrayOptionB",M,this),n(this,"onTrayOptionC",j,this),n(this,"onTrayOptionAReset",G,this),n(this,"onTrayOptionBReset",V,this),n(this,"onTrayOptionCReset",q,this),n(this,"onTrayOptionAPlaced",J,this),n(this,"onTrayOptionBPlaced",Q,this),n(this,"onTrayOptionCPlaced",X,this),this.onTrayOption1ClickedLambda=void 0,this.onTrayOption2ClickedLambda=void 0,this.onTrayOption3ClickedLambda=void 0,this.onTrayOption1ResetLambda=void 0,this.onTrayOption2ResetLambda=void 0,this.onTrayOption3ResetLambda=void 0,this.onTrayOptionAPlacedLambda=void 0,this.onTrayOptionBPlacedLambda=void 0,this.onTrayOptionCPlacedLambda=void 0}var e=t.prototype;return e.initialize=function(){var t=this;this.onTrayOption1ClickedLambda=function(){t.onTrayOptionA.forEach((function(t){t.emit([])}))},this.onTrayOption2ClickedLambda=function(){t.onTrayOptionB.forEach((function(t){t.emit([])}))},this.onTrayOption3ClickedLambda=function(){t.onTrayOptionC.forEach((function(t){t.emit([])}))},this.onTrayOption1ResetLambda=function(){t.onTrayOptionAReset.forEach((function(t,e){t.emit([])}))},this.onTrayOption2ResetLambda=function(){t.onTrayOptionBReset.forEach((function(t,e){t.emit([])}))},this.onTrayOption3ResetLambda=function(){t.onTrayOptionCReset.forEach((function(t,e){t.emit([])}))},this.onTrayOptionAPlacedLambda=function(){t.onTrayOptionAPlaced.forEach((function(t,e){t.emit([])}))},this.onTrayOptionBPlacedLambda=function(){t.onTrayOptionBPlaced.forEach((function(t,e){t.emit([])}))},this.onTrayOptionCPlacedLambda=function(){t.onTrayOptionCPlaced.forEach((function(t,e){t.emit([])}))}},e.trayPlacedCounter=function(){console.log("TutorialEvents.OptionTrayEvents.TrayPlacedCounter("+this.placedOptionsCount+" -> "+(this.placedOptionsCount+1)+")"),this.placedOptionsCount++,2==this.placedOptionsCount&&console.log("TutorialEvents.OptionTrayEvents.TrayPlacedCounter() FINISH TUTORIAL")},t}()).prototype,"placedOptionsCount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=e(K.prototype,"onTrayOptionA",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(K.prototype,"onTrayOptionB",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(K.prototype,"onTrayOptionC",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(K.prototype,"onTrayOptionAReset",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(K.prototype,"onTrayOptionBReset",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(K.prototype,"onTrayOptionCReset",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(K.prototype,"onTrayOptionAPlaced",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(K.prototype,"onTrayOptionBPlaced",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(K.prototype,"onTrayOptionCPlaced",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=K))||x),ee=(Z=Xt("BoosterEvents"),$=Zt({type:Boolean}),tt=Zt({type:p(f),visible:function(){return this.hasUnlimitedBooster}}),et=Zt({type:[u],displayName:"On ANY Booster Clicked"}),ot=Zt({type:[u],displayName:"On ANY Booster CANCELED"}),nt=Zt({type:[u],displayName:"On OTHER Booster Confirmed"}),it=Zt({type:[u],displayName:"On CORRECT Booster Confirmed"}),Z((st=e((at=function(){function t(){n(this,"hasUnlimitedBooster",st,this),n(this,"boosterType",lt,this),n(this,"onAnyBoosterClicked",ut,this),n(this,"onAnyBoosterCanceled",pt,this),n(this,"onOtherBoosterConfirmed",dt,this),n(this,"onCorrectBoosterConfirmed",ct,this),this.hasUsedBooster=[],this.onBoosterCanceledLambda=void 0,this.onBoosterConfirmedLambda=void 0,this.onBoosterClickedLambda=void 0}return t.prototype.initialize=function(){var t=this;this.hasUsedBooster=new Array(0);for(var e=0;e<3;e++)this.hasUsedBooster.push(!1);this.onBoosterClickedLambda=function(e){console.log("onBoosterClickedLambda called with number: "+e),2!==e&&t.onAnyBoosterClicked.forEach((function(t){t.emit([])}))},this.onBoosterCanceledLambda=function(e){console.log("onBoosterCanceledLambda called with number: "+e),t.hasUsedBooster[e]||t.onAnyBoosterCanceled.forEach((function(t){t.emit([])}))},this.onBoosterConfirmedLambda=function(e){t.hasUsedBooster[e]=!0,console.log("onBoosterConfirmedLambda called with number: "+e),e!=t.boosterType?t.onOtherBoosterConfirmed.forEach((function(t){t.emit([])})):t.onCorrectBoosterConfirmed.forEach((function(t){t.emit([])}))}},t}()).prototype,"hasUnlimitedBooster",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lt=e(at.prototype,"boosterType",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Hammer}}),ut=e(at.prototype,"onAnyBoosterClicked",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=e(at.prototype,"onAnyBoosterCanceled",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=e(at.prototype,"onOtherBoosterConfirmed",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e(at.prototype,"onCorrectBoosterConfirmed",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=at))||rt),oe=(ht=Xt("TutorialEvents"),yt=Zt(),bt=Zt({type:Boolean}),ft=Zt({type:$t,visible:function(){return this.hasStartEvents}}),Tt=Zt({type:Boolean}),mt=Zt({type:te,visible:function(){return this.hasOptionTrayEvents}}),vt=Zt({type:Boolean}),Ot=Zt({type:ee,visible:function(){return this.hasBoosterEvents}}),Lt=Zt({type:[u],displayName:"On Tutorial Finished"}),ht((Bt=e((Et=function(){function t(){n(this,"level",Bt,this),n(this,"hasStartEvents",gt,this),n(this,"startEvents",Dt,this),n(this,"hasOptionTrayEvents",zt,this),n(this,"optionTray",wt,this),n(this,"hasBoosterEvents",At,this),n(this,"boosterEvents",Rt,this),n(this,"onTutorialFinished",Pt,this)}var e=t.prototype;return e.initializeTutorial=function(){null!==this.optionTray&&this.optionTray.initialize(),null!==this.boosterEvents&&this.boosterEvents.initialize()},e.startTutorial=function(){this.startEvents&&(this.startEvents.levelLoadedEvents(),this.startEvents.delayedEvent())},e.finishTutorial=function(){this.onTutorialFinished.forEach((function(t){t.emit([])}))},t}()).prototype,"level",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gt=e(Et.prototype,"hasStartEvents",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dt=e(Et.prototype,"startEvents",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=e(Et.prototype,"hasOptionTrayEvents",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wt=e(Et.prototype,"optionTray",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=e(Et.prototype,"hasBoosterEvents",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rt=e(Et.prototype,"boosterEvents",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=e(Et.prototype,"onTutorialFinished",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=Et))||Ct);t("TutorialController",(kt=Xt("TutorialController"),St=Zt({type:Boolean}),Nt=Zt({type:[oe]}),It=Zt({type:Boolean,group:"runtime"}),Ut=Zt({type:Number,group:"runtime"}),Ft=Zt({type:oe,group:"runtime"}),_t=Zt({type:c,group:"runtime"}),Ht=Zt({type:y,group:"runtime"}),xt=Zt({type:T,group:"runtime"}),kt((Yt=e((Wt=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"forceDisableTutorials",Yt,i(e)),e.currentId=1,n(e,"levels",Mt,i(e)),n(e,"hasTutorial",jt,i(e)),n(e,"currentTutorial",Gt,i(e)),n(e,"currentLevel",Vt,i(e)),n(e,"levelControl",qt,i(e)),n(e,"boosterDisplay",Jt,i(e)),n(e,"boosterAD",Qt,i(e)),e.onLevelStarted=void 0,e.onLevelLoaded=void 0,e.onTestLambda=void 0,e}o(e,t);var r=e.prototype;return r.onLoad=function(){m.set(this)},r.start=function(){var t=this;this.onLevelStarted=function(e){t.handleOnLevelStarted(e)},this.onLevelLoaded=function(e){t.handleOnLevelLoaded(e)},this.levelControl=m.get(c),this.boosterDisplay=m.get(y),this.boosterAD=m.get(T),this.levelControl.onLevelStarted.addListener(this.onLevelStarted),this.levelControl.onLevelLoaded.addListener(this.onLevelLoaded)},r.handleOnLevelLoaded=function(t){this.currentTutorial=t,this.currentId=this.checkForTutorial(this.currentTutorial),this.hasTutorial=-1!==this.currentId,this.forceDisableTutorials&&!b||this.hasTutorial||(this.currentLevel=null)},r.handleOnLevelStarted=function(t){this.hasTutorial&&(this.currentLevel=this.levels[this.currentId],this.applyTutorialEvents(this.currentLevel),this.startTutorial(this.currentLevel))},r.startTutorial=function(t){t.startTutorial()},r.applyTutorialEvents=function(t){t.initializeTutorial(),t.hasOptionTrayEvents&&(this.levelControl.optionsTray.dragOptions[0].onDragStart.addListener(t.optionTray.onTrayOption1ClickedLambda),this.levelControl.optionsTray.dragOptions[1].onDragStart.addListener(t.optionTray.onTrayOption2ClickedLambda),this.levelControl.optionsTray.dragOptions[2].onDragStart.addListener(t.optionTray.onTrayOption3ClickedLambda),this.levelControl.optionsTray.dragOptions[0].onReset.addListener(t.optionTray.onTrayOption1ResetLambda),this.levelControl.optionsTray.dragOptions[1].onReset.addListener(t.optionTray.onTrayOption2ResetLambda),this.levelControl.optionsTray.dragOptions[2].onReset.addListener(t.optionTray.onTrayOption3ResetLambda),this.levelControl.optionsTray.dragOptions[0].onDrop.addListener(t.optionTray.onTrayOptionAPlacedLambda),this.levelControl.optionsTray.dragOptions[1].onDrop.addListener(t.optionTray.onTrayOptionBPlacedLambda),this.levelControl.optionsTray.dragOptions[2].onDrop.addListener(t.optionTray.onTrayOptionCPlacedLambda)),t.hasBoosterEvents&&(t.boosterEvents.hasUnlimitedBooster&&m.get(h).setTutorialOverride(t.boosterEvents.boosterType),this.boosterDisplay.onBoosterClicked.addListener(t.boosterEvents.onBoosterClickedLambda),this.boosterDisplay.onBoosterCancel.addListener(t.boosterEvents.onBoosterCanceledLambda),this.boosterAD.onAdCanceled.addListener(t.boosterEvents.onBoosterCanceledLambda),this.boosterAD.onAdFinished.addListener(t.boosterEvents.onBoosterCanceledLambda),this.boosterDisplay.onBoosterConfirmed.addListener(t.boosterEvents.onBoosterConfirmedLambda))},r.checkForTutorial=function(t){for(var e=0;e<this.levels.length;e++){if(this.levels[e].level===t)return e}return-1},r.endTutorial=function(){this.hasTutorial&&(this.currentLevel.finishTutorial(),this.removeTutorialEvents(this.currentLevel))},r.pauseTutorial=function(){this.hasTutorial&&this.currentLevel.finishTutorial()},r.restartTutorial=function(){this.hasTutorial&&this.startTutorial(this.currentLevel)},r.removeTutorialEvents=function(t){null!==t&&(t.hasOptionTrayEvents&&(this.levelControl.optionsTray.dragOptions[0].onDragStart.removeListener(t.optionTray.onTrayOption1ClickedLambda),this.levelControl.optionsTray.dragOptions[1].onDragStart.removeListener(t.optionTray.onTrayOption2ClickedLambda),this.levelControl.optionsTray.dragOptions[2].onDragStart.removeListener(t.optionTray.onTrayOption3ClickedLambda),this.levelControl.optionsTray.dragOptions[0].onDrop.removeListener(t.optionTray.onTrayOptionAPlacedLambda),this.levelControl.optionsTray.dragOptions[1].onDrop.removeListener(t.optionTray.onTrayOptionBPlacedLambda),this.levelControl.optionsTray.dragOptions[2].onDrop.removeListener(t.optionTray.onTrayOptionCPlacedLambda)),t.hasBoosterEvents&&(t.boosterEvents.hasUnlimitedBooster&&m.get(h).removeTutorialOverrides(),this.boosterDisplay.onBoosterClicked.removeListener(t.boosterEvents.onBoosterClickedLambda),this.boosterDisplay.onBoosterCancel.removeListener(t.boosterEvents.onBoosterCanceledLambda),this.boosterAD.onAdCanceled.removeListener(t.boosterEvents.onBoosterCanceledLambda),this.boosterAD.onAdFinished.removeListener(t.boosterEvents.onBoosterCanceledLambda),this.boosterDisplay.onBoosterConfirmed.removeListener(t.boosterEvents.onBoosterConfirmedLambda)))},e}(d)).prototype,"forceDisableTutorials",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mt=e(Wt.prototype,"levels",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=e(Wt.prototype,"hasTutorial",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gt=e(Wt.prototype,"currentTutorial",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vt=e(Wt.prototype,"currentLevel",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=e(Wt.prototype,"levelControl",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(Wt.prototype,"boosterDisplay",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(Wt.prototype,"boosterAD",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=Wt))||Kt));s._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialLevel1Helper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TutorialPathDrawer.ts","./TutorialVisualFader.ts","./OptionsTray.ts","./HexGridController.ts","./index2.ts","./Singleton.ts","./Wait.ts"],(function(e){var t,i,r,a,o,n,l,s,u,c,h,p,d,f,v,g,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.EventHandler,h=e.Node,p=e.Component},function(e){d=e.TutorialPathDrawer},function(e){f=e.TutorialVisualFader},function(e){v=e.OptionsTray},function(e){g=e.HexGridController},null,function(e){b=e.Singleton},function(e){m=e.Wait}],execute:function(){var y,w,S,C,T,x,H,O,M,F,A,D,P,I,k,L,z,V,N,E,G,R,W;s._RF.push({},"33fffE+OY9M+YdJnL/cEJVQ","TutorialLevel1Helper",void 0);var _=u.ccclass,J=u.property;e("TutorialLevel1Helper",(y=_("TutorialLevel1Helper"),w=J(),S=J({type:[Number]}),C=J(),T=J(),x=J(),H=J(),O=J({type:[c],displayName:"On Max Placed options"}),M=J({type:[h],group:"Components"}),F=J({type:[d],group:"Components"}),A=J({type:[f],group:"Components"}),y((I=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"isHoldingPiece",I,a(t)),r(t,"availableIds",k,a(t)),r(t,"tray",L,a(t)),r(t,"hexGrid",z,a(t)),r(t,"placedOptionsCount",V,a(t)),r(t,"maxPlacedOptions",N,a(t)),r(t,"onMaxOptionsReached",E,a(t)),r(t,"tutorialCanvas",G,a(t)),r(t,"pathDrawers",R,a(t)),r(t,"visualFaders",W,a(t)),t.finished=!1,t.gridHeight=0,t.gridWidth=0,t.grid=[],t}i(t,e);var s=t.prototype;return s.start=function(){this.tray=b.get(v),this.hexGrid=b.get(g),this.delay()},s.delay=function(){var e=n(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.seconds(.1);case 2:this.grid=this.hexGrid.grid,this.gridHeight=this.hexGrid.gridHeight,this.gridWidth=this.hexGrid.gridWidth;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.firstSlotSelection=function(){console.log("TutorialLevel1Helper.firstSlotSelection()"),0===this.placedOptionsCount&&(this.shuffleArray(this.availableIds),this.selectValidSlot())},s.selectValidSlot=function(){var e=n(l().mark((function e(t){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=.01),!this.finished){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m.seconds(t);case 5:i=this.generateValidSlot(),this.selectSlotInternal(i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.generateValidSlot=function(){return this.shuffleArray(this.availableIds),this.availableIds[0]},s.getIdColor=function(e){return this.tray.hexOptions[e].getTopStack().pieceColor},s.selectSlotInternal=function(e){console.log("TutorialLevel1Helper.selectSlot("+e+")");var t=e-1,i=this.getIdColor(t);this.placedOptionsCount,this.pathDrawers[t].toggleForceTrackCenter(!1);for(var r=0;r<this.pathDrawers.length;r++){var a=this.pathDrawers[r],o=this.visualFaders[r];r==t?(a.refreshMovement(i),o.fadeInNode()):(a.stopMoving(),o.disableNode())}},s.clickAnySlot=function(){this.isHoldingPiece=!0;for(var e=0;e<this.pathDrawers.length;e++){var t=this.pathDrawers[e],i=this.visualFaders[e];t.stopMoving(),i.disableNode()}},s.confirmSlot=function(e){console.log("TutorialLevel1Helper.confirmSlot("+e+")"),this.isHoldingPiece=!0;var t=e-1,i=this.pathDrawers[t],r=this.visualFaders[t];i.stopMoving(),r.fadeOutNode(),this.placedOptionsCount++,this.removeFromAvailable(e),this.placedOptionsCount>=this.maxPlacedOptions?(this.finished=!0,this.deselectOthers(),this.onMaxOptionsReached.forEach((function(e){e.emit([])}))):this.selectValidSlot(.75)},s.removeFromAvailable=function(e){for(var t=0;t<this.availableIds.length;t++){var i=Number(this.availableIds[t]);if(console.log("TutorialLevel1Helper.removeFromAvailable() is ["+e+"]==["+i+"]"),i===Number(e)){this.availableIds.remove(i);break}}},s.resetSlot=function(){console.log('TutorialLevel1Helper.ResetSlot"'),this.isHoldingPiece=!1,this.selectValidSlot(.25)},s.deselectOthers=function(){for(var e=0;e<this.pathDrawers.length;e++){var t=this.pathDrawers[e],i=this.visualFaders[e];t.stopMoving(),i.disableNode(),this.tutorialCanvas.active=!1,this.pathDrawers[e].node.active=!1,this.visualFaders[e].node.active=!1}},s.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),r=[e[i],e[t]];e[t]=r[0],e[i]=r[1]}return e},s.getValidTutorialPlacementPosition=function(e){var t=this.grid[2][3],i=[];if(e)return t;t.isEmpty()&&i.push(t);for(var r,a=o(t.neighbor.allActive);!(r=a()).done;){var n=r.value;n.isEmpty()&&n.data.isActiveSlot&&i.push(n)}return i[Math.floor(Math.random()*i.length)]},s.getValidTutorialMergePosition=function(e){var t=[],i=this.findStacksOfColor(e),r=null;if(0===i.length)return null;if((r=i[0]).isTower()||r.isAnimationLocked)return null;for(var a,n=o(r.neighbor.allActive);!(a=n()).done;){var l=a.value;l.isEmpty()&&l.data.isActiveSlot&&t.push(l)}return t[Math.floor(Math.random()*t.length)]},s.tutorialCheckForAnotherMerge=function(e,t,i){for(var r,a=o(e.neighbor.allActive);!(r=a()).done;){var n=r.value;if(!n.isEmpty()&&n.data.isActiveSlot&&n!==t){var l=n.getTopStack();if(l.isColor&&l.pieceColor===i)return!0}}return!1},s.findStacksOfColor=function(e){for(var t=[],i=0;i<this.gridHeight;i++)for(var r=0;r<this.gridWidth;r++){var a=this.grid[i][r];if(!a.isEmpty()){var o=a.getTopStack();o.isColor&&o.pieceColor===e&&t.push(a)}}return t},t}(p)).prototype,"isHoldingPiece",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=t(P.prototype,"availableIds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(P.prototype,"tray",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"hexGrid",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(P.prototype,"placedOptionsCount",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(P.prototype,"maxPlacedOptions",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),E=t(P.prototype,"onMaxOptionsReached",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(P.prototype,"tutorialCanvas",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(P.prototype,"pathDrawers",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(P.prototype,"visualFaders",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=P))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialPathDrawer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexGridController.ts","./index2.ts","./TutorialLevel1Helper.ts","./OptionsTray.ts","./Singleton.ts"],(function(e){var t,i,n,r,o,l,a,s,u,c,h,p,g,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.EventHandler,s=e.Node,u=e.tween,c=e.MeshRenderer,h=e.Component},function(e){p=e.HexGridController},null,function(e){g=e.TutorialLevel1Helper},function(e){b=e.OptionsTray},function(e){d=e.Singleton}],execute:function(){var f,w,m,v,y,O,T,P,M,j,C,S,z,E,D,R,x,k,H,G,L,q,B,I,N,F,_,V,A;o._RF.push({},"d87cb4SGXlLxJcgABGaHbqE","TutorialPathDrawer",void 0);var J=l.ccclass,X=l.property;e("TutorialPathDrawer",(f=J("TutorialPathDrawer"),w=X({type:Boolean}),m=X({type:Boolean}),v=X({type:Boolean}),y=X({type:Number}),O=X({type:Number}),T=X({type:[a],displayName:"On Movement Start"}),P=X({type:[a],displayName:"On Movement Stopped"}),M=X({type:s,group:"Components"}),j=X({type:s,group:"Components"}),C=X({type:s,group:"Components"}),S=X({type:p,group:"Runtime"}),z=X({type:g,group:"Runtime"}),E=X({type:b,group:"Runtime"}),f((x=t((R=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"runOnEnable",x,r(t)),n(t,"showTrackers",k,r(t)),n(t,"forceTrackCenter",H,r(t)),n(t,"duration",G,r(t)),n(t,"waitDuration",L,r(t)),n(t,"onMovementStart",q,r(t)),n(t,"onMovementStopped",B,r(t)),n(t,"movingObj",I,r(t)),n(t,"originObj",N,r(t)),n(t,"targetObj",F,r(t)),t.currentTween=null,n(t,"hexGrid",_,r(t)),n(t,"level1",V,r(t)),n(t,"tray",A,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.runOnEnable,this.hexGrid=d.get(p),this.tray=d.get(b),this.level1=d.get(g),this.showTrackers?(this.setMeshRendererEnabled(this.movingObj,!0),this.setMeshRendererEnabled(this.originObj,!0),this.setMeshRendererEnabled(this.targetObj,!0)):(this.setMeshRendererEnabled(this.movingObj,!1),this.setMeshRendererEnabled(this.originObj,!1),this.setMeshRendererEnabled(this.targetObj,!1))},o.refreshMovement=function(e){console.log("TutorialLevel1Helper.TutorialPathDrawer.refreshMovement("+e+")"),this.stopMoving(),this.startMoving(e)},o.startMoving=function(e){if(this.movingObj&&this.originObj&&this.targetObj){if(console.log("TutorialLevel1Helper.TutorialPathDrawer.startMoving("+e+")"),this.onMovementStart.forEach((function(e){e.emit([])})),null!=this.hexGrid){var t,i=this.level1.getValidTutorialPlacementPosition(this.forceTrackCenter),n=i.node.worldPosition;if(t=this.findMatchingColor(e),!this.forceTrackCenter&&t){var r=this.level1.getValidTutorialMergePosition(e);null!=r?(n=r.node.worldPosition,d.get(p).selectSlot(r,!0)):d.get(p).selectSlot(i,!0)}else d.get(p).selectSlot(i,!0);this.targetObj.worldPosition=n}this.movingObj.worldPosition=this.originObj.worldPosition.clone(),console.log("TutorialLevel1Helper.TutorialPathDrawer.startMoving("+e+") 2"),this.currentTween=u(this.movingObj).to(this.waitDuration,{worldPosition:this.originObj.worldPosition.clone()},{easing:"quadInOut"}).to(this.duration,{worldPosition:this.targetObj.worldPosition.clone()},{easing:"quadInOut"}).to(this.waitDuration,{worldPosition:this.targetObj.worldPosition.clone()},{easing:"quadInOut"}).to(0,{worldPosition:this.originObj.worldPosition.clone()},{easing:"quadInOut"}).union().repeatForever().start()}},o.findMatchingColor=function(e){for(var t=0;t<this.tray.hexOptions.length;t++){if(!this.tray.hexOptions[t].isEmpty())if(e=this.tray.hexOptions[t].getTopStack().pieceColor,null!==this.level1.getValidTutorialMergePosition(e))return!0}return!1},o.stopMoving=function(){this.currentTween&&(this.currentTween.stop(),this.currentTween=null,this.movingObj.worldPosition=this.originObj.worldPosition.clone(),this.onMovementStopped.forEach((function(e){e.emit([])})))},o.updateTargetPosition=function(e){null!==this.targetObj&&(this.targetObj.worldPosition=e)},o.toggleForceTrackCenter=function(e){this.forceTrackCenter=e},o.setMeshRendererEnabled=function(e,t){null!==e&&(e.getComponent(c).enabled=t)},t}(h)).prototype,"runOnEnable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=t(R.prototype,"showTrackers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=t(R.prototype,"forceTrackCenter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G=t(R.prototype,"duration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=t(R.prototype,"waitDuration",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),q=t(R.prototype,"onMovementStart",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(R.prototype,"onMovementStopped",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(R.prototype,"movingObj",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(R.prototype,"originObj",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"targetObj",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"hexGrid",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(R.prototype,"level1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(R.prototype,"tray",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=R))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialVisualFader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TutorialBoosterHelper.ts","./index2.ts","./Wait.ts"],(function(e){var t,i,n,o,r,a,l,u,s,p,c,d,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,s=e.EventHandler,p=e.UIOpacity,c=e.tween,d=e.Component},function(e){h=e.TutorialBoosterHelper},null,function(e){f=e.Wait}],execute:function(){var y,m,b,C,F,g,v,T,z,w,H,I,N,O,B,x,D,V,A;l._RF.push({},"36dbfLMEGxA9oKynKeKxEby","TutorialVisualFader",void 0);var k=u.ccclass,E=u.property;e("TutorialVisualFader",(y=k("TutorialVisualFader"),m=E({type:Boolean}),b=E({type:Boolean}),C=E({type:Number,visible:function(){return this.hasFade}}),F=E({type:[s],displayName:"On Fade In Completed",visible:function(){return this.hasFade}}),g=E({type:Number,visible:function(){return this.hasFade}}),v=E({type:[s],displayName:"On Fade Out Completed",visible:function(){return this.hasFade}}),T=E({type:h,group:"Components"}),z=E({type:p,group:"Runtime"}),y((I=t((H=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"hasFade",I,o(t)),n(t,"hasHelper",N,o(t)),n(t,"fadeInDuration",O,o(t)),n(t,"onFadeInCompleted",B,o(t)),n(t,"fadeOutDuration",x,o(t)),n(t,"onFadeOutCompleted",D,o(t)),n(t,"helper",V,o(t)),n(t,"opacityComp",A,o(t)),t}i(t,e);var l=t.prototype;return l.start=function(){this.initialize()},l.initialize=function(){this.opacityComp||(this.opacityComp=this.node.getComponent(p)),null===this.opacityComp&&(this.node.addComponent(p),this.opacityComp=this.node.getComponent(p)),this.hasHelper&&(this.helper||(this.helper=this.node.getComponent(h)))},l.enableNode=function(){this.node.active=!0},l.disableNode=function(){this.node.active=!1},l.fadeInNode=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("TutorialBoosterHelper.TutorialVisualFader.fadeInNode()"),this.initialize(),this.opacityComp.opacity=0,this.node.active=!0,this.node.parent.active){e.next=6;break}return e.abrupt("return");case 6:if(null===this.helper){e.next=12;break}return console.log("TutorialBoosterHelper.TutorialVisualFader.fadeInNode() this.helper!==null"),e.next=10,f.seconds(1);case 10:console.log("TutorialBoosterHelper.TutorialVisualFader.fadeInNode() 2"),this.helper.updateHandPosition();case 12:this.setAlpha();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.setAlpha=function(){console.log("TutorialBoosterHelper.TutorialVisualFader.setAlpha() "+this.node.name),this.opacityComp.opacity=255},l.fadeOutNode=function(){var e=this;this.initialize(),this.opacityComp.opacity=255,c(this.opacityComp).to(this.fadeOutDuration,{opacity:0}).call((function(){e.onFadeOutCompleted.forEach((function(e){e.emit([])}))})).start()},t}(d)).prototype,"hasFade",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(H.prototype,"hasHelper",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=t(H.prototype,"fadeInDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),B=t(H.prototype,"onFadeInCompleted",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(H.prototype,"fadeOutDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),D=t(H.prototype,"onFadeOutCompleted",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(H.prototype,"helper",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(H.prototype,"opacityComp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=H))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/tweenMovementTests.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,s,l,c,u,p,f,b,v,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,c=e._decorator,u=e.Node,p=e.math,f=e.tween,b=e.Component,v=e.RealCurve,d=e.director}],execute:function(){var g,m,h,y,w,j,P,M,T,C,O;l._RF.push({},"80de0r4uf9CMZOrMJndCW94","tweenMovementTests",void 0);var x=c.ccclass,z=c.property;e("tweenMovementTests",(g=x("tweenMovementTests"),m=z({type:u,group:"Components"}),h=z({type:[u],group:"Components"}),y=z({type:u,group:"Components"}),g((P=t((j=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"realCurve",P,r(t)),o(t,"duration",M,r(t)),o(t,"singleObj",T,r(t)),o(t,"objects",C,r(t)),o(t,"targetNode",O,r(t)),t}n(t,e);var l=t.prototype;return l.start=function(){var e=this;this.moveObjectsToPosition(this.objects,this.targetNode.worldPosition,this.duration,(function(){return e.afterAnimationMethod()}))},l.moveObjectsToPosition=function(){var e=i(a().mark((function e(t,n,o,r){var i,l,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=s(t);case 1:if((l=i()).done){e.next=11;break}return c=l.value,console.log("Moving object: "+c.name),u=c.worldPosition.clone(),c.setParent(d.getScene()),n.y+=.1,e.next=9,this.moveObjectToPosition(c,u,n,o);case 9:e.next=1;break;case 11:console.log("All objects have been moved in sequence."),r&&r();case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,o,r){return e.apply(this,arguments)}}(),l.moveObjectToPosition=function(e,t,n,o){var r=n.clone();r.x=p.lerp(t.x,n.x,.75),r.y+=.3;var i=e.eulerAngles.clone();return i.z-=180,new Promise((function(a){e.setWorldPosition(t),f(e).parallel(f().to(.75*o,{worldPosition:r},{easing:"quadOut"}).to(.25*o,{worldPosition:n},{easing:"quadIn"}),f().to(o,{eulerAngles:i},{easing:"linear"})).call((function(){return a()})).start()}))},l.afterAnimationMethod=function(){console.log("afterAnimationMethod() All objects have been moved in sequence.")},t}(b)).prototype,"realCurve",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v}}),M=t(j.prototype,"duration",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=t(j.prototype,"singleObj",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(j.prototype,"objects",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(j.prototype,"targetNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=j))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/TweenPositionCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncCommand.ts","./CommandDecorator.ts"],(function(e){var t,n,r,o,i,a,u,s,c,l,p,d,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,c=e.RealCurve,l=e.Node,p=e.Vec3,d=e.tween},function(e){f=e.AsyncCommand},function(e){m=e.commandclass}],execute:function(){var g,y,T,w,b,v,h,C,P,A,z,N,F;u._RF.push({},"5a861RJ+3dHT7Q8Bt15LCPn","TweenPositionCommand",void 0);s.ccclass;var R=s.property;e("TweenPositionCommand",(g=m("TweenPositionCommand"),y=R({type:c}),T=R({type:l}),w=R(),b=R({type:l,visible:function(){return this.useNodeAsTarget}}),v=R({visible:function(){return!this.useNodeAsTarget}}),g((P=t((C=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"easeCurve",P,o(t)),r(t,"nodeToTween",A,o(t)),r(t,"useNodeAsTarget",z,o(t)),r(t,"toTarget",N,o(t)),r(t,"targetPosition",F,o(t)),t}return n(t,e),t.prototype.execute=function(){var e=i(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.useNodeAsTarget?t.toTarget.position:t.targetPosition;d(t.nodeToTween).to(t.duration,{position:n},{easing:function(e){return t.easeCurve.evaluate(e)}}).call((function(){console.log("Tween position completed"),e()})).start(),t.waitUntilFinished||e()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"easeCurve",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=new c).addKeyFrame(0,0),e.addKeyFrame(1,1),e;var e}}),A=t(C.prototype,"nodeToTween",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"useNodeAsTarget",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(C.prototype,"toTarget",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"targetPosition",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),h=C))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/TweenRotationCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncCommand.ts","./CommandDecorator.ts"],(function(e){var t,n,r,o,a,i,u,c,s,l,p,d,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.RealCurve,l=e.Node,p=e.Vec3,d=e.tween},function(e){f=e.AsyncCommand},function(e){m=e.commandclass}],execute:function(){var g,y,b,w,T,v,h,A,R,C,z,N,F;u._RF.push({},"d0a71iJRvtLaK+cOjbrsAA9","TweenRotationCommand",void 0);c.ccclass;var D=c.property;e("TweenRotationCommand",(g=m("TweenRotationCommand"),y=D({type:s}),b=D({type:l}),w=D(),T=D({type:l,visible:function(){return this.useNodeAsTarget}}),v=D({visible:function(){return!this.useNodeAsTarget}}),g((R=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"easeCurve",R,o(t)),r(t,"nodeToTween",C,o(t)),r(t,"useNodeAsTarget",z,o(t)),r(t,"toTarget",N,o(t)),r(t,"targetRotation",F,o(t)),t}return n(t,e),t.prototype.execute=function(){var e=a(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.useNodeAsTarget?t.toTarget.eulerAngles:t.targetRotation;d(t.nodeToTween).to(t.duration,{eulerAngles:n},{easing:function(e){return t.easeCurve.evaluate(e)}}).call((function(){e()})).start(),t.waitUntilFinished||e()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"easeCurve",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=new s).addKeyFrame(0,0),e.addKeyFrame(1,1),e;var e}}),C=t(A.prototype,"nodeToTween",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(A.prototype,"useNodeAsTarget",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(A.prototype,"toTarget",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(A.prototype,"targetRotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),h=A))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/TweenScaleCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncCommand.ts","./CommandDecorator.ts"],(function(e){var t,n,r,a,o,i,u,c,l,s,p,d,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,l=e.RealCurve,s=e.Node,p=e.Vec3,d=e.tween},function(e){f=e.AsyncCommand},function(e){m=e.commandclass}],execute:function(){var g,y,w,T,b,v,h,C,S,A,z,N,F;u._RF.push({},"59ee5ipcOlBY7geSJpHc/2i","TweenScaleCommand",void 0);c.ccclass;var D=c.property;e("TweenScaleCommand",(g=m("TweenScaleCommand"),y=D({type:l}),w=D({type:s}),T=D(),b=D({type:s,visible:function(){return this.useNodeAsTarget}}),v=D({visible:function(){return!this.useNodeAsTarget}}),g((S=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"easeCurve",S,a(t)),r(t,"nodeToTween",A,a(t)),r(t,"useNodeAsTarget",z,a(t)),r(t,"toTarget",N,a(t)),r(t,"targetScale",F,a(t)),t}return n(t,e),t.prototype.execute=function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.useNodeAsTarget?t.toTarget.scale:t.targetScale;d(t.nodeToTween).to(t.duration,{scale:n},{easing:function(e){return t.easeCurve.evaluate(e)}}).call((function(){console.log("Tween scale completed"),e()})).start(),t.waitUntilFinished||e()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(f)).prototype,"easeCurve",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=new l).addKeyFrame(0,0),e.addKeyFrame(1,1),e;var e}}),A=t(C.prototype,"nodeToTween",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"useNodeAsTarget",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(C.prototype,"toTarget",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"targetScale",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),h=C))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/TweenSequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Wait.ts"],(function(e){var t,n,i,r,a,o,s,u,l,c,p,g,h,d,f,b,w,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,s=e.regeneratorRuntime,u=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,c=e._decorator,p=e.Enum,g=e.RealCurve,h=e.Node,d=e.EventHandler,f=e.Vec3,b=e.Component,w=e.tween},null,function(e){y=e.Wait}],execute:function(){var T,v,S,A,N,m,q,V,z,C,k,P,x,E,O,F,R,_,W,U,D,j,H,I,L,M,K,B,G,Y;l._RF.push({},"e35b6aVV7lFibMdNCj8qoiy","TweenSequence",void 0);var J=c.ccclass,Q=c.property,X=c.executeInEditMode,Z=function(e){return e[e.None=0]="None",e[e.Wait=1]="Wait",e[e.Position=2]="Position",e[e.Scale=3]="Scale",e[e.Rotation=4]="Rotation",e[e.Angle=5]="Angle",e}(Z||{}),$=e("Tween",(T=J("Tween"),v=Q({type:p(Z)}),S=Q({visible:function(){return this.tweenType!=Z.None}}),A=Q({visible:function(){return this.tweenType!=Z.None&&this.tweenType!=Z.Wait}}),N=Q({type:g,visible:function(){return this.tweenType!=Z.None&&this.tweenType!=Z.Wait}}),m=Q({visible:function(){return this.canUseNodeAsTarget()}}),q=Q({type:h,visible:function(){return this.useNodeAsTarget&&this.canUseNodeAsTarget()}}),V=Q({visible:function(){return!this.useNodeAsTarget&&(this.tweenType==Z.Position||this.tweenType==Z.Scale||this.tweenType==Z.Rotation)}}),z=Q({visible:function(){return!this.useNodeAsTarget&&this.tweenType==Z.Angle}}),T((P=t((k=function(){function e(){i(this,"tweenType",P,this),i(this,"duration",x,this),i(this,"waitUntilFinished",E,this),i(this,"easeCurve",O,this),i(this,"useNodeAsTarget",F,this),i(this,"targetNode",R,this),i(this,"targetVec3",_,this),i(this,"targetAngle",W,this)}return e.prototype.canUseNodeAsTarget=function(){return this.tweenType==Z.Position||this.tweenType==Z.Scale||this.tweenType==Z.Rotation||this.tweenType==Z.Angle},e}()).prototype,"tweenType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.None}}),x=t(k.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),E=t(k.prototype,"waitUntilFinished",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=t(k.prototype,"easeCurve",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=new g).addKeyFrame(0,0),e.addKeyFrame(1,1),e;var e}}),F=t(k.prototype,"useNodeAsTarget",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(k.prototype,"targetNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(k.prototype,"targetVec3",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(1,1,1)}}),W=t(k.prototype,"targetAngle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=k))||C));e("TweenSequence",(U=J("TweenSequence"),D=Q({type:p(Z)}),j=Q({type:p(Z)}),H=Q({type:[$],visible:function(){return this.tweenSequence.length>0}}),I=Q({type:[d],visible:function(){return this.tweenSequence.length>0}}),U(L=X((K=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"playOnEnable",K,r(t)),i(t,"_addToSequence",B,r(t)),i(t,"tweenSequence",G,r(t)),i(t,"onSequenceComplete",Y,r(t)),t.originalValuesSet=!1,t.originalPosition=new f,t.originalScale=new f,t.originalEuler=new f,t.originalAngle=0,t}n(t,e);var l=t.prototype;return l.onEnable=function(){this.cacheOriginalValues(),this.playOnEnable&&this.playTween()},l.cacheOriginalValues=function(){this.originalValuesSet||(this.originalValuesSet=!0,this.originalAngle=this.node.angle,this.originalPosition.set(this.node.position),this.originalScale.set(this.node.scale),this.originalEuler.set(this.node.eulerAngles))},l.resetToOriginalValues=function(){this.cacheOriginalValues(),this.node.angle=this.originalAngle,this.node.position=this.originalPosition,this.node.scale=this.originalScale,this.node.eulerAngles=this.originalEuler},l.playTween=function(){var e=o(s().mark((function e(){var t,n,i,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s().mark((function e(){var t,n,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.value,e.t0=t.tweenType,e.next=e.t0===Z.Position?4:e.t0===Z.Scale?7:e.t0===Z.Rotation?10:e.t0===Z.Angle?13:16;break;case 4:return n=t.useNodeAsTarget?t.targetNode.position:t.targetVec3,w(r.node).to(t.duration,{position:n},{easing:function(e){return t.easeCurve.evaluate(e)}}).start(),e.abrupt("break",16);case 7:return a=t.useNodeAsTarget?t.targetNode.scale:t.targetVec3,w(r.node).to(t.duration,{scale:a},{easing:function(e){return t.easeCurve.evaluate(e)}}).start(),e.abrupt("break",16);case 10:return o=t.useNodeAsTarget?t.targetNode.eulerAngles:t.targetVec3,w(r.node).to(t.duration,{eulerAngles:o},{easing:function(e){return t.easeCurve.evaluate(e)}}).start(),e.abrupt("break",16);case 13:return u=t.useNodeAsTarget?t.targetNode.angle:t.targetAngle,w(r.node).to(t.duration,{angle:u},{easing:function(e){return t.easeCurve.evaluate(e)}}).start(),e.abrupt("break",16);case 16:if(t.tweenType!==Z.Wait&&!t.waitUntilFinished){e.next=19;break}return e.next=19,y.seconds(t.duration);case 19:case"end":return e.stop()}}),e)})),n=u(this.tweenSequence);case 2:if((i=n()).done){e.next=6;break}return e.delegateYield(t(),"t0",4);case 4:e.next=2;break;case 6:this.onSequenceComplete.emit([]);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a(t,[{key:"addToSequence",get:function(){return this._addToSequence},set:function(e){var t=new $;t.tweenType=e,this.tweenSequence.push(t),this._addToSequence=Z.None}}]),t}(b)).prototype,"playOnEnable",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=t(M.prototype,"_addToSequence",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.None}}),t(M.prototype,"addToSequence",[j],Object.getOwnPropertyDescriptor(M.prototype,"addToSequence"),M.prototype),G=t(M.prototype,"tweenSequence",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(M.prototype,"onSequenceComplete",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d}}),L=M))||L)||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/TweenTransformCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncCommand.ts","./CommandDecorator.ts"],(function(e){var n,r,t,a,o,i,u,s,c,l,p,f,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,c=e.RealCurve,l=e.Node,p=e.tween},function(e){f=e.AsyncCommand},function(e){m=e.commandclass}],execute:function(){var d,T,v,g,y,w,C,b,h;u._RF.push({},"45ea6UjKI5CBIGwlE7Af6c6","TweenTransformCommand",void 0);s.ccclass;var A=s.property;e("TweenTransformCommand",(d=m("TweenTransformCommand"),T=A({type:c}),v=A({type:l}),g=A({type:l,visible:function(){return this.useNodeAsTarget}}),d((C=n((w=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,t(n,"easeCurve",C,a(n)),t(n,"nodeToTween",b,a(n)),t(n,"toTarget",h,a(n)),n}return r(n,e),n.prototype.execute=function(){var e=o(i().mark((function e(){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=n.toTarget.position,t=n.toTarget.scale,a=n.toTarget.eulerAngles;p(n.nodeToTween).parallel(p().to(n.duration,{position:r},{easing:function(e){return n.easeCurve.evaluate(e)}}),p().to(n.duration,{scale:t},{easing:function(e){return n.easeCurve.evaluate(e)}}),p().to(n.duration,{eulerAngles:a},{easing:function(e){return n.easeCurve.evaluate(e)}})).call((function(){console.log("Tween transform completed"),e()})).start(),n.waitUntilFinished||e()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(f)).prototype,"easeCurve",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=new c).addKeyFrame(0,0),e.addKeyFrame(1,1),e;var e}}),b=n(w.prototype,"nodeToTween",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(w.prototype,"toTarget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=w))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/type.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"298c3IQrZBP6Lx7XE+N393z","type",void 0),e("ConcretePrecisionType",function(e){return e[e.Min=0]="Min",e[e.Max=1]="Max",e[e.Fixed=2]="Fixed",e[e.Texture=3]="Texture",e}({}))._name="ConcretePrecisionType",e("TextureConcretePrecision",function(e){return e[e.Texture2D=100]="Texture2D",e[e.TextureCube=101]="TextureCube",e}({}))._name="TextureConcretePrecision",e("PositionSpace",function(e){return e[e.Local=0]="Local",e[e.View=1]="View",e[e.World=2]="World",e}({}))._name="PositionSpace",e("NormalSpace",function(e){return e[e.Local=0]="Local",e[e.View=1]="View",e[e.World=2]="World",e}({}))._name="NormalSpace",e("ViewDirSpace",function(e){return e[e.Local=0]="Local",e[e.View=1]="View",e[e.World=2]="World",e}({}))._name="ViewDirSpace";e("NormalMapSpace",300);r._RF.pop()}}}));

System.register("chunks:///_virtual/UI_AnimatedNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts","./MathUtils.ts","./Game.ts","./Wait.ts"],(function(e){var t,r,n,i,o,a,u,c,l,s,p,h,S,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,l=e.Label,s=e.Vec3,p=e.Component},null,function(e){h=e.Action},function(e){S=e.MathUtils},function(e){b=e.Game},function(e){f=e.Wait}],execute:function(){var g,d,m,w,y,v,L,G,R,x,z,T,_,N,A,E,M,I,U;u._RF.push({},"2b653Fft3tMBb9uMIPh9iRg","UI_AnimatedNumber",void 0);var V=c.ccclass,k=c.property;e("UI_AnimatedNumber",(g=V("UI_AnimatedNumber"),d=k({type:Boolean}),m=k({type:Number}),w=k({type:Boolean}),y=k({type:Number}),v=k({type:Number,group:"Runtime"}),L=k({type:Number,group:"Runtime"}),G=k({type:Boolean,group:"Runtime"}),R=k({type:l,group:"Components"}),g((T=t((z=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"hasLerp",T,i(t)),n(t,"lerpSpeed",_,i(t)),n(t,"hasEndGoal",N,i(t)),n(t,"endGoal",A,i(t)),n(t,"targetScore",E,i(t)),n(t,"currentScoreShown",M,i(t)),n(t,"invertSignal",I,i(t)),n(t,"scoreLabel",U,i(t)),t.originalScale=new s(1,1,1),t.originalPos=new s,t.onEndGoalReached=new h,t}r(t,e);var u=t.prototype;return u.onLoad=function(){this.scoreLabel||(this.scoreLabel=this.getComponent(l)),this.originalScale=s.ONE,this.targetScore=0},u.onEnable=function(){this._LerpRoutine()},u.updateValue=function(e,t){void 0===t&&(t=!1),e<this.currentScoreShown?this.invertSignal=!0:this.invertSignal=!1,this.hasLerp&&!t?this.updateTargetScore(e):(this.targetScore=this.currentScoreShown=e,this.updateTextVisual(e))},u._LerpRoutine=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasLerp){e.next=6;break}return this.invertSignal?this.currentScoreShown>=this.targetScore&&(this.currentScoreShown=S.lerpClamped(this.currentScoreShown,this.targetScore,b.unscaledDeltaTime*this.lerpSpeed),this.updateTextVisual(Math.floor(this.currentScoreShown))):this.currentScoreShown<=this.targetScore&&(this.currentScoreShown=S.lerpClamped(this.currentScoreShown,this.targetScore,b.unscaledDeltaTime*this.lerpSpeed),this.updateTextVisual(Math.ceil(this.currentScoreShown))),e.next=4,f.seconds(.01);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.updateTargetScore=function(e){this.targetScore=e},u.updateTextVisual=function(e){var t;(this.scoreLabel&&(this.scoreLabel.string=e.toString()),this.hasEndGoal)&&(e==this.endGoal&&(null==(t=this.onEndGoalReached)||t.invoke()))},t}(p)).prototype,"hasLerp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=t(z.prototype,"lerpSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=t(z.prototype,"hasEndGoal",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=t(z.prototype,"endGoal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(z.prototype,"targetScore",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(z.prototype,"currentScoreShown",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(z.prototype,"invertSignal",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=t(z.prototype,"scoreLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=z))||x));u._RF.pop()}}}));

System.register("chunks:///_virtual/UI_AudioButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./AudioController.ts"],(function(t){var e,n,u,i,o,c,r,s,l,d,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,u=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Button,s=t.Enum,l=t.Component},function(t){d=t.Singleton},function(t){a=t.AudioController}],execute:function(){var m,h,p,B,f,v,y,M,C;o._RF.push({},"4be69M8o/hCFKc4+P4DEgVV","UI_AudioButton",void 0);var A=c.ccclass,b=c.property,g=function(t){return t[t.AllAudio=0]="AllAudio",t[t.Music=1]="Music",t[t.SFX=2]="SFX",t}(g||{});t("UI_AudioButton",(m=A("UI_AudioButton"),h=b({type:r}),p=b({type:r}),B=b({type:s(g)}),m((y=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,u(e,"muteButton",y,i(e)),u(e,"unmuteButton",M,i(e)),u(e,"mute",C,i(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this,e=d.get(a);this.mute===g.AllAudio?(this.muteButton.node.active=e.isMusicMuted,this.unmuteButton.node.active=!e.isMusicMuted,this.muteButton.node.on(r.EventType.CLICK,(function(){t.clickedButton(!0),e.muteMusic(!1),e.muteSFX(!1)}),this),this.unmuteButton.node.on(r.EventType.CLICK,(function(){t.clickedButton(!1),e.muteMusic(!0),e.muteSFX(!0)}),this)):this.mute===g.Music?(this.muteButton.node.active=e.isMusicMuted,this.unmuteButton.node.active=!e.isMusicMuted,this.muteButton.node.on(r.EventType.CLICK,(function(){t.clickedButton(!0),e.muteMusic(!1)}),this),this.unmuteButton.node.on(r.EventType.CLICK,(function(){t.clickedButton(!1),e.muteMusic(!0)}),this)):(this.muteButton.node.active=e.isSFXMuted,this.unmuteButton.node.active=!e.isSFXMuted,this.muteButton.node.on(r.EventType.CLICK,(function(){t.clickedButton(!0),e.muteSFX(!1)}),this),this.unmuteButton.node.on(r.EventType.CLICK,(function(){t.clickedButton(!1),e.muteSFX(!0)}),this))},o.clickedButton=function(t){this.muteButton.node.active=!t,this.unmuteButton.node.active=t},e}(l)).prototype,"muteButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"unmuteButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(v.prototype,"mute",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.AllAudio}}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BonusRoulette.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_CollectMultiplierButton.ts","./UI_RouletteMultiplierBox.ts","./index2.ts","./Action.ts"],(function(e){var t,i,n,r,l,o,u,s,a,c,p,f,h,d,g,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,a=e.RealCurve,c=e.Slider,p=e.UIOpacity,f=e.tween,h=e.Component,d=e.math},function(e){g=e.UI_CollectMultiplierButton},function(e){b=e.UI_RouletteMultiplierBox},null,function(e){m=e.Action}],execute:function(){var v,y,B,M,I,w,x,R,C,S,_,k,P,z,V,T,D,U,A,H;u._RF.push({},"fd880CSjgJP4aYBsT63rVQj","UI_BonusRoulette",void 0);var j=s.ccclass,O=s.property;e("UI_BonusRoulette",(v=j("UI_BonusRoulette"),y=O({type:[Number]}),B=O({type:a}),M=O({type:c}),I=O({type:p}),w=O({type:g}),x=O({type:g}),R=O({type:[b]}),v((_=t((S=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"speed",_,r(t)),n(t,"difficulty",k,r(t)),n(t,"baseMultipliers",P,r(t)),n(t,"divisions",z,r(t)),n(t,"sliderCurve",V,r(t)),t.increment=0,t.currentValue=0,t.currentId=0,t.finalMultipliers=[],t.modifiedSpeed=1,t.baseValue=0,t.isRunning=!0,t.pingPong=null,n(t,"posSlider",T,r(t)),n(t,"group",D,r(t)),n(t,"collectMultBtn",U,r(t)),n(t,"collectBtn",A,r(t)),n(t,"boxes",H,r(t)),t.onCollectMultiplier=new m,t.onCollectDefault=new m,t.goldSource=null,t.waitRealtimeHalfSecond=500,t.waitRealtimeTick=10,t}i(t,e);var u=t.prototype;return u.initialize=function(e){this.collectBtn.node.active=!1,this.collectBtn.resetAlpha(),this.collectMultBtn.resetAlpha(),this.modifiedSpeed=this.speed*this.difficulty,this.updateBaseDisplayValue(e),this.finalMultipliers=[];for(var t=0;t<this.baseMultipliers.length;t++)this.finalMultipliers.push(this.baseMultipliers[t]);for(var i=this.boxes.length-this.baseMultipliers.length,n=1;n<=i;n++){var r=this.baseMultipliers.length-1-n;this.finalMultipliers.push(this.baseMultipliers[r])}},u.animate=function(){this._fadeAnimation()},u._fadeAnimation=function(){var e=l(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fadeIn(.5),this.collectMultBtn.fadeIn(.5),this.pingPong=this._pingPongCoroutine(),this.pingPong(),e.next=6,new Promise((function(e){return setTimeout(e,t.waitRealtimeHalfSecond)}));case 6:this.collectBtn.node.active=!0,this.collectBtn.fadeIn(.3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.updateBaseDisplayValue=function(e){this.baseValue=e,this.collectBtn.updateDisplay(e)},u._pingPongCoroutine=function(){var e=this;this.isRunning=!0,function(){var t=l(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isRunning){t.next=23;break}e.increment=0;case 2:if(!(e.increment<1)){t.next=11;break}return e.currentValue=e.sliderCurve?e.sliderCurve.evaluate(d.pingPong(e.increment,1)):e.increment,e.posSlider.progress=e.currentValue,e.convertToIndex(e.currentValue),e.increment+=.016*e.modifiedSpeed,t.next=9,new Promise((function(t){return setTimeout(t,e.waitRealtimeTick)}));case 9:t.next=2;break;case 11:e.increment=1;case 12:if(!(e.increment>0)){t.next=21;break}return e.currentValue=e.sliderCurve?e.sliderCurve.evaluate(d.pingPong(e.increment,1)):e.increment,e.posSlider.progress=e.currentValue,e.convertToIndex(e.currentValue),e.increment-=.016*e.modifiedSpeed,t.next=19,new Promise((function(t){return setTimeout(t,e.waitRealtimeTick)}));case 19:t.next=12;break;case 21:t.next=0;break;case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},u.convertToIndex=function(e){var t=e*this.divisions;t=Math.max(0,Math.min(t,this.divisions-1)),this.currentId=Math.floor(t);for(var i=0;i<this.boxes.length;i++)this.boxes[i].toggleHighlight(!1);this.boxes[this.currentId].toggleHighlight(!0),this.collectMultBtn.updateDisplayMult(this.finalMultipliers[this.currentId],this.baseValue*this.finalMultipliers[this.currentId])},u.collectMultiplier=function(){this.goldSource=this.collectMultBtn.node,this.stopRoulette(),this.onCollectMultiplier.invoke(this.finalMultipliers[this.currentId])},u.collectDefault=function(){this.goldSource=this.collectBtn.node,this.stopRoulette(),this.onCollectDefault.invoke()},u.stopRoulette=function(){this.isRunning=!1},u.resumeRoulette=function(){this.isRunning=!0,this._pingPongCoroutine()},u.fadeIn=function(e){this.group&&f(this.group).to(.3,{opacity:255}).start()},u.toggleInteractions=function(e){this.collectBtn.toggleInteractable(e),this.collectMultBtn.toggleInteractable(e)},u.overrideIsInteractable=function(){this.collectBtn.overrideIsInteractable()},u.removeOverrides=function(){this.collectBtn.removeOverride()},u.toggleContinueButton=function(e){},u.getGoldSource=function(){return this.goldSource},u.getContinueButton=function(){return this.collectBtn.node},t}(h)).prototype,"speed",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(S.prototype,"difficulty",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.15}}),P=t(S.prototype,"baseMultipliers",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(S.prototype,"divisions",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),V=t(S.prototype,"sliderCurve",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"posSlider",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"group",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(S.prototype,"collectMultBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"collectBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(S.prototype,"boxes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=S))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BoostersDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemType.ts","./UI_SingleBooster.ts","./index2.ts","./BoostersController.ts","./UI_BoostersPopup.ts","./UI_PopupBoosterAD.ts","./RewardAfterAd.ts","./MetagameBalance.ts","./MetagameController.ts","./Action.ts","./Singleton.ts"],(function(o){var t,e,n,i,r,s,u,a,l,p,c,d,f,h,b,B,m,g,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,u=o.Node,a=o.Component,l=o.Button},function(o){p=o.ItemType},function(o){c=o.UI_SingleBooster},null,function(o){d=o.BoostersController},function(o){f=o.UI_BoostersPopup},function(o){h=o.UI_PopupBoosterAD},function(o){b=o.RewardAfterAd},function(o){B=o.BoosterType},function(o){m=o.MetagameController},function(o){g=o.Action},function(o){y=o.Singleton}],execute:function(){var v,C,A,I,T,U,w,k,D,L,_,P,z,O,R,S,M,E,N;r._RF.push({},"f279av4qZJFL5/xNEu7CBui","UI_BoostersDisplay",void 0);var x=s.ccclass,F=s.property;o("UI_BoostersDisplay",(v=x("UI_BoostersDisplay"),C=F({type:[Number],group:"Runtime"}),A=F({type:Number}),I=F({type:u,group:"Components"}),T=F({type:u,group:"Components"}),U=F({type:f,group:"Components"}),w=F({type:d,group:"Runtime"}),k=F({type:[p],group:"Components"}),D=F({type:[c],group:"Components"}),v((P=t((_=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=o.call.apply(o,[this].concat(r))||this,n(t,"boosterAmount",P,i(t)),n(t,"currentId",z,i(t)),n(t,"sideBar",O,i(t)),n(t,"popup",R,i(t)),n(t,"popupUI",S,i(t)),n(t,"boosterControl",M,i(t)),n(t,"boosterTypes",E,i(t)),n(t,"boosterButtons",N,i(t)),t.onToggleBoosterPopup=new g,t.onBoosterCancel=new g,t.onBoosterConfirmed=new g,t.onBoosterClicked=new g,t.onBoosterConfirmationLambda=void 0,t.onBoosterAmountUpdateLambda=void 0,t.onBoosterAnimationLambda=void 0,t.onOnTutorialOverrideLambda=void 0,t}e(t,o);var r=t.prototype;return r.onLoad=function(){y.set(this)},r.start=function(){this.boosterControl=y.get(d),this.initialize()},r.initialize=function(){for(var o=this,t=function(t){var e=o.boosterButtons[t],n=o.boosterTypes[t],i=y.get(m).data.boosterCosts[t].cost;e.initialize(n,i),e.button.node.on(l.EventType.CLICK,(function(){return o.clickButton(t)}),o)},e=0;e<this.boosterButtons.length;e++)t(e);this.setEvents()},r.setEvents=function(){var o=this;this.onBoosterConfirmationLambda=function(t){o.handleBoosterConfirmation(t)},this.onOnTutorialOverrideLambda=function(t){o.handleOnTutorialOverride(t)},this.onBoosterAmountUpdateLambda=function(t){o.handleBoosterAmountUpdate(t)},this.onBoosterAnimationLambda=function(t){o.handleOnBoosterAnimation(t)},this.boosterControl.onBoosterConfirmation.addListener(this.onBoosterConfirmationLambda)},r.animatedBoosterUpdate=function(o,t){for(var e=0,n=0;n<this.boosterButtons.length;n++){var i,r=null==(i=this.boosterButtons[n].getComponent(b))?void 0:i.thisReward;if(r&&r.itemType===o){e=n;break}}this.boosterAmount[e]=t,this.boosterButtons[e].updateAmountDisplay(t)},r.handleOnTutorialOverride=function(o){o.active?(this.boosterButtons[o.id].node.active=!0,this.boosterButtons[o.id].unlockBooster(),this.boosterButtons[o.id].toggleTutorialDisplay(!0)):this.boosterButtons[o.id].toggleTutorialDisplay(!1)},r.handleOnBoosterAmountUpdate=function(o,t){this.boosterAmount[o]=t,this.boosterButtons[o].updateAmountDisplay(t)},r.handleBoosterAmountUpdate=function(o){this.boosterAmount[o.id]=o.amount,this.boosterButtons[o.id].updateAmountDisplay(o.amount)},r.clickButton=function(o){if(!this.boosterButtons[o].isLocked){console.log("UI_BoostersDisplay.Clicked Booster: "+o),this.currentId=o;var t=this.boosterTypes[o];this.onBoosterClicked.invoke(o),this.boosterControl.checkCanUseBooster(o)?(o!==B.Shuffle&&(this.positionTracker(),this.togglePopup(!0)),this.boosterControl.enableBoosterMode(o)):y.get(h).openPopup(t,o)}},r.positionTracker=function(){},r.cancelBooster=function(){this.boosterControl.cancelBooster(),this.togglePopup(!1),this.onBoosterCancel.invoke(this.currentId)},r.handleOnBoosterAnimation=function(o){this.toggleIndicator(!1),B.Hammer},r.updateBoosterAmount=function(o){this.boosterAmount=o;for(var t=0;t<o.length;t++)this.boosterButtons[t].updateAmountDisplay(o[t])},r.handleBoosterConfirmation=function(o){this.toggleIndicator(!1),this.onBoosterConfirmed.invoke(this.currentId),this.togglePopup(!1)},r.playBoosterAnimation=function(o,t){},r.toggleIndicator=function(o){this.currentId,B.Shuffle},r.togglePopup=function(o,t){void 0===t&&(t=!1),this.onToggleBoosterPopup.invoke(o),this.popup.active=o,this.sideBar.active=!o,o&&this.popupUI.showPopup(this.boosterTypes[this.currentId],t)},t}(a)).prototype,"boosterAmount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(_.prototype,"currentId",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(_.prototype,"sideBar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"popup",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(_.prototype,"popupUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(_.prototype,"boosterControl",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(_.prototype,"boosterTypes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(_.prototype,"boosterButtons",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=_))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BoostersPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,r,n,p,l,s,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,p=t._decorator,l=t.Sprite,s=t.Label,a=t.Button,u=t.Component}],execute:function(){var c,y,g,b,f,h,m,d,D,B,P;n._RF.push({},"abf20kAY/9NEq8I0NDQXWF2","UI_BoostersPopup",void 0);var v=p.ccclass,_=p.property;t("UI_BoostersPopup",(c=v("UI_BoostersPopup"),y=_({type:l,group:"Components"}),g=_({type:s,group:"Components"}),b=_({type:s,group:"Components"}),f=_({type:a,group:"Components"}),c((d=e((m=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];return e=t.call.apply(t,[this].concat(n))||this,i(e,"iconDisplay",d,r(e)),i(e,"titleDisplay",D,r(e)),i(e,"description",B,r(e)),i(e,"closeButton",P,r(e)),e}o(e,t);var n=e.prototype;return n.showPopup=function(t,e){this.closeButton.interactable=!e,this.iconDisplay.spriteFrame=t.icon,this.titleDisplay.string=t.displayName,this.description.string=t.description,this.togglePopup(!0)},n.togglePopup=function(t){this.node.active=t},e}(u)).prototype,"iconDisplay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(m.prototype,"titleDisplay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(m.prototype,"description",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(m.prototype,"closeButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_CollectMultiplierButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_DynamicTextLocalized.ts"],(function(t){var e,i,r,n,a,l,o,u,c,s,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Label,u=t.UIOpacity,c=t.Button,s=t.tween,p=t.Component},function(t){b=t.UI_DynamicTextLocalized}],execute:function(){var y,h,f,g,d,m,I,v,D,x,T,z,_;a._RF.push({},"5c658vwTOlHebWbqx/12TIU","UI_CollectMultiplierButton",void 0);var w=l.ccclass,B=l.property;t("UI_CollectMultiplierButton",(y=w("UI_CollectMultiplierButton"),h=B({type:o}),f=B({type:u}),g=B({type:c}),d=B({type:b}),y((v=e((I=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,r(e,"isInteractableOverride",v,n(e)),r(e,"numberDisplay",D,n(e)),r(e,"group",x,n(e)),r(e,"btn",T,n(e)),r(e,"isMultiplierButton",z,n(e)),r(e,"dynamicText",_,n(e)),e}i(e,t);var a=e.prototype;return a.start=function(){this.toggleInteractable(!1),this.group&&(this.group.opacity=0)},a.updateDisplayMult=function(t,e){this.isMultiplierButton&&this.dynamicText&&this.dynamicText.updateText&&this.dynamicText.updateText("x"+t),this.numberDisplay&&(this.numberDisplay.string=e.toString())},a.updateDisplay=function(t){this.numberDisplay&&(this.numberDisplay.string=t.toString())},a.resetAlpha=function(){this.group&&(this.group.opacity=0)},a.fadeIn=function(t,e){var i=this;void 0===e&&(e=!1),this.group&&(e?s(this.group).to(t,{opacity:255}).start():s(this.group).to(t,{opacity:255}).call((function(){return i.toggleInteractable(!0)})).start())},a.toggleInteractable=function(t){this.btn&&void 0!==this.btn.interactable&&(this.isInteractableOverride?this.btn.interactable=!1:this.btn.interactable=t)},a.overrideIsInteractable=function(){this.isInteractableOverride=!0},a.removeOverride=function(){this.isInteractableOverride=!1},e}(p)).prototype,"isInteractableOverride",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=e(I.prototype,"numberDisplay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"group",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(I.prototype,"btn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"isMultiplierButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(I.prototype,"dynamicText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI_DynamicTextLocalized.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationExtensions.ts","./Wait.ts"],(function(e){var t,n,i,a,r,o,l,c,u,s,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.Label,s=e.Component},function(e){p=e.LocalizationExtensions},function(e){d=e.Wait}],execute:function(){var y,h,f,g,x,T,m,b,z,v,L,D,C,S,w;l._RF.push({},"d503f4nnnRGmKvMZoCcIhVz","UI_DynamicTextLocalized",void 0);var k=c.ccclass,_=c.property;e("UI_DynamicTextLocalized",(y=k("UI_DynamicTextLocalized"),h=_({type:String}),f=_({type:String}),g=_({type:Boolean}),x=_({type:String,group:"Runtime"}),T=_({type:String,group:"Runtime"}),m=_({type:u,group:"Components"}),y((v=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"key",v,a(t)),i(t,"replacementChar",L,a(t)),i(t,"loadOnEnable",D,a(t)),i(t,"loadedText",C,a(t)),i(t,"dynamicText",S,a(t)),i(t,"display",w,a(t)),t}n(t,e);var l=t.prototype;return l.onEnable=function(){var e=this;this.loadOnEnable&&p.getLanguageJson((function(){e.loadedText=e.localizeText(e.key)}))},l.onDestroy=function(){},l.updateText=function(e){this.minorDelay(e)},l.minorDelay=function(){var e=r(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadedText||p.getLanguageJson((function(){n.loadedText=n.localizeText(n.key)})),e.next=3,d.until((function(){return n.loadedText.length>0}));case 3:this.dynamicText=t,this.updateDisplayText();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.updateDisplayText=function(){var e=this.replaceCharWithString(this.replacementChar,this.loadedText,this.dynamicText);this.display.string=e},l.handleLanguageUpdate=function(){this.loadedText=this.localizeText(this.key);var e=this.replaceCharWithString(this.replacementChar,this.loadedText,this.dynamicText);this.display.string=e},l.replaceCharWithString=function(e,t,n){return t.split(e).join(n)},l.localizeText=function(e){return p.localizeText(e)},l.saveTextToJSON=function(){p.editorSaveToLanguageJson(this.key,this.display.string)},t}(s)).prototype,"key",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(z.prototype,"replacementChar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"$"}}),D=t(z.prototype,"loadOnEnable",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=t(z.prototype,"loadedText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=t(z.prototype,"dynamicText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=t(z.prototype,"display",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=z))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI_FollowWorldComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./CameraController.ts","./Singleton.ts","./CameraUtils.ts"],(function(n){var t,e,i,o,r,a,s,l,p,u,m,f,c,C,g,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,l=n.Camera,p=n.UITransform,u=n.Vec2,m=n.find,f=n.Canvas,c=n.Component},null,function(n){C=n.CameraController},function(n){g=n.Singleton},function(n){d=n.CameraUtils}],execute:function(){var h,b,v,y,w,U,I,z,_,F,O,P,T,B,A,S,W,D,N,x,k;r._RF.push({},"7d4e6CumI9JwpSPl5KqVip7","UI_FollowWorldComponent",void 0);var L=a.ccclass,M=a.property;n("UI_FollowWorldComponent",(h=L("UI_FollowWorldComponent"),b=M({type:s}),v=M({type:l}),y=M({type:p}),w=M({type:Boolean,group:"Configs"}),U=M({visible:function(){return this.lerpToPos},min:10,group:"Configs"}),I=M({type:u,group:"Configs"}),z=M({type:Boolean,group:"Configs"}),_=M({visible:function(){return this.clampAtBounds},range:[0,.25],group:"Configs"}),F=M({visible:function(){return this.clampAtBounds},range:[0,.25],group:"Configs"}),h((T=t((P=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"target",T,o(t)),i(t,"mainCam",B,o(t)),i(t,"parentCanvas",A,o(t)),i(t,"lerpToPos",S,o(t)),i(t,"lerpSpeed",W,o(t)),i(t,"positionOffset",D,o(t)),i(t,"clampAtBounds",N,o(t)),i(t,"paddingX",x,o(t)),i(t,"paddingY",k,o(t)),t.missingComponent=!1,t}e(t,n);var r=t.prototype;return r.onLoad=function(){this.mainCam||this.findCamera(),this.parentCanvas||this.findCanvas(),this.mainCam&&this.parentCanvas&&this.target||(this.missingComponent=!0),this.positionUI()},r.findCamera=function(){var n=m("Main Camera"),t="";n?(this.mainCam=n.getComponent(l),this.mainCam||(t="Camera NOT FOUND for element ["+this.node.name+"], make sure to assign a Camera in UI_FollowWorldComponent")):this.mainCam=g.get(C).getCamera(),t.length>0&&console.error(t)},r.findCanvas=function(){var n=this.node.parent.getComponent(f);null!==n?this.parentCanvas=n.node.getComponent(p):console.error("Parent Canvas NOT FOUND for element ["+this.node.name+"], make sure to assign a Parent Canvas in UI_FollowWorldComponent")},r.lateUpdate=function(n){this.positionUI()},r.positionUI=function(){if(!this.missingComponent){var n=this.target.position;n=this.clampAtBounds?d.worldToUIPosition_Clamped(this.target,this.mainCam,this.parentCanvas,this.positionOffset.x,this.positionOffset.y):d.worldToUIPosition(this.target,this.mainCam,this.parentCanvas,this.positionOffset.x,this.positionOffset.y),this.node.position=n}},t}(c)).prototype,"target",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"mainCam",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"parentCanvas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"lerpToPos",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=t(P.prototype,"lerpSpeed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),D=t(P.prototype,"positionOffset",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),N=t(P.prototype,"clampAtBounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=t(P.prototype,"paddingX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=t(P.prototype,"paddingY",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=P))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GameplayHUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./UI_ObjectivesDisplay.ts","./GameplayController.ts","./UI_LockDisplay.ts","./UI_BoostersDisplay.ts","./UI_LevelIntro.ts","./Singleton.ts","./CameraUtils.ts"],(function(e){var t,n,o,i,a,r,s,l,c,u,p,f,h,m,b,d,y,g,v,k,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Prefab,p=e.UITransform,f=e.Camera,h=e.Component,m=e.instantiate},null,function(e){b=e.UI_ObjectivesDisplay},function(e){d=e.GameplayController},function(e){y=e.UI_LockDisplay},function(e){g=e.UI_BoostersDisplay},function(e){v=e.UI_LevelIntro},function(e){k=e.Singleton},function(e){L=e.CameraUtils}],execute:function(){var D,P,I,U,C,T,_,w,z,O,B,A,j,G,R,H,S,x,F,E,N,J,K;s._RF.push({},"51a67KSUQ9Ne5WIFL5B3tJy","UI_GameplayHUD",void 0);var M=l.ccclass,Q=l.property;e("UI_GameplayHUD",(D=M("UI_GameplayHUD"),P=Q({type:b,group:"Components"}),I=Q({type:v,group:"Components"}),U=Q({type:c,group:"Components"}),C=Q({type:u,group:"Components"}),T=Q({type:p,group:"Components"}),_=Q({type:p,group:"Components"}),w=Q({type:Boolean,group:"Runtime"}),z=Q({type:f,group:"Runtime"}),O=Q({type:[y],group:"Runtime"}),B=Q({type:[c],group:"Runtime"}),D((G=t((j=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"objectivesDisplay",G,i(t)),o(t,"levelIntro",R,i(t)),o(t,"clickblock",H,i(t)),o(t,"lockDisplayPrefab",S,i(t)),o(t,"lockParentTransform",x,i(t)),o(t,"canvasTransform",F,i(t)),o(t,"refreshLocks",E,i(t)),o(t,"mainCamera",N,i(t)),o(t,"lockDisplays",J,i(t)),o(t,"lockObstacles",K,i(t)),t.onPausedLambda=void 0,t.onToggleBoosterPopupLambda=void 0,t.onAdLambda=void 0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){k.set(this)},s.initialize=function(e){this.mainCamera=e,this.setEvents(),this.levelIntro.initialize()},s.startLevelIntro=function(){this.levelIntro.startIntro()},s.endLevel=function(){this.refreshLocks=!1},s.setEvents=function(){var e=this;this.onPausedLambda=function(t){e.handleOnPaused(t)},this.onAdLambda=function(t){e.handleOnAd(t)},this.onToggleBoosterPopupLambda=function(t){e.handleOnToggleBoosterPopup(t)},k.get(d).onPause.addListener(this.onPausedLambda),k.get(d).onToggleAd.addListener(this.onAdLambda),k.get(g).onToggleBoosterPopup.addListener(this.onToggleBoosterPopupLambda)},s.handleOnPaused=function(e){},s.handleOnAd=function(e){this.toggleClickblock(e)},s.handleOnToggleBoosterPopup=function(e){this.objectivesDisplay.toggleDisplay(!e)},s.setLevelData=function(e,t,n){this.objectivesDisplay.setLevelData(e),this.levelIntro.setLevelData(e,n),this.setUpLocks(t),this.refreshLocks=!0},s.setUpLocks=function(){var e=a(r().mark((function e(t){var n,o,i,a,s,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.lockDisplays.clear(),this.lockParentTransform.node.destroyAllChildren(),this.lockObstacles.clear(),n=0;n<t.length;n++)o=t[n].node,this.lockObstacles.push(o);for(i=0;i<t.length;i++)a=t[i].node,(s=m(this.lockDisplayPrefab)).setParent(this.lockParentTransform.node),s.setPosition(L.worldToUIPosition(a,this.mainCamera,this.canvasTransform)),(l=s.getComponent(y)).initialize(t[i]),this.lockDisplays.push(l);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.toggleClickblock=function(e){this.clickblock.active=e},s.toggleHUD=function(e){this.node.active=e},s.getCanvasParent=function(){return this.canvasTransform},s.lateUpdate=function(e){this.refreshLocks&&this.updateLocksPosition()},s.updateLocksPosition=function(){for(var e=0;e<this.lockDisplays.length;e++)if(null!=this.lockObstacles[e]){var t=this.lockObstacles[e];this.lockDisplays[e].node.setPosition(L.worldToUIPosition(t,this.mainCamera,this.canvasTransform))}},t}(h)).prototype,"objectivesDisplay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(j.prototype,"levelIntro",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(j.prototype,"clickblock",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(j.prototype,"lockDisplayPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(j.prototype,"lockParentTransform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(j.prototype,"canvasTransform",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(j.prototype,"refreshLocks",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=t(j.prototype,"mainCamera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"lockDisplays",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(j.prototype,"lockObstacles",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=j))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GenericData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./LevelAsset.ts","./Singleton.ts"],(function(e){var t,i,r,n,o,c,a,s,u,p,l,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,a=e._decorator,s=e.SpriteFrame,u=e.Enum,p=e.Component},null,function(e){l=e.ObjectiveType},function(e){f=e.Singleton}],execute:function(){var v,b,h,y,j,g,d,S,m,_,D,I;c._RF.push({},"dd64dk4AWlNj692RCdhlJR7","UI_GenericData",void 0);var O=a.ccclass,z=a.property,F=e("ObjectiveSprite",(v=O("ObjectiveSprite"),b=z({type:s}),h=z({type:u(l)}),v((g=t((j=function(){i(this,"sprite",g,this),i(this,"objective",d,this)}).prototype,"sprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(j.prototype,"objective",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.MergePieces}}),y=j))||y));e("UI_GenericData",(S=O("UI_GenericData"),m=z({type:[F],group:{name:"Components"}}),S((I=t((D=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"objectiveSprites",I,n(t)),t}r(t,e);var c=t.prototype;return c.onLoad=function(){f.set(this)},c.getObjectiveSprites=function(){return this.objectiveSprites},c.getSpriteFromObjective=function(e){for(var t,i=o(this.objectiveSprites);!(t=i()).done;){var r=t.value;if(r.objective===e)return r.sprite}return null},t}(p)).prototype,"objectiveSprites",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D))||_));c._RF.pop()}}}));

System.register("chunks:///_virtual/UI_GoldDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./UI_AnimatedNumber.ts","./ItemType.ts","./MetagameController.ts","./LevelController.ts","./Singleton.ts","./ProgressController.ts"],(function(e){var t,n,o,a,i,l,r,d,s,u,p,g,h,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,r=e.Node,d=e.Component},null,function(e){s=e.UI_AnimatedNumber},function(e){u=e.ItemType},function(e){p=e.MetagameController},function(e){g=e.LevelController},function(e){h=e.Singleton},function(e){c=e.ProgressController}],execute:function(){var L,m,f,v,y,b,C,G,D;i._RF.push({},"eb9664IsEREmqXj/5GTSwqw","UI_GoldDisplay",void 0);var I=l.ccclass,_=l.property;e("UI_GoldDisplay",(L=I("UI_GoldDisplay"),m=_({type:r,group:"Components"}),f=_({type:s,group:"Components"}),v=_({type:u,group:"Components"}),L((C=t((b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"goldTarget",C,a(t)),o(t,"animatedDisplay",G,a(t)),o(t,"goldItem",D,a(t)),t.onGoldChangedLambda=void 0,t.onLevelLoadedLambda=void 0,t}n(t,e);var i=t.prototype;return i.onLoad=function(){h.set(this)},i.start=function(){var e=this;this.onGoldChangedLambda=function(t){e.handleGoldChanged(t)},this.onLevelLoadedLambda=function(t){e.handleOnLevelLoaded(t)},h.get(p).onGoldChanged.addListener(this.onGoldChangedLambda),h.get(g).onLevelStarted.addListener(this.onLevelLoadedLambda),h.get(g).onLevelLoaded.addListener(this.onLevelLoadedLambda)},i.onDestroy=function(){null!==h.get(p)&&h.get(p).onGoldChanged.removeListener(this.onGoldChangedLambda),null!==h.get(g)&&(h.get(g).onLevelStarted.removeListener(this.onLevelLoadedLambda),h.get(g).onLevelLoaded.removeListener(this.onLevelLoadedLambda))},i.onEnable=function(){this.refreshGold()},i.handleOnLevelLoaded=function(e){this.refreshGold(!0)},i.refreshGold=function(e){void 0===e&&(e=!1);var t=c.gameProgress.getItemById(this.goldItem.hashId),n=t[0];t[1]?this.updateDisplay(n.amount,e):this.handleGoldChanged(0)},i.handleGoldChanged=function(e){this.updateDisplay(e)},i.updateDisplay=function(e,t){void 0===t&&(t=!1),this.animatedDisplay&&this.animatedDisplay.updateValue&&this.animatedDisplay.updateValue(e,t)},i.getGoldTarget=function(){return this.goldTarget},t}(d)).prototype,"goldTarget",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(b.prototype,"animatedDisplay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(b.prototype,"goldItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_IntroObjectiveDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,p,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.Sprite,l=e.Label,s=e.Component}],execute:function(){var u,c,y,b,m,f,d;o._RF.push({},"0d9d3ydUMtNmY4AmdXbkuhs","UI_IntroObjectiveDisplay",void 0);var g=a.ccclass,h=a.property;e("UI_IntroObjectiveDisplay",(u=g("UI_IntroObjectiveDisplay"),c=h({type:p,group:{name:"Components"}}),y=h({type:l,group:{name:"Components"}}),u((f=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"displaySprite",f,n(t)),r(t,"numberDisplay",d,n(t)),t}return i(t,e),t.prototype.initialize=function(e,t){this.displaySprite.spriteFrame=e,this.numberDisplay.string=t.toString()},t}(s)).prototype,"displaySprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(m.prototype,"numberDisplay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_LayoutCentralizer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,l,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Layout,u=e.UITransform,c=e.Vec2,s=e.Component}],execute:function(){var p,y,f,h,b,z,m,g,d,S,w,C,v,L,_;o._RF.push({},"33657iOp7VCx7bjl0oNnSg/","UI_LayoutCentralizer",void 0);var T=a.ccclass,x=a.property;e("UI_LayoutCentralizer",(p=T("UI_LayoutCentralizer"),y=x({type:Boolean}),f=x({type:l}),h=x({type:u}),b=x({type:c,group:"Runtime"}),z=x({type:c,group:"Runtime"}),m=x({type:Number,group:"Runtime"}),p((S=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"runOnEnable",S,r(t)),n(t,"layout",w,r(t)),n(t,"uiTransform",C,r(t)),n(t,"containerSize",v,r(t)),n(t,"cellSize",L,r(t)),n(t,"elementCount",_,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.runOnEnable&&this.refreshPositions()},o.refreshPositions=function(e){void 0===e&&(e=-1),this.uiTransform||this.layout.getComponent(u),this.containerSize=new c(this.uiTransform.contentSize.x,this.uiTransform.contentSize.y),this.cellSize=new c(this.layout.cellSize.x,this.layout.cellSize.y),this.elementCount=-1===e?this.layout.node.children.length:e,this.calculatePadding(this.containerSize,this.cellSize,this.elementCount,this.layout.spacingX)},o.calculatePadding=function(e,t,i,n){var r;r=e.x/2-(t.x*i+n*(i-1))/2,this.layout.paddingLeft=r},t}(s)).prototype,"runOnEnable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=t(d.prototype,"layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(d.prototype,"uiTransform",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(d.prototype,"containerSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0)}}),L=t(d.prototype,"cellSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0)}}),_=t(d.prototype,"elementCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_LevelIntro.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./UI_IntroObjectiveDisplay.ts","./index2.ts","./UI_GenericData.ts","./UI_LayoutCentralizer.ts","./GameplayController.ts","./UI_DynamicTextLocalized.ts","./Singleton.ts","./Wait.ts"],(function(e){var t,n,i,r,o,a,l,c,s,u,p,f,y,b,m,g,h,d,v,O,I,T,w,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Prefab,u=e.Node,p=e.UITransform,f=e.UIOpacity,y=e.Vec3,b=e.tween,m=e.instantiate,g=e.Component},function(e){h=e.ObjectiveData},function(e){d=e.UI_IntroObjectiveDisplay},null,function(e){v=e.UI_GenericData},function(e){O=e.UI_LayoutCentralizer},function(e){I=e.GameplayController},function(e){T=e.UI_DynamicTextLocalized},function(e){w=e.Singleton},function(e){z=e.Wait}],execute:function(){var P,C,_,x,j,U,k,L,D,S,E,R,B,G,A,q,F,N,M,W,H,K,V,J,Q,X,Y,Z,$,ee,te;l._RF.push({},"c3fbeIpskpKeqeelfa2E8BM","UI_LevelIntro",void 0);var ne=c.ccclass,ie=c.property;e("UI_LevelIntro",(P=ne("UI_LevelIntro"),C=ie({type:s,group:"Components"}),_=ie({type:u,group:{name:"Components"}}),x=ie({type:p,group:{name:"Components"}}),j=ie({type:f,group:{name:"Components"}}),U=ie({type:f,group:{name:"Components"}}),k=ie({type:f,group:{name:"Components"}}),L=ie({type:O,group:{name:"Components"}}),D=ie({type:T,group:{name:"Components"}}),S=ie({type:p,group:{name:"External Components"}}),E=ie({type:[h],group:"Runtime"}),R=ie({type:[d],group:"Runtime"}),B=ie({type:y,group:"Runtime"}),G=ie({type:y,group:"Runtime"}),A=ie({type:Number}),P((N=t((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"displayPrefab",N,r(t)),i(t,"blockParent",M,r(t)),i(t,"parentTransform",W,r(t)),i(t,"bgOpacity",H,r(t)),i(t,"centerOpacity",K,r(t)),i(t,"titleOpacity",V,r(t)),i(t,"layout",J,r(t)),i(t,"dynamicText",Q,r(t)),i(t,"objectivesTarget",X,r(t)),i(t,"loadedObjectives",Y,r(t)),i(t,"blocks",Z,r(t)),i(t,"originalPos",$,r(t)),i(t,"originalScale",ee,r(t)),i(t,"level",te,r(t)),t}n(t,e);var l=t.prototype;return l.initialize=function(){this.originalPos=this.parentTransform.node.position.clone(),this.originalScale=this.parentTransform.node.scale.clone()},l.setLevelData=function(e,t){this.loadedObjectives=e,this.level=t,this.dynamicText.updateText(t.toString()),this.createButtons(e),this.layout.refreshPositions(e.length),this.bgOpacity.opacity=0,this.centerOpacity.opacity=0,this.titleOpacity.opacity=0,this.parentTransform.node.scale=this.originalScale,this.parentTransform.node.position=this.originalPos},l.startIntro=function(){var e=o(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.node.active=!0,t=.25,.75,n=.5,i=.25,this.fadeInElement(this.bgOpacity,t),this.fadeInElement(this.centerOpacity,t),this.fadeInElement(this.titleOpacity,t),e.next=10,z.seconds(.75);case 10:return e.next=12,this.fadeOutElement(this.bgOpacity,n);case 12:return this.fadeOutElement(this.centerOpacity,n),this.fadeOutElement(this.titleOpacity,n),e.next=16,this.moveParentToTarget(i);case 16:return e.next=18,z.seconds(i);case 18:this.node.active=!1,w.get(I).postLevelIntro();case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.fadeOutElement=function(e,t){return void 0===t&&(t=.5),new Promise((function(n){b(e).to(t,{opacity:0}).call((function(){n()})).start()}))},l.fadeInElement=function(e,t){return void 0===t&&(t=.5),new Promise((function(n){b(e).to(t,{opacity:255}).call((function(){n()})).start()}))},l.moveParentToTarget=function(e){var t=this;return void 0===e&&(e=.5),new Promise((function(n){if(t.parentTransform&&t.objectivesTarget){var i=t.objectivesTarget.node.worldPosition.clone(),r=t.parentTransform.convertToNodeSpaceAR(i);b(t.parentTransform.node).parallel(b().to(e,{position:r},{easing:"quadOut"}),b().to(e,{scale:new y(0,0,0)},{easing:"quadOut"})).call((function(){n()})).start()}else n()}))},l.createButtons=function(e){this.blockParent.destroyAllChildren(),this.blocks.clear();for(var t=0;t<e.length;t++)this.createObjectiveBlock(t,e[t].type,e[t].amount)},l.createObjectiveBlock=function(e,t,n){var i=m(this.displayPrefab);i.parent=this.blockParent,i.setSiblingIndex(e);var r=i.getComponent(d);r.initialize(w.get(v).getSpriteFromObjective(t),n),this.blocks.push(r)},t}(g)).prototype,"displayPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(F.prototype,"blockParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"parentTransform",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"bgOpacity",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"centerOpacity",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(F.prototype,"titleOpacity",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"layout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"dynamicText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"objectivesTarget",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"loadedObjectives",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(F.prototype,"blocks",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(F.prototype,"originalPos",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(0,0,0)}}),ee=t(F.prototype,"originalScale",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(0,0,0)}}),te=t(F.prototype,"level",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=F))||q));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI_LockDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,a,o,r,l,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,p=e.Node,s=e.Component}],execute:function(){var c,u,d,y,h,f,g;o._RF.push({},"f3fe050QWBE8qigE1EkDqNa","UI_LockDisplay",void 0);var b=r.ccclass,m=r.property;e("UI_LockDisplay",(c=b("UI_LockDisplay"),u=m({type:l,group:"Components"}),d=m({type:p,group:"Components"}),c((f=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"display",f,a(t)),n(t,"icon",g,a(t)),t.onValueUpdatedLambda=void 0,t}i(t,e);var o=t.prototype;return o.initialize=function(e){var t=this;this.display.string=e.currentAmount.toString(),this.onValueUpdatedLambda=function(e){t.handleOnValueUpdate(e)},e.onCurrentAmountUpdate.addListener(this.onValueUpdatedLambda)},o.handleOnValueUpdate=function(e){this.display.string=e.toString(),0===e&&(this.display.node.active=!1,this.icon.active=!1)},t}(s)).prototype,"display",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(h.prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Metagame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./Wait.ts"],(function(e){var t,n,r,a,o,i,s,c,u,l,m,d,p,g,f,h,I,M,T,w,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Prefab,l=e.Node,m=e.Vec3,d=e.Vec2,p=e.Component,g=e.randomRange,f=e.math,h=e.tween,I=e.Quat,M=e.instantiate,T=e.Sprite},function(e){w=e.Singleton},function(e){y=e.Wait}],execute:function(){var v,b,P,U,x,_,D,C,k;s._RF.push({},"51b9cNy+nFMZLMJ+HxwQYLp","UI_Metagame",void 0);var F=c.ccclass,R=c.property;e("UI_Metagame",(v=F("UI_Metagame"),b=R(u),P=R(l),v((_=t((x=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"imagePrefab",_,a(t)),r(t,"multipleItemsMoveDuration",D,a(t)),r(t,"oneItemMoveDuration",C,a(t)),r(t,"rewardsEmptyParent",k,a(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){w.set(this)},s.sendItemTypeToTargetFromWorld=function(e,t,n,r,a){console.log("UI_Metagame.sendItemTypeToTarget"),this.sendItemToTargetFromWorld(e.icon,t,n,r,a)},s.sendItemToTargetFromWorld=function(){var e=o(i().mark((function e(t,n,r,a,o){var s,c,u,l,d,p,w,v,b,P,U,x,_,D=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("UI_Metagame.sendItemToTargetFromWorld()"),s=100,c=Math.min(Math.floor(n*s),s),u=[],.5,l=new I,I.fromEuler(l,0,0,0),d=0;d<c;d++)p=M(this.imagePrefab),w=p.getComponent(T),u.push(p),p.position=r,p.rotation=l,p.parent=this.rewardsEmptyParent,p.name="Coin "+d,w.spriteFrame=t,v=.75,p.scale=new m(v,v,v),b=this.RandomInsideUnitCircle(),m.add(b,b,r),h(p).to(.5,{position:b},{easing:"quadInOut"}).start();return console.log("UI_Metagame.sendItemToTarget() instances: "+u.length),e.next=11,y.seconds(.5);case 11:P=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p=u[t],.5,.75,U=c/s,x=g(0,c<=1?0:f.lerp(.5,.75,U)),h(p).delay(x).to(D.multipleItemsMoveDuration,{worldPosition:a},{easing:"quadInOut"}).call((function(){u[t].destroy()})).start();case 6:case"end":return e.stop()}}),e)})),_=0;case 13:if(!(_<c)){e.next=18;break}return e.delegateYield(P(_),"t0",15);case 15:_++,e.next=13;break;case 18:return e.next=20,y.seconds(this.multipleItemsMoveDuration);case 20:o&&o();case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),s.sendItemTypeToTarget=function(e,t,n,r,a){console.log("UI_Metagame.sendItemTypeToTarget"),this.sendItemToTarget(e.icon,t,n,r,a)},s.sendItemToTarget=function(){var e=o(i().mark((function e(t,n,r,a,o){var s,c,u,l,d,p,w,v,b,P,U,x,_=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("UI_Metagame.sendItemToTarget()"),s=100,c=Math.min(Math.floor(n*s),s),u=[],.5,l=new I,I.fromEuler(l,0,0,0),console.log("UI_Metagame.sendItemToTarget "+c),d=0;d<c;d++)p=M(this.imagePrefab),w=p.getComponent(T),u.push(p),p.worldPosition=r,p.rotation=l,p.parent=this.rewardsEmptyParent,p.name="Coin "+d,w.spriteFrame=t,p.scale=new m(1,1,1),p.worldPosition=r,v=this.RandomInsideUnitCircle(),m.add(v,v,r),h(p).to(.5,{worldPosition:v},{easing:"quadInOut"}).start();return console.log("UI_Metagame.sendItemToTarget() instances: "+u.length),e.next=12,y.seconds(.5);case 12:b=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p=u[t],.5,.75,P=c/s,U=g(0,c<=1?0:f.lerp(.5,.75,P)),h(p).delay(U).to(_.multipleItemsMoveDuration,{worldPosition:a},{easing:"quadInOut"}).call((function(){u[t].destroy()})).start();case 6:case"end":return e.stop()}}),e)})),x=0;case 14:if(!(x<c)){e.next=19;break}return e.delegateYield(b(x),"t0",16);case 16:x++,e.next=14;break;case 19:return e.next=21,y.seconds(this.multipleItemsMoveDuration);case 21:o&&o();case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}(),s.RandomInsideUnitCircle=function(){var e=this.randomInsideUnitCircle();return new m(100*e.x,100*e.y,0)},s.randomInsideUnitCircle=function(){var e=Math.random()*Math.PI*2,t=Math.sqrt(Math.random());return new d(Math.cos(e)*t,Math.sin(e)*t)},t}(p)).prototype,"imagePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(x.prototype,"multipleItemsMoveDuration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),C=t(x.prototype,"oneItemMoveDuration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(x.prototype,"rewardsEmptyParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=x))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_MultiplierSlider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SliderMultiplierBox.ts","./index2.ts","./GameplayController.ts","./CollectMultiplierButton.ts","./UI_PopupVictoryScreen.ts","./MetagameController.ts","./Singleton.ts","./Wait.ts"],(function(e){var t,i,n,r,o,l,u,a,s,p,c,g,h,f,m,d,b,y,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,a=e._decorator,s=e.RealCurve,p=e.Slider,c=e.UIOpacity,g=e.tween,h=e.Component},function(e){f=e.SliderMultiplierBox},null,function(e){m=e.GameplayController},function(e){d=e.CollectMultiplierButton},function(e){b=e.UI_PopupVictoryScreen},function(e){y=e.MetagameController},function(e){v=e.Singleton},function(e){S=e.Wait}],execute:function(){var M,w,I,z,C,P,x,_,U,V,B,T,A,R,N,D,F,G,H,k,q,E,L,W,j,J,O,Y,Z;u._RF.push({},"b528dz28VJMSZYwyPAS6RSp","UI_MultiplierSlider",void 0);var K=a.ccclass,Q=a.property;e("UI_MultiplierSlider",(M=K("UI_MultiplierSlider"),w=Q({type:Boolean}),I=Q({type:s,group:"Configs"}),z=Q({type:Number,group:"Configs"}),C=Q({type:Number,group:"Configs"}),P=Q({type:Number,group:"Runtime"}),x=Q({type:Number,group:"Runtime"}),_=Q({type:[Number],group:"Runtime"}),U=Q({type:Number}),V=Q({type:p,group:"Components"}),B=Q({type:c,group:"Components"}),T=Q({type:b,group:"Components"}),A=Q({type:d,group:"Components"}),R=Q({type:[f],group:"Components"}),M((F=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isPlaying",F,r(t)),n(t,"sliderCurve",G,r(t)),n(t,"speed",H,r(t)),n(t,"divisions",k,r(t)),t.animationTween=null,n(t,"currentValue",q,r(t)),n(t,"currentId",E,r(t)),n(t,"multipliers",L,r(t)),n(t,"increment",W,r(t)),t.modifiedSpeed=0,t.baseValue=0,t.pingPongTween=null,n(t,"posSlider",j,r(t)),n(t,"group",J,r(t)),n(t,"victoryScreen",O,r(t)),n(t,"collectMultBtn",Y,r(t)),n(t,"boxes",Z,r(t)),t}i(t,e);var u=t.prototype;return u.start=function(){console.log("UI_MultiplierSlider.start()")},u.onEnable=function(){console.log("UI_MultiplierSlider.onEnable()"),this.initialize()},u.initialize=function(){this.modifiedSpeed=1*this.speed,this.group.opacity=0,this.collectMultBtn.initialize();for(var e=v.get(y).getSliderMultipliers(),t=0;t<e.length;t++)this.multipliers.push(e[t]);for(var i=this.boxes.length-e.length,n=1;n<=i;n++){var r=e.length-1-n;this.multipliers.push(e[r])}v.get(m).togglePause(!1),this.fadeSequence()},u.fadeSequence=function(){var e=o(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fadeIn(.5),this.startAnimation(1),e.next=4,S.seconds(.5);case 4:this.collectMultBtn.fadeIn(.75);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.startAnimation=function(e,t){var i=this;void 0===e&&(e=1),this.isPlaying||(this.isPlaying=!0,this.currentValue=0,this.animationTween=g({value:0}).to(e,{value:1},{easing:"linear",onUpdate:function(e){i.handleProgress(e.value)}}).to(e,{value:0},{easing:"linear",onUpdate:function(e){i.handleProgress(e.value)}}).union().repeatForever().start())},u.handleProgress=function(e){this.currentValue=e,this.posSlider.progress=this.currentValue,this.convertToIndex(this.currentValue)},u.convertToIndex=function(e){var t=Math.min(Math.max(e*this.divisions,0),this.divisions-1);this.currentId=Math.floor(t);for(var i=0;i<this.boxes.length;i++)this.boxes[i].toggleHighlight(!1);this.boxes[this.currentId].toggleHighlight(!0);var n=this.multipliers[this.currentId];this.collectMultBtn.updateDisplay(n,this.baseValue*n)},u.updateBaseDisplayValue=function(e){this.baseValue=e},u.collectMultiplier=function(){this.pauseAnimation(),this.victoryScreen.collectMultipliedReward(this.multipliers[this.currentId])},u.pauseAnimation=function(){this.isPlaying&&(console.log("UI_MultiplierSlider.stopAnimation()"),this.animationTween&&this.animationTween.pause(),this.isPlaying=!1)},u.resumeAnimation=function(){console.log("UI_MultiplierSlider.resumeAnimation()"),this.animationTween&&!this.isPlaying&&(this.animationTween.resume(),this.isPlaying=!0)},u.fadeIn=function(e){g(this.group).to(e,{opacity:255}).start()},t}(h)).prototype,"isPlaying",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=t(D.prototype,"sliderCurve",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"speed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(D.prototype,"divisions",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),q=t(D.prototype,"currentValue",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(D.prototype,"currentId",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(D.prototype,"multipliers",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(D.prototype,"increment",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(D.prototype,"posSlider",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(D.prototype,"group",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"victoryScreen",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(D.prototype,"collectMultBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(D.prototype,"boxes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=D))||N));u._RF.pop()}}}));

System.register("chunks:///_virtual/UI_ObjectivesDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelAsset.ts","./UI_SingleObjective.ts","./ObjectivesController.ts","./index2.ts","./UI_GenericData.ts","./UI_LayoutCentralizer.ts","./Singleton.ts"],(function(e){var t,i,n,r,o,a,c,l,s,u,p,b,f,v,y,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Prefab,l=e.Node,s=e.instantiate,u=e.Component},function(e){p=e.ObjectiveData},function(e){b=e.UI_SingleObjective},function(e){f=e.ObjectivesController},null,function(e){v=e.ObjectiveSprite,y=e.UI_GenericData},function(e){g=e.UI_LayoutCentralizer},function(e){d=e.Singleton}],execute:function(){var h,j,m,O,z,D,I,S,_,k,C,P,U,L,w;o._RF.push({},"ed034FINgpB0LhKhvdIR5Dq","UI_ObjectivesDisplay",void 0);var B=a.ccclass,A=a.property;e("UI_ObjectivesDisplay",(h=B("UI_ObjectivesDisplay"),j=A({type:[p]}),m=A({type:[b]}),O=A({type:c,group:{name:"Components"}}),z=A({type:l,group:{name:"Components"}}),D=A({type:g,group:{name:"Components"}}),I=A({type:[v],group:{name:"Runtime"}}),h((k=t((_=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"loadedObjectives",k,r(t)),n(t,"blocks",C,r(t)),n(t,"displayPrefab",P,r(t)),n(t,"blockParent",U,r(t)),n(t,"centralizer",L,r(t)),n(t,"objectiveSprites",w,r(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){d.set(this)},o.setLevelData=function(e){this.loadedObjectives=e,this.createButtons(e),this.objectiveSprites=d.get(y).getObjectiveSprites()},o.createButtons=function(e){this.blockParent.destroyAllChildren(),this.blocks.clear();for(var t=0;t<e.length;t++)this.createObjectiveBlock(t,e[t].type,e[t].amount);this.centralizer.refreshPositions()},o.createObjectiveBlock=function(e,t,i){var n=s(this.displayPrefab);n.parent=this.blockParent,n.setSiblingIndex(e);var r=n.getComponent(b);r.initialize(e,d.get(y).getSpriteFromObjective(t),i,!1),d.get(f).trackedObjectives[e].onAmountChanged.addListener(r.amountUpdatedLambda),this.blocks.push(r)},o.getObjectiveDisplays=function(){return this.blocks},o.getObjectiveSprites=function(){return this.objectiveSprites},o.toggleDisplay=function(e){this.node.active=e},t}(u)).prototype,"loadedObjectives",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(_.prototype,"blocks",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(_.prototype,"displayPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(_.prototype,"blockParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(_.prototype,"centralizer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(_.prototype,"objectiveSprites",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=_))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PopupBoosterAD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./GameplayController.ts","./APIController.ts","./RewardAfterAd.ts","./UI_BoostersDisplay.ts","./MetagameController.ts","./InputManager.ts","./Action.ts","./Singleton.ts","./ProgressController.ts"],(function(e){var t,n,o,i,r,p,a,l,s,u,c,d,g,h,f,y,m,P,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,p=e._decorator,a=e.Node,l=e.Label,s=e.Sprite,u=e.Component},null,function(e){c=e.GameplayController},function(e){d=e.APIController},function(e){g=e.RewardAfterAd},function(e){h=e.UI_BoostersDisplay},function(e){f=e.MetagameController},function(e){y=e.InputManager},function(e){m=e.Action},function(e){P=e.Singleton},function(e){A=e.ProgressController}],execute:function(){var I,D,C,v,b,w,_,B,U,F,z;r._RF.push({},"26492Cp/4dP44Hxe5ZotQlo","UI_PopupBoosterAD",void 0);var R=p.ccclass,M=p.property;e("UI_PopupBoosterAD",(I=R("UI_PopupBoosterAD"),D=M({type:a,group:"Components"}),C=M({type:l,group:"Components"}),v=M({type:l,group:"Components"}),b=M({type:s,group:"Components"}),I((B=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),p=0;p<n;p++)r[p]=arguments[p];return t=e.call.apply(e,[this].concat(r))||this,o(t,"popupParent",B,i(t)),o(t,"titleDisplay",U,i(t)),o(t,"descriptionDisplay",F,i(t)),o(t,"icon",z,i(t)),t.onAdCanceled=new m,t.onAdFinished=new m,t.currentId=void 0,t}n(t,e);var r=t.prototype;return r.openPopup=function(e,t){this.currentId=t,this.titleDisplay.string=e.displayName,this.descriptionDisplay.string=e.description,this.icon.spriteFrame=e.icon,this.popupParent.active=!0,P.get(c).togglePause(!0)},r.hidePopup=function(){this.popupParent.active=!1,P.get(c).togglePause(!1)},r.cancelAd=function(){var e;null==(e=this.onAdCanceled)||e.invoke(this.currentId),this.hidePopup()},r.confirmWatchAd=function(){var e=this;P.get(d).rewardedBreak((function(){return e.handleAdFinished()}),"UI_PopupBoosterAD")},r.handleAdFinished=function(){var e,t=g.selectedReward;t&&(P.get(f).giftReward(t),P.get(h).animatedBoosterUpdate(t.itemType,A.gameProgress.getItem(t.itemType.hashId).amount)),P.get(y).resetDrag(),null==(e=this.onAdFinished)||e.invoke(this.currentId),this.hidePopup()},t}(u)).prototype,"popupParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(_.prototype,"titleDisplay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"descriptionDisplay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PopupVictoryScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./UI_SingleCompletedObjective.ts","./GameplayController.ts","./CollectMultiplierButton.ts","./APIController.ts","./UI_MultiplierSlider.ts","./UI_VictoryRewardsDisplay.ts","./MetagameController.ts","./UI_GenericData.ts","./UI_DynamicTextLocalized.ts","./Singleton.ts","./Wait.ts","./ProgressController.ts"],(function(e){var t,i,n,r,o,l,a,u,c,s,p,y,f,b,d,h,m,g,v,w,B,I,k,S,C,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.Node,p=e.Label,y=e.Prefab,f=e.instantiate,b=e.Component},null,function(e){d=e.UI_SingleCompletedObjective},function(e){h=e.GameplayController},function(e){m=e.CollectMultiplierButton},function(e){g=e.APIController},function(e){v=e.UI_MultiplierSlider},function(e){w=e.UI_VictoryRewardsDisplay},function(e){B=e.MetagameController},function(e){I=e.ObjectiveSprite},function(e){k=e.UI_DynamicTextLocalized},function(e){S=e.Singleton},function(e){C=e.Wait},function(e){z=e.ProgressController}],execute:function(){var _,T,j,D,x,R,P,U,L,M,V,O,F,A,N,G,q,H,W,E,J,K,Q,X,Y,Z,$,ee,te,ie,ne,re,oe,le,ae,ue,ce,se,pe,ye,fe,be,de,he,me,ge,ve,we,Be,Ie,ke,Se,Ce,ze,_e;u._RF.push({},"676e13MLJVBo7162lEwKhF9","UI_PopupVictoryScreen",void 0);var Te=c.ccclass,je=c.property,De=(_=Te("UpperBlock"),T=je({type:s}),j=je({type:s}),D=je({type:p}),x=je({type:p}),R=je({type:[d]}),_((L=t((U=function(){function e(){n(this,"titleBlock",L,this),n(this,"objectivesLayout",M,this),n(this,"victoryTitle",V,this),n(this,"defeatTitle",O,this),n(this,"displays",F,this)}return e.prototype.setTitle=function(e){this.victoryTitle.node.active=e,this.defeatTitle.node.active=!e},e}()).prototype,"titleBlock",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(U.prototype,"objectivesLayout",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(U.prototype,"victoryTitle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"defeatTitle",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"displays",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=U))||P),xe=(A=Te("LowerBlock"),N=je({type:s}),G=je({type:p}),q=je({type:p}),H=je({type:s}),W=je({type:s}),A((K=t((J=function(){function e(){n(this,"titleBlock",K,this),n(this,"victoryTitle",Q,this),n(this,"defeatTitle",X,this),n(this,"victoryBlock",Y,this),n(this,"defeatBlock",Z,this)}return e.prototype.setState=function(e){this.victoryTitle.node.active=e,this.defeatTitle.node.active=!e,this.victoryBlock.active=e,this.defeatBlock.active=!e},e}()).prototype,"titleBlock",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(J.prototype,"victoryTitle",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(J.prototype,"defeatTitle",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(J.prototype,"victoryBlock",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(J.prototype,"defeatBlock",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=J))||E);e("UI_PopupVictoryScreen",($=Te("UI_PopupVictoryScreen"),ee=je({type:Number}),te=je({type:Number}),ie=je({type:Number,group:{name:"Runtime"}}),ne=je({type:Number,group:{name:"Runtime"}}),re=je({type:[I],group:{name:"Runtime"}}),oe=je({type:k,group:{name:"Components"}}),le=je({type:y,group:{name:"Components"}}),ae=je({type:m,group:{name:"Components"}}),ue=je({type:m,group:{name:"Components"}}),ce=je({type:v,group:{name:"Components"}}),se=je({type:w,group:{name:"Components"}}),pe=je({type:De,group:{name:"Components"}}),ye=je({type:xe,group:{name:"Components"}}),$((de=t((be=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"continueDelay",de,r(t)),n(t,"buttonsFadeInDuration",he,r(t)),n(t,"currentReward",me,r(t)),n(t,"currentMultiplier",ge,r(t)),n(t,"objectiveSprites",ve,r(t)),n(t,"dynamicText",we,r(t)),n(t,"objectivePrefab",Be,r(t)),n(t,"multButton",Ie,r(t)),n(t,"continueButton",ke,r(t)),n(t,"multiplierSlider",Se,r(t)),n(t,"rewardsDisplay",Ce,r(t)),n(t,"upperBlock",ze,r(t)),n(t,"lowerBlock",_e,r(t)),t.alreadyClicked=!1,t}i(t,e);var u=t.prototype;return u.showVictoryScreen=function(e,t,i,n){console.log("UI_PopupVictoryScreen.showVictoryScreen() isVictory? "+i),this.node.active=!0,this.objectiveSprites=t,this.upperBlock.setTitle(i),this.lowerBlock.setState(i),this.continueButton.removeOverride(),this.createObjectives(e,this.upperBlock.objectivesLayout,i),this.dynamicText.updateText(n.toString());var r=S.get(B).getLevelGold();this.currentReward=r,this.multiplierSlider.updateBaseDisplayValue(r),this.alreadyClicked=!1,this.rewardsDisplay.initialize(r),this.animationSequence()},u.animationSequence=function(){var e=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rewardsDisplay.fadeInRewards(.5),e.next=3,C.seconds(.25);case 3:if(this.multiplierSlider.fadeIn(this.buttonsFadeInDuration),this.multButton.fadeIn(this.buttonsFadeInDuration),!(this.continueDelay>0)){e.next=8;break}return e.next=8,C.seconds(this.continueDelay);case 8:this.continueButton.fadeIn(this.buttonsFadeInDuration,this.alreadyClicked),this.toggleInteractions(!0);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.continueToNextLevel=function(){console.log("UI_PopupVictoryScreen.continueToNextLevel()"),S.get(h).loadNextLevel(),this.node.active=!1},u.retryCurrentLevel=function(){console.log("UI_PopupVictoryScreen.retryCurrentLevel()"),S.get(h).retry(),this.node.active=!1},u.collectMultipliedReward=function(e){var t=this;this.alreadyClicked=!0,this.currentMultiplier=e,this.continueButton.overrideIsInteractable(),this.continueButton.toggleInteractable(!1),this.toggleInteractions(!1),S.get(g).rewardedBreak((function(e){return t.rewardedBreakComplete(e)}),"UI_PopupVictoryScreen")},u.collectDefaultReward=function(){this.alreadyClicked=!0,this.continueButton.overrideIsInteractable(),this.multiplierSlider.pauseAnimation(),this.toggleInteractions(!1),this.collectRewardAnimation(this.currentMultiplier)},u.rewardedBreakComplete=function(){var e=l(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("UI_PopupVictoryScreen.rewardedBreakComplete(success: "+t+")"),!t){e.next=5;break}this.collectMultipliedReward_Finish(this.currentMultiplier),e.next=11;break;case 5:return e.next=7,C.seconds(.5);case 7:this.continueButton.removeOverride(),this.toggleInteractions(!0),this.continueButton.node.active=!0,this.multiplierSlider.resumeAnimation();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.collectMultipliedReward_Finish=function(e){this.collectRewardAnimation(this.currentReward*e)},u.collectRewardAnimation=function(){var e=l(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UI_PopupVictoryScreen.collectRewardAnimation(value: "+t+")"),z.Metagame_GainGold(t),e.next=4,C.seconds(1);case 4:this.continueToNextLevel();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.toggleInteractions=function(e){this.continueButton.toggleInteractable(e),this.multButton.toggleInteractable(e)},u.createObjectives=function(e,t,i){t.destroyAllChildren();for(var n=0;n<e.length;n++)this.createObjectiveBlock(this.getSpriteFromObjective(e[n].loadedObjectives.type),e[n].currentAmount,e[n].loadedObjectives.amount,t,i)},u.createObjectiveBlock=function(e,t,i,n,r){var o=f(this.objectivePrefab);o.parent=n;var l=o.getComponent(d);l.initialize(e,t,i,r),this.upperBlock.displays.push(l)},u.getSpriteFromObjective=function(e){for(var t,i=o(this.objectiveSprites);!(t=i()).done;){var n=t.value;if(n.objective===e)return n.sprite}return null},t}(b)).prototype,"continueDelay",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=t(be.prototype,"buttonsFadeInDuration",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),me=t(be.prototype,"currentReward",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ge=t(be.prototype,"currentMultiplier",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=t(be.prototype,"objectiveSprites",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=t(be.prototype,"dynamicText",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(be.prototype,"objectivePrefab",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(be.prototype,"multButton",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(be.prototype,"continueButton",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(be.prototype,"multiplierSlider",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(be.prototype,"rewardsDisplay",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(be.prototype,"upperBlock",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(be.prototype,"lowerBlock",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=be))||fe));u._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PopupVictoryScreenBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_BonusRoulette.ts","./index2.ts","./APIController.ts","./UI_AnimatedNumber.ts","./UI_CollectMultiplierButton.ts","./ItemType.ts","./GameplayController.ts","./Singleton.ts"],(function(e){var t,n,i,r,o,l,a,u,c,s,p,d,h,b,f,g,y,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.Node,s=e.UIOpacity,p=e.Component,d=e.tween},function(e){h=e.UI_BonusRoulette},null,function(e){b=e.APIController},function(e){f=e.UI_AnimatedNumber},function(e){g=e.UI_CollectMultiplierButton},function(e){y=e.ItemType},function(e){m=e.GameplayController},function(e){w=e.Singleton}],execute:function(){var I,R,C,v,B,D,z,S,_,k,M,P,L,U,V,A,O,F,G,N,T,x,j,W,H,E,K,q,J;a._RF.push({},"83643IsBnNPxbsns9BeKikL","UI_PopupVictoryScreenBase",void 0);var Q=u.ccclass,X=u.property;e("UI_PopupVictoryScreenBase",(I=Q("UI_PopupVictoryScreenBase"),R=X({type:c}),C=X({type:Number,group:"Runtime"}),v=X({type:Number,group:"Runtime"}),B=X({type:c,group:"Runtime"}),D=X({type:c,group:"Runtime"}),z=X({type:y,group:"Components"}),S=X({type:g,group:"Components"}),_=X({type:h,group:"Components"}),k=X({type:c,group:"Components"}),M=X({type:s,group:"Components"}),P=X({type:f,group:"Components"}),I((V=t((U=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"firstLevelWithAd",V,r(t)),i(t,"continueDelay",A,r(t)),i(t,"onLevelFinished",O,r(t)),i(t,"hasStreakDisplay",F,r(t)),i(t,"buttonsFadeInDuration",G,r(t)),i(t,"currentReward",N,r(t)),i(t,"currentMultiplier",T,r(t)),i(t,"goldTarget",x,r(t)),i(t,"goldSource",j,r(t)),i(t,"goldItem",W,r(t)),i(t,"beginButton",H,r(t)),i(t,"roulette",E,r(t)),i(t,"streakObj",K,r(t)),i(t,"baseGroup",q,r(t)),i(t,"baseValueDisplay",J,r(t)),t.alreadyClicked=!1,t.onCollectDefaultReward=void 0,t.onCollectMultiplierReward=void 0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){console.log("UI_PopupVictoryScreenBase.onLoad"),this.setEvents()},a.setEvents=function(){var e=this;this.onCollectDefaultReward=function(){e.handleOnCollectDefaultReward()},this.onCollectMultiplierReward=function(t){e.handleOnCollectMultipliedReward(t)},this.roulette.onCollectDefault.addListener(this.onCollectDefaultReward),this.roulette.onCollectMultiplier.addListener(this.onCollectMultiplierReward)},a.showLevelVictoryScreenSimple=function(e){this.baseGroup.opacity=0,this.currentReward=e,this.roulette.initialize(this.currentReward),this.showPopup(),this.alreadyClicked=!1,this._animationBase()},a._animationBase=function(){var e=o(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.baseGroup&&d(this.baseGroup).to(.3,{opacity:255}).start(),this.baseValueDisplay.updateValue(this.currentReward),e.next=4,new Promise((function(e){return setTimeout(e,300)}));case 4:this.roulette.node.active?this.roulette.animate():this.beginButton.fadeIn(.5),this.streakObj&&(this.streakObj.active=!0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.showPopup=function(){this.node.active=!0},a.hidePopup=function(){this.handleHideWindow()},a.handleHideWindow=function(){this.node.active=!1},a.handleOnCollectDefaultReward=function(){this.alreadyClicked=!0,this.roulette.overrideIsInteractable(),this.roulette.stopRoulette(),this.disableInteractions(),this.beginButton&&this.beginButton.node.active?this.goldSource=this.beginButton.node:this.goldSource=this.roulette.goldSource;var e=this.currentReward;this.collectRewardAnimation(e)},a.handleOnCollectMultipliedReward=function(e){var t=this;this.roulette.stopRoulette(),this.alreadyClicked=!0,this.currentMultiplier=e,this.roulette.overrideIsInteractable(),this.roulette.toggleInteractions(!1),this.disableInteractions(),w.get(b).rewardedBreak((function(e){return t.rewardedBreakComplete(e)}),"UI_PopupVictoryScreen")},a.rewardedBreakComplete=function(e){e?this.collectMultipliedRewardFinish(this.currentMultiplier):this.handleOnCollectDefaultReward()},a.collectMultipliedRewardFinish=function(e){this.collectRewardAnimation(this.currentReward*e)},a.collectRewardAnimation=function(e){w.get(m).loadNextLevel()},a.toggleInteractions=function(e){e?this.enableInteractions():this.disableInteractions()},a.disableInteractions=function(){this.roulette.toggleInteractions(!1),this.beginButton&&this.beginButton.toggleInteractable(!1)},a.enableInteractions=function(){this.roulette.toggleInteractions(!0),this.beginButton&&this.beginButton.toggleInteractable(!0)},t}(p)).prototype,"firstLevelWithAd",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),A=t(U.prototype,"continueDelay",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=t(U.prototype,"onLevelFinished",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"hasStreakDisplay",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G=t(U.prototype,"buttonsFadeInDuration",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),N=t(U.prototype,"currentReward",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=t(U.prototype,"currentMultiplier",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(U.prototype,"goldTarget",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"goldSource",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(U.prototype,"goldItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"beginButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(U.prototype,"roulette",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(U.prototype,"streakObj",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(U.prototype,"baseGroup",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"baseValueDisplay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI_PopupVictoryScreenGemSort.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_AnimatedNumber.ts","./index2.ts","./UI_SingleCompletedObjective.ts","./UI_GenericData.ts","./UI_DynamicTextLocalized.ts","./UI_GoldDisplay.ts","./GameplayController.ts","./MetagameController.ts","./UI_CollectMultiplierButton.ts","./UI_BonusRoulette.ts","./ItemType.ts","./APIController.ts","./UI_Metagame.ts","./Singleton.ts","./SimplePool.ts","./Wait.ts"],(function(e){var t,i,o,r,n,a,u,l,c,s,p,h,b,f,y,d,g,m,v,w,V,S,I,C,P,R,A,D,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,a=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Node,p=e.UIOpacity,h=e.Prefab,b=e.Vec3,f=e.Component},function(e){y=e.UI_AnimatedNumber},null,function(e){d=e.UI_SingleCompletedObjective},function(e){g=e.ObjectiveSprite},function(e){m=e.UI_DynamicTextLocalized},function(e){v=e.UI_GoldDisplay},function(e){w=e.GameplayController},function(e){V=e.MetagameController},function(e){S=e.UI_CollectMultiplierButton},function(e){I=e.UI_BonusRoulette},function(e){C=e.ItemType},function(e){P=e.APIController},function(e){R=e.UI_Metagame},function(e){A=e.Singleton},function(e){D=e.SimplePool},function(e){z=e.Wait}],execute:function(){var _,j,k,L,x,B,G,T,O,U,M,E,F,W,N,H,J,X,Z,q,K,Q,Y,$,ee,te,ie,oe,re,ne,ae,ue,le,ce,se,pe,he,be,fe,ye,de,ge,me,ve,we,Ve,Se,Ie,Ce,Pe,Re,Ae,De,ze,_e,je,ke,Le,xe,Be,Ge;l._RF.push({},"1605bBJw11PkroW5L8j/SaX","UI_PopupVictoryScreenGemSort",void 0);var Te=c.ccclass,Oe=c.property;e("UI_PopupVictoryScreenGemSort",(_=Te("UI_PopupVictoryScreenGemSort"),j=Oe({type:s}),k=Oe({type:Number,group:"Runtime"}),L=Oe({type:Number,group:"Runtime"}),x=Oe({type:s,group:"Runtime"}),B=Oe({type:s,group:"Runtime"}),G=Oe({type:Boolean,group:"Auto Victory"}),T=Oe({type:Number,group:"Auto Victory"}),O=Oe({type:s,group:"Auto Victory"}),U=Oe({type:s,group:"Auto Victory"}),M=Oe({type:p,group:"Auto Victory"}),E=Oe({type:y,group:"Auto Victory"}),F=Oe({type:m,group:"Auto Victory"}),W=Oe({type:s,group:"Auto Victory"}),N=Oe({type:h,group:"Extra Components"}),H=Oe({type:m,group:"Extra Components"}),J=Oe({type:[g],group:"Extra Components"}),X=Oe({type:s,group:"Extra Components"}),Z=Oe({type:s,group:"Extra Components"}),q=Oe({type:s,group:"Extra Components"}),K=Oe({type:s,group:"Extra Components"}),Q=Oe({type:s,group:"Extra Components"}),Y=Oe({type:C,group:"Components"}),$=Oe({type:S,group:"Components"}),ee=Oe({type:I,group:"Components"}),te=Oe({type:s,group:"Components"}),ie=Oe({type:p,group:"Components"}),oe=Oe({type:y,group:"Components"}),_((ae=t((ne=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"firstLevelWithAd",ae,r(t)),o(t,"continueDelay",ue,r(t)),o(t,"onLevelFinished",le,r(t)),o(t,"hasStreakDisplay",ce,r(t)),o(t,"buttonsFadeInDuration",se,r(t)),o(t,"currentReward",pe,r(t)),o(t,"currentMultiplier",he,r(t)),o(t,"goldTarget",be,r(t)),o(t,"goldSource",fe,r(t)),o(t,"isAutoVictory",ye,r(t)),o(t,"autoVictoryWait",de,r(t)),o(t,"autoVictoryPopup",ge,r(t)),o(t,"objectivesLayoutAutoVictory",me,r(t)),o(t,"baseGroup2",ve,r(t)),o(t,"baseValueDisplay2",we,r(t)),o(t,"levelTitle2",Ve,r(t)),o(t,"uiAutoVictoryAnimator",Se,r(t)),o(t,"objectivePrefab",Ie,r(t)),o(t,"levelTitle",Ce,r(t)),o(t,"objectiveSprites",Pe,r(t)),o(t,"victoryPopup",Re,r(t)),o(t,"defeatPopup",Ae,r(t)),o(t,"objectivesLayoutVictory",De,r(t)),o(t,"objectivesLayoutDefeat",ze,r(t)),o(t,"loadingBlock",_e,r(t)),o(t,"goldItem",je,r(t)),o(t,"beginButton",ke,r(t)),o(t,"roulette",Le,r(t)),o(t,"streakObj",xe,r(t)),o(t,"baseGroup",Be,r(t)),o(t,"baseValueDisplay",Ge,r(t)),t.alreadyClicked=!1,t.onCollectDefaultReward=void 0,t.onCollectMultiplierReward=void 0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){A.set(this),console.log("UI_PopupVictoryScreenGemSort.onLoad"),this.setEvents(),this.node.active=!1},l.setEvents=function(){var e=this;this.onCollectDefaultReward=function(){e.handleOnCollectDefaultReward()},this.onCollectMultiplierReward=function(t){e.handleOnCollectMultipliedReward(t)},this.roulette.onCollectDefault.addListener(this.onCollectDefaultReward),this.roulette.onCollectMultiplier.addListener(this.onCollectMultiplierReward)},l.showLevelVictoryScreen=function(e,t,i,o,r){console.log("UI_PopupVictoryScreenGemSort.showLevelVictoryScreen()"),this.objectiveSprites=t,this.node.active=!0,this.isAutoVictory?this.autoVictoryPopup.active=i:this.victoryPopup.active=i,this.defeatPopup.active=!i,this.roulette.removeOverrides(),this.goldTarget=A.get(v).goldTarget;var n=this.objectivesLayoutDefeat;i&&(n=this.isAutoVictory?this.objectivesLayoutAutoVictory:this.objectivesLayoutVictory),this.createObjectives(e,n,i),this.isAutoVictory?this.levelTitle2.updateText(o.toString()):this.levelTitle.updateText(o.toString()),i?this.isAutoVictory?this.showAutoVictoryScreen(r):(o>=this.firstLevelWithAd?this.roulette.node.active=!0:this.roulette&&(this.roulette.node.active=!1),this.showLevelVictoryScreenSimple(r)):this.showDefeatScreen(r)},l.showLevelVictoryScreenSimple=function(e){this.baseGroup.opacity=0,this.currentReward=e,this.roulette.initialize(this.currentReward),this.showPopup(),this.alreadyClicked=!1,this._animation()},l.showPopup=function(){this.node.active=!0},l.hidePopup=function(){this.handleHideWindow()},l.handleHideWindow=function(){this.node.active=!1},l._animation=function(){var e=a(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.baseGroup.opacity=0,this.baseValueDisplay.updateValue(this.currentReward),e.next=4,new Promise((function(e){return setTimeout(e,300)}));case 4:this.roulette.node.active?this.roulette.animate():this.beginButton.fadeIn(.5),this.hasStreakDisplay&&(this.streakObj.active=!0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.showAutoVictoryScreen=function(e){console.log("UI_PopupVictoryScreenGemSort.showAutoVictoryScreen()"),this.baseGroup2.opacity=0,this.currentReward=e,this.showPopup(),this.alreadyClicked=!1,this._animationAutoVictory()},l._animationAutoVictory=function(){var e=a(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UI_PopupVictoryScreenGemSort._animationAutoVictory()"),this.baseGroup2.opacity=255,this.baseValueDisplay2.updateValue(this.currentReward),e.next=5,new Promise((function(e){return setTimeout(e,300)}));case 5:return this.hasStreakDisplay&&(this.streakObj.active=!0),e.next=8,new Promise((function(e){return setTimeout(e,1e3*t.autoVictoryWait)}));case 8:this.goldSource=this.baseValueDisplay2.node,this.collectRewardAnimation(this.currentReward);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.showDefeatScreen=function(e){this.toggleLoading(!1),this.baseGroup.opacity=0,this.currentReward=e,this.showPopup(),this.alreadyClicked=!1,this._animationDefeat()},l._animationDefeat=function(){var e=a(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.baseGroup.opacity=0,this.baseValueDisplay.updateValue(this.currentReward),e.next=4,new Promise((function(e){return setTimeout(e,300)}));case 4:this.hasStreakDisplay&&(this.streakObj.active=!1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.hideDefeatScreen=function(){this.node.active=!1},l.retry=function(){A.get(w).retry(),this.node.active=!1},l.handleOnCollectDefaultReward=function(){this.alreadyClicked=!0,this.roulette.overrideIsInteractable(),this.roulette.stopRoulette(),this.disableInteractions(),this.beginButton&&this.beginButton.node.active?this.goldSource=this.beginButton.node:this.goldSource=this.roulette.goldSource;var e=this.currentReward;this.collectRewardAnimation(e)},l.handleOnCollectMultipliedReward=function(e){var t=this;this.roulette.stopRoulette(),this.alreadyClicked=!0,this.currentMultiplier=e,this.roulette.overrideIsInteractable(),this.roulette.toggleInteractions(!1),this.disableInteractions(),A.get(P).rewardedBreak((function(e){return t.rewardedBreakComplete(e)}),"UI_PopupVictoryScreen")},l.rewardedBreakComplete=function(e){e?this.collectMultipliedRewardFinish(this.currentMultiplier):this.handleOnCollectDefaultReward()},l.collectMultipliedRewardFinish=function(e){this.collectRewardAnimation(this.currentReward*e)},l.toggleInteractions=function(e){e?this.enableInteractions():this.disableInteractions()},l.disableInteractions=function(){this.roulette.toggleInteractions(!1),this.beginButton&&this.beginButton.toggleInteractable(!1)},l.enableInteractions=function(){this.roulette.toggleInteractions(!0),this.beginButton&&this.beginButton.toggleInteractable(!0)},l.toggleLoading=function(e){this.loadingBlock&&(this.loadingBlock.active=e)},l.collectRewardAnimation=function(e){var t=this;A.get(R).sendItemTypeToTarget(this.goldItem,.1,this.goldSource.worldPosition,this.goldTarget.worldPosition,(function(){return t.afterRewardCollected(e)}))},l.afterRewardCollected=function(){var e=a(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.get(V).metagame_GainGold(t),!this.isAutoVictory){e.next=6;break}return e.next=4,z.seconds(.15);case 4:return e.next=6,z.seconds(.3);case 6:this.hidePopup(),A.get(w).loadNextLevel();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.createObjectives=function(e,t,i){var o=this;t&&t.children.forEach((function(e){e.destroy()})),e.forEach((function(e){o.createObjectiveBlock(o.getSpriteFromObjective(e.loadedObjectives.type),e.currentAmount,e.loadedObjectives.amount,t,i)}))},l.createObjectiveBlock=function(e,t,i,o,r){var n=D.spawn(this.objectivePrefab);n.setPosition(b.ZERO),n.setScale(new b(1,1,1)),n.setParent(o),n.getComponent(d).initialize(e,t,i,r)},l.getSpriteFromObjective=function(e){for(var t,i=n(this.objectiveSprites);!(t=i()).done;){var o=t.value;if(o.objective===e)return o.sprite}return null},t}(f)).prototype,"firstLevelWithAd",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ue=t(ne.prototype,"continueDelay",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),le=t(ne.prototype,"onLevelFinished",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ne.prototype,"hasStreakDisplay",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),se=t(ne.prototype,"buttonsFadeInDuration",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),pe=t(ne.prototype,"currentReward",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),he=t(ne.prototype,"currentMultiplier",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),be=t(ne.prototype,"goldTarget",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ne.prototype,"goldSource",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ne.prototype,"isAutoVictory",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=t(ne.prototype,"autoVictoryWait",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),ge=t(ne.prototype,"autoVictoryPopup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ne.prototype,"objectivesLayoutAutoVictory",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ne.prototype,"baseGroup2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ne.prototype,"baseValueDisplay2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ne.prototype,"levelTitle2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ne.prototype,"uiAutoVictoryAnimator",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ne.prototype,"objectivePrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ne.prototype,"levelTitle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ne.prototype,"objectiveSprites",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=t(ne.prototype,"victoryPopup",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ne.prototype,"defeatPopup",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ne.prototype,"objectivesLayoutVictory",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ne.prototype,"objectivesLayoutDefeat",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ne.prototype,"loadingBlock",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ne.prototype,"goldItem",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ne.prototype,"beginButton",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ne.prototype,"roulette",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ne.prototype,"streakObj",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ne.prototype,"baseGroup",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ne.prototype,"baseValueDisplay",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=ne))||re));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI_RouletteMultiplierBox.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,l,o,n,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,u=e.Node,a=e.Component}],execute:function(){var p,c,s,h,g,f,b,y;o._RF.push({},"18d67xPIfpEbbn0OFkvXBgn","UI_RouletteMultiplierBox",void 0);var d=n.ccclass,v=n.property;e("UI_RouletteMultiplierBox",(p=d("UI_RouletteMultiplierBox"),c=v({type:u}),s=v({type:u}),p((f=t((g=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"disabledAlpha",f,l(t)),r(t,"group",b,l(t)),r(t,"highlight",y,l(t)),t}return i(t,e),t.prototype.toggleHighlight=function(e){var t=e?255:255*this.disabledAlpha;this.group.opacity=t,this.highlight.active=e},t}(a)).prototype,"disabledAlpha",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=t(g.prototype,"group",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"highlight",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SettingsPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./GameplayController.ts","./Singleton.ts"],(function(t){var e,n,o,i,p,r,u,s,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){p=t.cclegacy,r=t._decorator,u=t.Node,s=t.Component},null,function(t){a=t.GameplayController},function(t){l=t.Singleton}],execute:function(){var c,g,f,y,P,h,v;p._RF.push({},"5492eVRcZJFkaI1XQR/JsDA","UI_SettingsPopup",void 0);var d=r.ccclass,m=r.property;t("UI_SettingsPopup",(c=d("UI_SettingsPopup"),g=m({type:u,group:"Components"}),f=m({type:u,group:"Components"}),c((h=e((P=function(t){function e(){for(var e,n=arguments.length,p=new Array(n),r=0;r<n;r++)p[r]=arguments[r];return e=t.call.apply(t,[this].concat(p))||this,o(e,"popupParent",h,i(e)),o(e,"settingsButton",v,i(e)),e}n(e,t);var p=e.prototype;return p.openPopup=function(){this.popupParent.active=!0,this.settingsButton.active=!1,l.get(a).togglePause(!0)},p.hidePopup=function(){this.popupParent.active=!1,this.settingsButton.active=!0,l.get(a).togglePause(!1)},e}(s)).prototype,"popupParent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(P.prototype,"settingsButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P))||y));p._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SingleBooster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Action.ts"],(function(t){var i,e,o,n,l,a,r,s,u,c,p,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Button,s=t.Label,u=t.Sprite,c=t.Node,p=t.Component},null,function(t){y=t.Action}],execute:function(){var b,g,m,f,h,k,d,B,D,v,z,w,C,L,S,_,I,A,U,F,x,N,P,R,T;l._RF.push({},"a3701yt0c5LdrE2kWm5cX8n","UI_SingleBooster",void 0);var j=a.ccclass,E=a.property;t("UI_SingleBooster",(b=j("UI_SingleBooster"),g=E({type:Number}),m=E(),f=E({type:r,group:"Components"}),h=E({type:s,group:"Components"}),k=E({type:u,group:"Components"}),d=E({type:s,group:"Components"}),B=E({type:c,group:"Components"}),D=E({type:c,group:"Components"}),v=E({type:c,group:"Components"}),z=E({type:c,group:"Components"}),w=E({type:c,group:"Components"}),b((S=i((L=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l))||this,o(i,"amount",S,n(i)),o(i,"isLocked",_,n(i)),o(i,"button",I,n(i)),o(i,"costDisplay",A,n(i)),o(i,"iconDisplay",U,n(i)),o(i,"amountDisplay",F,n(i)),o(i,"defaultBlock",x,n(i)),o(i,"tutorialBlock",N,n(i)),o(i,"amountBlock",P,n(i)),o(i,"addBoosterDisplay",R,n(i)),o(i,"lockDisplay",T,n(i)),i.onClick=new y,i}e(i,t);var l=i.prototype;return l.initialize=function(t,i){this.iconDisplay.spriteFrame=t.icon,this.costDisplay.string=i.toString()},l.updateAmountDisplay=function(t){this.amount=t,this.amountDisplay.string=t.toString(),this.isLocked||this.toggleDisplays(t)},l.toggleDisplays=function(t){0===t?(this.amountBlock.active=!1,this.addBoosterDisplay.active=!0):(this.amountBlock.active=!0,this.addBoosterDisplay.active=!1)},l.toggleTutorialDisplay=function(t){this.tutorialBlock.active=t,this.defaultBlock.active=!t},l.click=function(){this.isLocked||this.onClick.invoke()},l.lockBooster=function(){this.isLocked=!0,this.button.interactable=!1,this.lockDisplay.active=!0,this.defaultBlock.active=!1,this.amountBlock.active=!1,this.addBoosterDisplay.active=!1},l.unlockBooster=function(){this.isLocked=!1,this.button.interactable=!0,this.defaultBlock.active=!0,this.lockDisplay.active=!1,this.toggleDisplays(this.amount)},i}(p)).prototype,"amount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=i(L.prototype,"isLocked",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=i(L.prototype,"button",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(L.prototype,"costDisplay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(L.prototype,"iconDisplay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(L.prototype,"amountDisplay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(L.prototype,"defaultBlock",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(L.prototype,"tutorialBlock",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(L.prototype,"amountBlock",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(L.prototype,"addBoosterDisplay",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(L.prototype,"lockDisplay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SingleCompletedObjective.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,l,o,a,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Sprite,u=e.Node,p=e.Label,c=e.Component}],execute:function(){var s,m,y,f,b,g,d,h,v,S,z,C,w,D,_,k,B;l._RF.push({},"5f53euU+JNL/I4Eyq4wKef6","UI_SingleCompletedObjective",void 0);var A=o.ccclass,I=o.property;e("UI_SingleCompletedObjective",(s=A("UI_SingleCompletedObjective"),m=I({type:a,group:{name:"Components"}}),y=I({type:u,group:"Components"}),f=I({type:p,group:{name:"Components"}}),b=I({type:u,group:"Components"}),g=I({type:p,group:{name:"Components"}}),d=I(),h=I(),s((z=t((S=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,r(t,"displaySprite",z,n(t)),r(t,"successBlock",C,n(t)),r(t,"successValueDisplay",w,n(t)),r(t,"failBlock",D,n(t)),r(t,"failureValueDisplay",_,n(t)),r(t,"maxAmount",k,n(t)),r(t,"currentAmount",B,n(t)),t}return i(t,e),t.prototype.initialize=function(e,t,i,r){this.displaySprite.spriteFrame=e,this.maxAmount=i,this.successBlock.active=r,this.failBlock.active=!r,r?this.successValueDisplay.string=i.toString():this.failureValueDisplay.string=t.toString()+"/"+i.toString()},t}(c)).prototype,"displaySprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(S.prototype,"successBlock",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(S.prototype,"successValueDisplay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"failBlock",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(S.prototype,"failureValueDisplay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"maxAmount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(S.prototype,"currentAmount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=S))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SingleObjective.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI_AnimatedNumber.ts"],(function(e){var t,i,n,r,a,o,u,l,p,m,s,c,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,u=e.Sprite,l=e.ProgressBar,p=e.Label,m=e.UIOpacity,s=e.Node,c=e.math,h=e.Component},function(e){b=e.UI_AnimatedNumber}],execute:function(){var g,y,d,f,v,A,D,w,S,z,C,O,V,x,I,R,j,L,U,_,k,N,B,P,E,F,G,M,T,H,J;a._RF.push({},"b703dlEEGhA777xuJYP5EKZ","UI_SingleObjective",void 0);var K=o.ccclass,Y=o.property;e("UI_SingleObjective",(g=K("UI_SingleObjective"),y=Y({type:Boolean,group:{name:"Setting"}}),d=Y({type:Number,group:{name:"Setting"}}),f=Y({type:Number,group:{name:"Setting"}}),v=Y({type:Number,group:{name:"Runtime"}}),A=Y({type:Number,group:{name:"Runtime"}}),D=Y({type:Number,group:{name:"Runtime"}}),w=Y({type:Number,group:{name:"Runtime"}}),S=Y({type:u,group:{name:"Components"}}),z=Y({type:l,group:{name:"Components"}}),C=Y({type:b,group:{name:"Components"}}),O=Y({type:p,group:{name:"Components"}}),V=Y({type:m,group:{name:"Components"}}),x=Y({type:s,group:{name:"Components"}}),I=Y(),g((L=t((j=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"showRemaingValue",L,r(t)),n(t,"shakeInitialDelay",U,r(t)),n(t,"shakeInterval",_,r(t)),n(t,"id",k,r(t)),n(t,"maxAmount",N,r(t)),n(t,"currentAmount",B,r(t)),n(t,"remainingValue",P,r(t)),n(t,"displaySprite",E,r(t)),n(t,"progressBar",F,r(t)),n(t,"minDisplay",G,r(t)),n(t,"maxDisplay",M,r(t)),n(t,"group",T,r(t)),n(t,"completedDisplay",H,r(t)),n(t,"hasShakeAnimation",J,r(t)),t.amountUpdatedLambda=void 0,t.handleOnObjectiveCompletedLambda=void 0,t}i(t,e);var a=t.prototype;return a.initialize=function(e,t,i,n){var r=this;void 0===n&&(n=!1),this.id=e,this.displaySprite.spriteFrame=t,this.maxDisplay.string=i.toString(),this.maxAmount=i,this.currentAmount=0,this.hasShakeAnimation=n,this.minDisplay.updateValue(this.maxAmount,!0),this.minDisplay.node.active=!0,this.completedDisplay.active=!1,this.updateCurrentAmount(this.currentAmount),this.amountUpdatedLambda=function(e){r.updateCurrentAmount(e)},this.handleOnObjectiveCompletedLambda=function(){r.handleOnObjectiveCompleted()},this.minDisplay.onEndGoalReached.addListener(this.handleOnObjectiveCompletedLambda)},a.updateCurrentAmount=function(e){this.currentAmount=e,this.showRemaingValue?(this.remainingValue=this.maxAmount-this.currentAmount,this.remainingValue=Math.max(this.remainingValue,0),this.minDisplay.updateValue(this.remainingValue,!1),this.remainingValue):(this.minDisplay.updateValue(e,!1),this.updateCurrentPercentage())},a.handleOnObjectiveCompleted=function(){this.showRemaingValue&&(this.hasShakeAnimation=!1,this.minDisplay.node.active=!1,this.completedDisplay.active=!0)},a.updateCurrentPercentage=function(){var e=c.inverseLerp(0,this.maxAmount,this.currentAmount);this.progressBar.progress=e},a.setAlpha=function(e){this.group.opacity=e},a.animateUpObjective=function(){this.group.opacity=255},a.getRectTarget=function(){return this.displaySprite.node},t}(h)).prototype,"showRemaingValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=t(j.prototype,"shakeInitialDelay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),_=t(j.prototype,"shakeInterval",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),k=t(j.prototype,"id",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(j.prototype,"maxAmount",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(j.prototype,"currentAmount",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(j.prototype,"remainingValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(j.prototype,"displaySprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(j.prototype,"progressBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(j.prototype,"minDisplay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(j.prototype,"maxDisplay",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(j.prototype,"group",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(j.prototype,"completedDisplay",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"hasShakeAnimation",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=j))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI_StreakBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,n,i,a,o,u,s,l,p;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,n=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){a=r.cclegacy,o=r._decorator,u=r.ProgressBar,s=r.Label,l=r.math,p=r.Component}],execute:function(){var c,m,g,y,f,h,b,A,x,B,d,v,z;a._RF.push({},"a1c63O533FEZLV63kx1YxgQ","UI_StreakBar",void 0);var D=o.ccclass,_=o.property;r("UI_StreakBar",(c=D("UI_StreakBar"),m=_({type:u,group:{name:"Components"}}),g=_({type:s,group:{name:"Components"}}),y=_({type:s,group:{name:"Components"}}),f=_(),h=_(),c((x=t((A=function(r){function t(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=r.call.apply(r,[this].concat(a))||this,n(t,"progressBar",x,i(t)),n(t,"minDisplay",B,i(t)),n(t,"maxDisplay",d,i(t)),n(t,"maxAmount",v,i(t)),n(t,"currentAmount",z,i(t)),t}e(t,r);var a=t.prototype;return a.initialize=function(r,t){console.log("UI_StreakBar.initialize: current="+r+", max="+t),this.currentAmount=r,this.maxAmount=t,this.maxDisplay.string=t.toString(),this.updateCurrentAmount(this.currentAmount)},a.updateCurrentAmount=function(r){this.currentAmount=r,this.minDisplay.string=r.toString(),this.updateCurrentPercentage()},a.updateCurrentPercentage=function(){var r=l.inverseLerp(0,this.maxAmount,this.currentAmount);this.progressBar.progress=r},t}(p)).prototype,"progressBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(A.prototype,"minDisplay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(A.prototype,"maxDisplay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(A.prototype,"maxAmount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(A.prototype,"currentAmount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=A))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI_StreakDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./UI_StreakBar.ts","./MetagameController.ts","./Singleton.ts","./ProgressController.ts"],(function(e){var t,r,n,a,o,i,s,l,u,p,c,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,s=e._decorator,l=e.Label,u=e.Component},null,function(e){p=e.UI_StreakBar},function(e){c=e.MetagameController},function(e){g=e.Singleton},function(e){d=e.ProgressController}],execute:function(){var y,b,S,h,k,f,m,D,_;i._RF.push({},"f6f454XyshPFIcbcW01Ez3m","UI_StreakDisplay",void 0);var C=s.ccclass,v=s.property;e("UI_StreakDisplay",(y=C("UI_StreakDisplay"),b=v({group:"Debug"}),S=v({group:"Debug"}),h=v({type:p,group:"Components"}),k=v({type:l,group:"Components"}),y((t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bar",D,a(t)),n(t,"numberDisplay",_,a(t)),t.onStreakChangedLambda=void 0,t}r(t,e);var i=t.prototype;return i.start=function(){var e=this;this.onStreakChangedLambda=function(t){e.handleStreakChanged(t)};var t=g.get(c).getMaxStreak(),r=d.currentStreak;d.gameProgress.onStreakChanged.addListener(this.onStreakChangedLambda),this.bar.initialize(r,t),this.updateDisplay(r,!1)},i.onDestroy=function(){d.gameProgress.onStreakChanged.removeListener(this.onStreakChangedLambda)},i.handleStreakChanged=function(e){console.log("UI_GoldDisplay.handleGoldChanged: "+e),this.updateDisplay(e)},i.updateDisplay=function(e,t){this.numberDisplay.string=e.toString(),this.bar.updateCurrentAmount(e)},o(t,[{key:"debug_AddStreak",get:function(){return!1},set:function(e){console.log("IncreaseVictoryStreak"),d.Metagame_IncreaseVictoryStreak()}},{key:"debug_ResetStreak",get:function(){return!1},set:function(e){console.log("ResetVictoryStreak"),d.Metagame_ResetVictoryStreak()}}]),t}(u)).prototype,"debug_AddStreak",[b],Object.getOwnPropertyDescriptor(m.prototype,"debug_AddStreak"),m.prototype),t(m.prototype,"debug_ResetStreak",[S],Object.getOwnPropertyDescriptor(m.prototype,"debug_ResetStreak"),m.prototype),D=t(m.prototype,"bar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"numberDisplay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_VictoryRewardsDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a,l,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,s=e.Node,c=e.Vec3,u=e.tween,p=e.Component}],execute:function(){var y,d,g,f,w,m,b;o._RF.push({},"303e41EX59L+5s3A32une4L","UI_VictoryRewardsDisplay",void 0);var h=a.ccclass,D=a.property;e("UI_VictoryRewardsDisplay",(y=h("UI_VictoryRewardsDisplay"),d=D({type:l,group:{name:"Components"}}),g=D({type:s,group:{name:"Components"}}),y((m=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"goldAmountDisplay",m,i(t)),r(t,"goldParent",b,i(t)),t}n(t,e);var o=t.prototype;return o.initialize=function(e){this.goldParent.scale=new c(0,0,0),this.goldAmountDisplay.string=e.toString()},o.fadeInRewards=function(e){u(this.goldParent).to(.75*e,{scale:new c(1.2,1.2,1.2)},{easing:"backOut"}).to(.25*e,{scale:new c(1,1,1)},{easing:"backIn"}).start()},t}(p)).prototype,"goldAmountDisplay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(w.prototype,"goldParent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=w))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/UI_WatchAdPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayController.ts","./index2.ts","./APIController.ts","./MetagameController.ts","./Singleton.ts","./ProgressController.ts"],(function(t){var e,o,n,r,i,a,l,p,u,s,c,g,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,l=t.Node,p=t.Label,u=t.Component},function(t){s=t.GameplayController},null,function(t){c=t.APIController},function(t){g=t.MetagameController},function(t){d=t.Singleton},function(t){h=t.ProgressController}],execute:function(){var f,P,y,m,A,C,v,b,_;i._RF.push({},"69884wLlNhPkLtLCiXzoYrS","UI_WatchAdPopup",void 0);var w=a.ccclass,I=a.property;t("UI_WatchAdPopup",(f=w("UI_WatchAdPopup"),P=I({type:l,group:"Components"}),y=I({type:l,group:"Components"}),m=I({type:p,group:"Components"}),f((v=e((C=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"popupParent",v,r(e)),n(e,"plusButton",b,r(e)),n(e,"amountDisplay",_,r(e)),e}o(e,t);var i=e.prototype;return i.openPopup=function(){this.popupParent.active=!0,this.plusButton.active=!1,this.amountDisplay.string=d.get(g).getAdRewardGold().toString(),d.get(s).togglePause(!0)},i.hidePopup=function(){this.popupParent.active=!1,this.plusButton.active=!0,d.get(s).togglePause(!1)},i.confirmWatchAd=function(){var t=this;d.get(c).rewardedBreak((function(){return t.onAdFinished()}),"UI_WatchAdPopup")},i.onAdFinished=function(){h.Metagame_GainGold(d.get(g).getAdRewardGold()),this.hidePopup()},e}(u)).prototype,"popupParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(C.prototype,"plusButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(C.prototype,"amountDisplay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=C))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueHashGenerator.ts",["cc"],(function(e){var n,r;return{setters:[function(e){n=e.cclegacy,r=e._decorator}],execute:function(){var t,x;n._RF.push({},"5d3b4dMxXhAFZJaQLoiiGLY","UniqueHashGenerator",void 0);var a=r.ccclass;r.property,e("UniqueHashGenerator",a("UniqueHashGenerator")(((x=function(){function e(){}return e.generateUniqueHashId=function(){var e;return(e=this.generateGUID()).substring(0,Math.min(8,e.length))},e.generateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))},e}()).hashList=[],t=x))||t);n._RF.pop()}}}));

System.register("chunks:///_virtual/UnlitMasterNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MasterNode.ts","./utils.ts","./index4.ts","./context.ts","./register.ts"],(function(e){var t,o,n,r,s,a,l,c,i,u,f;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy,r=e.Vec3,s=e.Vec4},function(e){a=e.MasterSlotType,l=e.default},function(e){c=e.slot,i=e.path},null,function(e){u=e.shaderContext},function(e){f=e.register}],execute:function(){var p;n._RF.push({},"f3fa2kI6ulBJKyUfbfTCT2P","UnlitMasterNode",void 0);e("default",f({title:"Unlit",master:!0})(p=function(e){function n(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))||this).data={inputs:[c("Vertex Position",r.ZERO,"vec3","vector",{slotType:a.Vertex,codeChunk:0}),c("Vertex Normal",r.ZERO,"vec3","vector",{slotType:a.Vertex,codeChunk:0}),c("Vertex Tangent",r.ZERO,"vec3","vector",{slotType:a.Vertex,codeChunk:0}),c("BaseColor",new s(.5,.5,.5,.5),"color","vector",{slotType:a.Fragment,codeChunk:3}),c("Alpha",1,"float","vector",{slotType:a.Fragment,codeChunk:3}),c("AlphaClipThreshold",0,"float","vector",{slotType:a.Fragment,codeChunk:3})]},t}return t(n,e),n.generatePreviewCode=function(e){var t=new n;t.init();var o=t.getSlotWithSlotName("BaseColor");return o&&(o.connectSlots[0]=e.outputs[0]),t.generateCode()},o(n,[{key:"templatePath",get:function(){return i.join(u.shaderTemplatesDir,"master/UnlitMasterNode.effect")}}]),n}(l))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/UnscaledOpacityTween.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./Game.ts"],(function(t){var e,n,i,a,o,c,r,s,l,u,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.UIOpacity,s=t.tween,l=t.director,u=t.Director,p=t.Component},null,function(t){d=t.Game}],execute:function(){var h,f,T,y,w,_;o._RF.push({},"48a85jFmL1J7odN1JJMVlmf","UnscaledOpacityTween",void 0);var m=c.ccclass,g=c.property;t("UnscaledOpacityTween",(h=m("UnscaledOpacityTween"),f=g(r),h((w=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"targetOpacity",w,a(e)),i(e,"duration",_,a(e)),e._tween=null,e._accumulatedTime=0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.targetOpacity||(this.targetOpacity=this.getComponent(r))},o.fadeTo0=function(){console.log("fadeTo0"),this.fadeTo(0)},o.fadeTo=function(t){var e=this;console.log("fadeTo"),this.stopTween();var n={alpha:this.targetOpacity.opacity};this._tween=s(n).to(this.duration,{alpha:t},{onUpdate:function(){e.targetOpacity.opacity=n.alpha}}).start(),l.on(u.EVENT_AFTER_UPDATE,this.updateUnscaledTween,this)},o.updateUnscaledTween=function(){if(this._tween){console.log("updateUnscaledTween()");var t=d.deltaTime;this._accumulatedTime+=t,this._tween._update(this._accumulatedTime),this._accumulatedTime=0}},o.stopTween=function(){this._tween&&(this._tween.stop(),this._tween=null),l.off(u.EVENT_AFTER_UPDATE,this.updateUnscaledTween,this)},o.onDestroy=function(){this.stopTween()},e}(p)).prototype,"targetOpacity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(y.prototype,"duration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=y))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc","./env","./type.ts"],(function(e){var t,r,n;return{setters:[function(e){t=e.cclegacy},function(e){r=e.EDITOR},function(e){n=e.TextureConcretePrecision}],execute:function(){e({ensureEnumDefines:function(e,t){return l(e).forEach((function(r){var n=f(e,e[r]);t.includes(n)||(t+="#define "+n+" 0\n")})),t},getEnumDefine:function(e,t){return"#define "+f(e,t)+" 1"},getEnumDefineName:f,getEnumNames:l,getFloatString:o,getJsonObject:function(e){var t;try{t=JSON.parse(e)}catch(e){console.error(e)}return t},getPrecisionName:function(e,t){var r="";"boolean"===t?r="bool":1===e?r="float":2===e?r="vec2":3===e?r="vec3":4===e?r="vec4":e===n.Texture2D?r="sampler2D":e===n.TextureCube&&(r="samplerCube");return r},getValueConcretePrecision:function(e){var t=1;"object"==typeof e&&(void 0!==e.w||void 0!==e.a?t=4:void 0!==e.z||void 0!==e.b?t=3:void 0!==e.y||void 0!==e.g?t=2:void 0!==e.m_SerializedTexture?t=n.Texture2D:void 0!==e.m_SerializedCubemap&&(t=n.TextureCube));return t},getValueElement:s,getValueElementStr:function(e,t){return o(s(e,t))},prop:function(e,t,r,n){void 0===n&&(n={});var i={display:e,default:t,type:r};return Object.assign(i,n),i},slot:function(e,t,r,n,i){void 0===i&&(i={});var o={display:e,default:t,type:r,connectType:n};return Object.assign(o,i),o}}),t._RF.push({},"7ceabXBz/tABa7CTXDAMxJn","utils",void 0);var i=globalThis.electron;e("Editor",i&&globalThis.Editor),e("projectPath",r),e("fs",i&&globalThis.require("fs-extra")),e("path",i&&globalThis.require("path"));function o(e){if("number"!=typeof e)return e;var t=e+"";return t.includes(".")||(t+="."),t}var u=["x","y","z","w"],a=["r","g","b","a"],c=["e00","e01","e02","e03"];function s(e,t){return"number"==typeof e?e:(void 0!==e.x?r=u:void 0!==e.r?r=a:void 0!==e.e00&&(r=c),e[r[t]]||0);var r}function l(e){var t=Object.getOwnPropertyNames(e);return t=t.filter((function(e){return Number.isNaN(Number.parseFloat(e))&&"_name"!==e}))}function f(e,t){return("CC_"+e._name.replace("Space","")+"_"+e[t]).toUpperCase()}t._RF.pop()}}}));

System.register("chunks:///_virtual/uv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,n,r,o,i,u,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec2},function(e){o=e.ShaderNode},function(e){i=e.ConcretePrecisionType},function(e){u=e.prop,c=e.slot},null,function(e){s=e.register}],execute:function(){var a;n._RF.push({},"95b7bSNki1Ba5Pk4AQXXcG5","uv",void 0);e("default",s({menu:"Input/Geometry/UV",title:"UV"})(a=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=i.Fixed,t.fixedConcretePrecision=2,t.data={props:[u("Channel",0,"float")],outputs:[c("UV",new r,"vec2","vector")]},t}return t(n,e),n.prototype.generateCode=function(){var e=this.getPropWithName("Channel");if(!e)return console.warn("UV Node generate code undefined"),"";var t="v_uv"+(e.value>0?e.value:"");return this.getOutputVarDefine(0)+" = "+t+";"},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/vector2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,c,r,o,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t.Vec2},function(t){r=t.register},function(t){o=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"7f058nmp+ZIQ6FPIyLJ3wpK","vector2",void 0);t("default",r({menu:"Input/Basic/Vector2",title:"Vector2"})(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).concretePrecisionType=i.Fixed,e.data={inputs:[u("X",0,"float","vector"),u("Y",0,"float","vector")],outputs:[u("Out",c.ZERO,"vec2","vector")]},e}e(n,t);var r=n.prototype;return r.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},r.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1);return"\n            "+this.getOutputVarDefine(0)+" = vec2("+t+", "+e+");\n        "},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/vector3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,c,r,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec3},function(t){c=t.register},function(t){r=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"99486WpmApIPoULZGXK9dCS","vector3",void 0);t("default",c({menu:"Input/Basic/Vector3",title:"Vector3"})(s=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))||this).concretePrecisionType=i.Fixed,e.data={inputs:[u("X",0,"float","vector"),u("Y",0,"float","vector"),u("Z",0,"float","vector")],outputs:[u("Out",o.ZERO,"vec3","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1),n=this.getInputValue(2);return"\n            "+this.getOutputVarDefine(0)+" = vec3("+t+", "+e+", "+n+");\n        "},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/vector4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./register.ts","./base.ts","./type.ts","./utils.ts"],(function(t){var e,n,o,c,r,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec4},function(t){c=t.register},function(t){r=t.ShaderNode},function(t){i=t.ConcretePrecisionType},function(t){u=t.slot}],execute:function(){var s;n._RF.push({},"4e4e9VghSdMAohxS4AJDF0m","vector4",void 0);t("default",c({menu:"Input/Basic/Vector4",title:"Vector4"})(s=function(t){function n(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))||this).concretePrecisionType=i.Fixed,e.data={inputs:[u("X",0,"float","vector"),u("Y",0,"float","vector"),u("Z",0,"float","vector"),u("W",0,"float","vector")],outputs:[u("Out",o.ZERO,"vec4","vector")]},e}e(n,t);var c=n.prototype;return c.calcConcretePrecision=function(){t.prototype.calcConcretePrecision.call(this)},c.generateCode=function(){var t=this.getInputValue(0),e=this.getInputValue(1),n=this.getInputValue(2),o=this.getInputValue(3);return"\n            "+this.getOutputVarDefine(0)+" = vec4("+t+", "+e+", "+n+", "+o+");\n        "},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/VectorUtils.ts",["cc"],(function(t){var e,n,r;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.Vec2}],execute:function(){var c;e._RF.push({},"d293fgaSdlIWJAsxKAmNAAw","VectorUtils",void 0);var o=n.ccclass;n.property,t("VectorUtils",o("VectorUtils")(c=function(){function t(){}return t.signedAngle2d=function(t,e){var n=t.clone().normalize(),r=e.clone().normalize(),c=this.angle2d(t,e),o=n.x*r.y-n.y*r.x;return c*Math.sign(o)},t.angle2d=function(t,e){var n=t.clone().normalize(),c=e.clone().normalize();return 180*Math.acos(r.dot(n,c))/Math.PI},t}())||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/vertex-color.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,n,r,o,c,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Vec4},function(e){o=e.ShaderNode},function(e){c=e.ConcretePrecisionType},function(e){i=e.slot},null,function(e){u=e.register}],execute:function(){var s;n._RF.push({},"57f73xnQclNJoH/LZDbCo8N","vertex-color",void 0);e("default",u({menu:"Input/Geometry/VertexColor",title:"VertexColor"})(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t=e.call.apply(e,[this].concat(o))||this).concretePrecisionType=c.Fixed,t.fixedConcretePrecision=4,t.data={outputs:[i("Out",new r,"vec4","vector")]},t}return t(n,e),n.prototype.generateCode=function(){return this.getOutputVarDefine(0)+" = FSInput_vertexColor;"},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/view-direction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./base.ts","./type.ts","./utils.ts","./index4.ts","./register.ts"],(function(e){var t,i,n,r,o,c,u,s,a,l,p;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,r=e.Vec3},function(e){o=e.ShaderNode},function(e){c=e.ViewDirSpace,u=e.ConcretePrecisionType},function(e){s=e.getEnumDefine,a=e.prop,l=e.slot},null,function(e){p=e.register}],execute:function(){var f;n._RF.push({},"fbe73AP6NxBTqOrL07ng2zD","view-direction",void 0);e("default",p({menu:"Input/Geometry/ViewDirection",title:"ViewDirection"})(f=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).concretePrecisionType=u.Fixed,t.fixedConcretePrecision=3,t.data={props:[a("Space",c.World,"enum",{enum:c})],outputs:[l("ViewDirection",new r,"vec3","vector")]},t}return t(n,e),n.prototype.generateCode=function(){var e=this.getPropWithName("Space"),t="view";return e.value===c.Local?t="view":e.value===c.View?t="viewView":e.value===c.World&&(t="worldView"),this.defines=[s(c,e.value)],this.getOutputVarDefine(0)+" = "+t+";"},i(n,[{key:"type",get:function(){return"ViewDirection"}}]),n}(o))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/Wait.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"657060zw8dJbo3z/8IvaK/H","Wait",void 0);n("Wait",function(){function n(){}return n.seconds=function(n){return new Promise((function(t){return setTimeout(t,1e3*n)}))},n.milliseconds=function(n){return new Promise((function(t){return setTimeout(t,n)}))},n.until=function(n,t){return void 0===t&&(t=100),new Promise((function(e){!function i(){n()?e():setTimeout(i,t)}()}))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/WaitCommand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./AsyncCommand.ts","./CommandDecorator.ts","./Wait.ts"],(function(n){var t,e,r,i,o,a,c,s,u,l,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized,o=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator},null,function(n){u=n.AsyncCommand},function(n){l=n.commandclass},function(n){m=n.Wait}],execute:function(){var p,d,f,y,h;c._RF.push({},"e4716C0KHFAE6LB5HJkyUtM","WaitCommand",void 0);s.ccclass;var v=s.property;n("WaitCommand",(p=l("WaitCommand"),d=v({visible:function(){return!1}}),p((h=t((y=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,r(t,"waitUntilFinished",h,i(t)),t}return e(t,n),t.prototype.execute=function(){var n=o(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.seconds(this.duration);case 2:console.log("Executing async command");case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(u)).prototype,"waitUntilFinished",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=y))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/WoodObstacleSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HexSlot.ts","./WoodObstacleVisual.ts","./index2.ts","./ObjectivesController.ts","./LevelAsset.ts","./Singleton.ts"],(function(t){var e,o,n,i,r,a,l,s,c,u,d,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.math,s=t.Component},function(t){c=t.HexSlot},function(t){u=t.WoodObstacleVisual},null,function(t){d=t.ObjectivesController},function(t){p=t.ObjectiveType},function(t){m=t.Singleton}],execute:function(){var h,b,g,f,v,S,A,w,x,y,j;r._RF.push({},"29e8asksAtLHKDNkfTWxcmJ","WoodObstacleSlot",void 0);var O=a.ccclass,W=a.property;t("WoodObstacleSlot",(h=O("WoodObstacleSlot"),b=W(),g=W(),f=W({type:c}),v=W({type:u}),h((w=e((A=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"currentAmount",w,i(e)),n(e,"maxAmount",x,i(e)),n(e,"targetSlot",y,i(e)),n(e,"woodVisual",j,i(e)),e.onAdjacentTowerExplodedLambda=void 0,e}o(e,t);var r=e.prototype;return r.initialize=function(t){console.log("WoodObstacleSlot.initialize("+t+")"),t=l.clamp(t,1,3),this.maxAmount=t,this.currentAmount=t,this.targetSlot=this.node.getComponent(c),this.woodVisual=this.targetSlot.visualControl.pieces[0].getComponent(u),this.woodVisual.initialize(t),this.setEvents()},r.onDestroy=function(){this.targetSlot.onAdjacentTowerExploded.removeListener(this.onAdjacentTowerExplodedLambda)},r.editor_RefreshVisual=function(t){t=l.clamp(t,1,3),this.targetSlot=this.node.getComponent(c),this.woodVisual=this.targetSlot.visualControl.pieces[0].getComponent(u),this.woodVisual.initialize(t)},r.setEvents=function(){var t=this;this.onAdjacentTowerExplodedLambda=function(){t.removeWoodStack()},this.targetSlot.onAdjacentTowerExploded.addListener(this.onAdjacentTowerExplodedLambda)},r.removeWoodStack=function(){console.log("WoodObstacleSlot.removeWoodStack() ["+this.node.name+"]"),this.currentAmount--,this.currentAmount=Math.max(0,this.currentAmount),this.currentAmount<=0?(this.targetSlot.onAdjacentTowerExploded.removeListener(this.onAdjacentTowerExplodedLambda),this.currentAmount,this.woodVisual.removeVisual(),this.targetSlot.removeObstacle(),m.get(d).addObjectiveProgress(p.DestroyWood,1)):this.woodVisual.removeTopPiece()},e}(s)).prototype,"currentAmount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=e(A.prototype,"maxAmount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=e(A.prototype,"targetSlot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(A.prototype,"woodVisual",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/WoodObstacleVisual.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,o,s,a,c,u,l,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Prefab,c=e.Node,u=e.instantiate,l=e.director,p=e.Component}],execute:function(){var h,d,f,v,b,y,m,g,P;o._RF.push({},"d8a95ot0ZFMm6OR5kHxGFLx","WoodObstacleVisual",void 0);var V=s.ccclass,F=s.property;e("WoodObstacleVisual",(h=V("WoodObstacleVisual"),d=F(a),f=F({type:[c],group:"Runtime"}),v=F({type:Number,group:"Runtime"}),h((m=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,r(i,"vanishVFX",m,n(i)),r(i,"pieces",g,n(i)),r(i,"currentId",P,n(i)),i}t(i,e);var o=i.prototype;return o.initialize=function(e){for(var i=0;i<e;i++)this.pieces[i].active=!0;for(var t=e;t<this.pieces.length;t++)this.pieces[t].active=!1;this.currentId=e-1},o.removeTopPiece=function(){this.pieces[this.currentId].active=!1,this.pieces.splice(this.currentId),this.currentId--},o.removeVisual=function(){if(this.removeTopPiece(),null!==this.vanishVFX){var e=u(this.vanishVFX);e.setParent(l.getScene()),e.setWorldPosition(this.node.worldPosition.x,this.node.worldPosition.y,this.node.worldPosition.z)}},i}(p)).prototype,"vanishVFX",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(y.prototype,"pieces",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(y.prototype,"currentId",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldToUIPosition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,s,c,l,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Camera,l=e.Vec3,u=e.UITransform,f=e.Component}],execute:function(){var m,p,d,h,b,g,y,C,v;o._RF.push({},"07b68cO7gBMRJ3mNKmUOc7y","WorldToUIPosition",void 0);var T=a.ccclass,w=a.property;e("WorldToUIPosition",(m=T("WorldToUIPosition"),p=w(s),d=w(c),h=w(l),m((y=t((g=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"target3DObject",y,r(t)),n(t,"mainCamera",C,r(t)),n(t,"offset",v,r(t)),t.uiTransform=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.uiTransform=this.node.getComponent(u),this.mainCamera||(this.mainCamera=this.node.scene.getComponentInChildren(c))},o.update=function(){if(this.target3DObject&&this.mainCamera){var e=new l;if(this.mainCamera.worldToScreen(e,this.target3DObject.worldPosition),l.add(e,e,this.offset),e.z<0)this.node.active=!1;else{this.node.active=!0;var t=new l;this.mainCamera.screenToWorld(t,e),this.node.setPosition(t)}}},t}(f)).prototype,"target3DObject",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(g.prototype,"mainCamera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"offset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,0,0)}}),b=g))||b));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});